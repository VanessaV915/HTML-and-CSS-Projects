f4c.prototype.k_=W(1384,function(a){oy(this.eb.jw(this.D),"docs-icon-comment-blank-highlighted",a)});j4c.prototype.k_=W(1383,function(a){var b=DI(this.D);this.C.Se(function(c){var d=a&&c.np().hb()==b;c.k_(d)})});g0b.prototype.kMa=W(1241,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||FG(h)&&d||KSe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||FG(c)&&d||KSe(c)))return c;return null});
Pla.prototype.$fa=W(7,function(){throw Hca("setValue not supported").C;});Sca.prototype.H=W(2,function(){throw Hca("remove").C;});uda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});Ola.prototype.H=W(0,function(){Zca(0<=this.F);Vla(this.J,this.L[this.F]);Wla(this.J);--this.F});function X9g(a,b){a.hU=b.hU;return a}
function Y9g(a,b,c,d){var e=0;Ra(a,b)&&(a=a.slice(e,e+d),e=0);var f=e;for(e+=d;f<e;){var h=Math.min(f+1E4,e);d=h-f;f=a.slice(f,h);f.splice(0,0,c,0);Array.prototype.splice.apply(b,f);f=h;c+=d}}function Z9g(a,b,c){for(a=a.ej();a.C();){var d=a.D();if(zb(b,d))return c&&a.H(),!0}return!1}function $9g(a,b,c){return a.Sg(b)?a.bya(b,c):null}function a$g(a,b){var c=b.Yq();b=b.Zq();var d=a.get(c);return!zb(b,d)||null==d&&!a.Sg(c)?!1:!0}function b$g(a){return a?a.Zq():null}
function c$g(a){if(a.F.C())return!0;if(!Ra(a.F,a.R))return!1;a.F=a.L.C.ej();return a.F.C()}function d$g(a,b){return(a=a.C.get(b))?a:[]}function e$g(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(zb(a,d.Yq()))return d}return null}function f$g(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function g$g(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}
function h$g(a,b){for(b=b.ej();b.C();){var c=b.D().Zq();if(zb(a,c))return!0}return!1}function i$g(){this.J=this.F=0}t(i$g,Qa);i$g.prototype.C=function(){return this.F<this.L.size()};i$g.prototype.D=function(){this.C();return this.L.Eqa(this.J=this.F++)};i$g.prototype.H=function(){this.L.Pia(this.J);this.F=this.J;this.J=-1};function j$g(){i$g.call(this)}t(j$g,i$g);function k$g(){this.J=!1}t(k$g,Qa);k$g.prototype.C=g("J");
k$g.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=c$g(this);return a};k$g.prototype.H=function(){this.O.H();this.O=null;this.J=c$g(this)};function l$g(){}t(l$g,Qa);l$g.prototype.C=function(){return this.F.C()};l$g.prototype.D=function(){return this.F.D().Zq()};l$g.prototype.H=function(){this.F.H()};function m$g(){}t(m$g,Qa);m$g.prototype.C=function(){return this.F.C()};m$g.prototype.D=function(){return this.F.D().Yq()};m$g.prototype.H=function(){this.F.H()};
function n$g(){this.F=this.J=0}t(n$g,Qa);n$g.prototype.C=function(){return this.J<this.L.C.length};n$g.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};n$g.prototype.H=function(){this.L.Pia(this.J=this.F);this.F=-1};function o$g(a){var b;null==a?b=0:b=Db(a)|0;return b}function p$g(a,b){for(var c=o$g(b),d=d$g(a,c),e=0;e<d.length;e++){var f=d[e];if(zb(b,f.Yq()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Zq()}return null}
function q$g(){this.F=0}t(q$g,Qa);q$g.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};q$g.prototype.D=function(){return this.L=this.J[this.F++]};q$g.prototype.H=function(){p$g(this.O,this.L.Yq());0!=this.F&&this.F--};function r$g(){this.D=0}t(r$g,Qa);r$g.prototype.ej=function(){var a=new q$g;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function s$g(a){var b=0;for(a=a.ej();a.C();){var c=a.D();b+=Xba(c);b|=0}return b}function t$g(){}t(t$g,Qa);t$g.prototype.equals=function(a){return null!=a&&a.O_?zb(this.Yq(),a.Yq())&&zb(this.Zq(),a.Zq()):!1};t$g.prototype.$j=function(){return Xba(this.Yq())^Xba(this.Zq())};t$g.prototype.toString=function(){return Ta(this.Yq())+"="+Ta(this.Zq())};t$g.prototype.O_=!0;function u$g(){this.F=0}t(u$g,t$g);u$g.prototype.Yq=function(){return this.C.value[0]};
u$g.prototype.Zq=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};u$g.prototype.$fa=function(a){return g$g(this.D,this.C.value[0],a)};function v$g(){}t(v$g,Qa);v$g.prototype.C=function(){return!this.J.done};v$g.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new u$g,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};v$g.prototype.H=function(){f$g(this.F,this.O.value[0])};function w$g(){this.D=this.F=0}t(w$g,Qa);
w$g.prototype.ej=function(){var a=new v$g;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function x$g(a){var b=new r$g;b.C=new Map;b.F=a;a.C=b;b=new w$g;b.C=new Map;b.H=a;a.D=b}function y$g(a,b){return Ra(b,a)?"(this Map)":Ta(b)}function z$g(){}t(z$g,Qa);z$g.prototype.toString=function(){return this.C?Yb(this.D)?this.C.toString():Ta(this.C.toString())+Ta(this.D):this.J};function A$g(a,b){var c=new z$g;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ta(c.F)+Ta(c.D);return c}
function B$g(a,b){a.C?Ib(a.C,a.H):a.C=eca(a.F);a=a.C;a.Or=Ta(a.Or)+Ta(b)}function C$g(){}t(C$g,Qa);m=C$g.prototype;m.Yq=g("D");m.Zq=g("C");m.$fa=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.O_?zb(this.D,a.Yq())&&zb(this.C,a.Zq()):!1};m.$j=function(){return Xba(this.D)^Xba(this.C)};m.toString=function(){return Ta(this.D)+"="+Ta(this.C)};m.O_=!0;function D$g(){}t(D$g,C$g);function E$g(a,b){var c=new D$g;c.D=a;c.C=b;return c}
function F$g(a,b,c){var d=o$g(b),e=d$g(a,d);if(0==e.length)a.C.set(d,e);else if(d=e$g(b,e))return d.$fa(c);e[e.length]=E$g(b,c);a.D++;return null}function G$g(a,b,c){for(a=a.fI().ej();a.C();){var d=a.D();if(zb(b,d.Yq()))return c&&(d=E$g(d.Yq(),d.Zq()),a.H()),d}return null}function H$g(){}t(H$g,Qa);m=H$g.prototype;m.add=function(){throw Hca("Add not supported on this collection").C;};m.addAll=function(a){var b=!1;for(a=a.ej();a.C();){var c=a.D();b=!!(+b|+this.add(c))}return b};
m.clear=function(){for(var a=this.ej();a.C();)a.D(),a.H()};m.contains=function(a){return Z9g(this,a,!1)};m.K4b=function(a){for(a=a.ej();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return Z9g(this,a,!0)};m.Fc=function(a){for(var b=!1,c=this.ej();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Ff=function(){return this.oUa(Array(this.size()))};
m.oUa=function(a){var b=this.size();a.length<b&&(a=X9g(Array(b),a));for(var c=a,d=this.ej(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};m.toString=function(){for(var a=A$g("[","]"),b=this.ej();b.C();){var c=b.D();B$g(a,Ra(c,this)?"(this Collection)":Ta(c))}return a.toString()};function I$g(){}t(I$g,H$g);I$g.prototype.clear=function(){this.C.clear()};I$g.prototype.contains=function(a){return this.C.Tu(a)};I$g.prototype.ej=function(){var a=this.C.fI().ej(),b=new l$g;b.F=a;return b};
I$g.prototype.size=function(){return this.C.size()};function J$g(){}t(J$g,H$g);J$g.prototype.equals=function(a){return Ra(a,this)?!0:null!=a&&a.FDa?a.size()!=this.size()?!1:this.K4b(a):!1};J$g.prototype.$j=function(){return s$g(this)};J$g.prototype.Fc=function(a){var b=this.size();if(b<a.size())for(var c=this.ej();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.ej();a.C();)c=a.D(),this.remove(c);return b!=this.size()};J$g.prototype.FDa=!0;function K$g(){}t(K$g,J$g);m=K$g.prototype;m.clear=function(){this.C.clear()};
m.contains=function(a){return null!=a&&a.O_?a$g(this.C,a):!1};m.ej=function(){var a=new k$g;a.L=this.C;a.R=a.L.D.ej();a.F=a.R;a.J=c$g(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Yq()),!0):!1};m.size=function(){return this.C.size()};function L$g(){}t(L$g,J$g);m=L$g.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Sg(a)};m.ej=function(){var a=this.C.fI().ej(),b=new m$g;b.F=a;return b};
m.remove=function(a){return this.C.Sg(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function M$g(){}t(M$g,Qa);m=M$g.prototype;m.clear=function(){this.fI().clear()};m.Sg=function(a){return!!G$g(this,a,!1)};m.Tu=function(a){for(var b=this.fI().ej();b.C();){var c=b.D().Zq();if(zb(a,c))return!0}return!1};m.equals=function(a){if(Ra(a,this))return!0;if(null==a||!a.d5a||this.size()!=a.size())return!1;for(a=a.fI().ej();a.C();){var b=a.D();if(!a$g(this,b))return!1}return!0};
m.get=function(a){return b$g(G$g(this,a,!1))};m.$j=function(){return s$g(this.fI())};m.isEmpty=function(){return 0==this.size()};m.SPb=function(){var a=new L$g;a.C=this;return a};m.bya=function(){throw Hca("Put not supported on this map").C;};m.remove=function(a){return b$g(G$g(this,a,!0))};m.size=function(){return this.fI().size()};m.toString=function(){for(var a=A$g("{","}"),b=this.fI().ej();b.C();){var c=b.D();c=Ta(y$g(this,c.Yq()))+"="+Ta(y$g(this,c.Zq()));B$g(a,c)}return a.toString()};
m.values=function(){var a=new I$g;a.C=this;return a};m.replace=function(a,b){return $9g(this,a,b)};m.d5a=!0;function N$g(){}t(N$g,M$g);m=N$g.prototype;m.clear=function(){x$g(this)};m.Sg=function(a){var b;$b(a)?b=null==a?!!e$g(null,d$g(this.C,o$g(null))):void 0!==this.D.C.get(a):b=!!e$g(a,d$g(this.C,o$g(a)));return b};m.Tu=function(a){return h$g(a,this.D)||h$g(a,this.C)};m.fI=function(){var a=new K$g;a.C=this;return a};
m.get=function(a){var b;$b(a)?b=null==a?b$g(e$g(null,d$g(this.C,o$g(null)))):this.D.C.get(a):b=b$g(e$g(a,d$g(this.C,o$g(a))));return b};m.bya=function(a,b){var c;$b(a)?c=null==a?F$g(this.C,null,b):g$g(this.D,a,b):c=F$g(this.C,a,b);return c};m.remove=function(a){var b;$b(a)?b=null==a?p$g(this.C,null):f$g(this.D,a):b=p$g(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return $9g(this,a,b)};function O$g(){}t(O$g,N$g);
O$g.prototype.replace=function(a,b){return $9g(this,a,b)};function P$g(){}t(P$g,H$g);m=P$g.prototype;m.add=function(a){this.hFa(this.size(),a);return!0};m.hFa=function(){throw Hca("Add not supported on this list").C;};m.clear=function(){this.nUa(0,this.size())};m.equals=function(a){if(Ra(a,this))return!0;if(null==a||!a.EDa||this.size()!=a.size())return!1;a=a.ej();for(var b=this.ej();b.C();){var c=b.D(),d=a.D();if(!zb(c,d))return!1}return!0};
m.$j=function(){for(var a=1,b=this.ej();b.C();){var c=b.D();a=31*a+Xba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(zb(a,this.Eqa(b)))return b;return-1};m.ej=function(){var a=new i$g;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(zb(a,this.Eqa(b)))return b;return-1};m.Pia=function(){throw Hca("Remove not supported on this list").C;};
m.nUa=function(a,b){var c=new j$g;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.EDa=!0;function Q$g(){}t(Q$g,P$g);m=Q$g.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.hFa=function(a,b){this.C.splice(a,0,b)};m.addAll=function(a){a=a.Ff();if(0==a.length)return!1;Y9g(a,this.C,this.C.length,a.length);return!0};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.Eqa=function(a){return this.C[a]};
m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};m.ej=function(){var a=new n$g;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};m.Pia=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Pia(a);return!0};m.size=function(){return this.C.length};
m.Ff=function(){var a=this.C;return X9g(a.slice(0,this.C.length),a)};m.oUa=function(a){var b=this.C.length;a.length<b&&(a=X9g(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.nUa=function(a,b){this.C.splice(a,b-a)};m.EDa=!0;function R$g(a){var b=new vta;return Yj(b,6,a)}function S$g(){var a=px.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function T$g(a){a.h1a=!1;a.g1a=!1}
function U$g(a){var b=new hm;a.C.forEach(function(c){c.isEmpty()||b.addAll(c.Ad())});return b.Ad()}function V$g(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Qm(k,h));return!0});return e}function W$g(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Qm(h,f),!0):!1});return d}function X$g(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?V$g(a,!!b,d,e):W$g(a,d,e)}
function Y$g(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),Gp(a.D.childNodes[1],b))}function Z$g(a,b,c){a.C.highlightDoco(vR(a.D,b),null==c?void 0:c)}function $$g(a,b){var c={},d;for(d in b){var e=vR(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function aah(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function y4(a){return a.C.hasUnpostedDocos()}
function bah(){}t(bah,J$g);m=bah.prototype;m.add=function(a){return null==this.C.bya(a,this)};m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Sg(a)};m.isEmpty=function(){return this.C.isEmpty()};m.ej=function(){return this.C.SPb().ej()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.FDa=!0;function cah(a,b){return!(!a.D[b]&&!a.J[b])}
function dah(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new qsf(c,a.H):rsf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||psf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Rrf(d.D.metadata,d.F):Xrf),e=b(d.C));if(e)return d.getUrl()}}return null}function eah(a){null===a.F&&(a.F=dah(a.C,function(b){return!!b&&!Srf(b)}),null===a.F&&(a.F=Isf(a,dah)));return a.F}function fah(a,b,c,d){FB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(fah,FB);
fah.prototype.Rw=function(){this.yA=[this.C?L9a(this.element):this.element.offsetLeft,this.element.offsetTop];fah.Ta.Rw.call(this)};function gah(a,b){A.call(this);this.Hg=a;this.C=b}v(gah,A);m=gah.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.yf=function(a,b,c){this.Hg.D.yf(this.C+":"+a,u(this.IIa,this,b),c)};m.RI=function(a){this.D=u(this.IIa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Hg.D.send(this.C+":"+a,b)};
m.IIa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ia=function(){this.Hg=this.Hg.C[this.C]=null};function hah(a){A.call(this);this.D=a;this.C={};this.D.RI(u(this.F,this))}v(hah,A);function iah(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new gah(a,b);return a.C[b]=c}
hah.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};hah.prototype.Ia=function(){Md(this.C,function(a){Qf(a)});Qf(this.D);delete this.C;delete this.D};var jah={$b:!0,ac:!0,bc:!0,cc:!0,gc:!0,hc:!0},kah={i5a:"all",Vzc:"important",NONE:"none"};function lah(){return S('<div class="'+T("docs-docos-activitybox")+'"><div class="'+T("docs-docos-activitybox-inner")+'"></div></div>')}
function mah(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(mah,Q);m=mah.prototype;m.Ba=function(){Q.prototype.Ba.call(this);var a=this.oa(),b=Uy(lah,{},{},a);this.jb(b);this.D=a.getElement("docs-docos-caret");this.H=a.Za("docs-docos-activitybox-inner",b);this.L&&(ky(b,"docos-enable-new-header"),ky(this.D,"docos-enable-new-header"));this.O?ky(b,"docos-streampanesize"):ky(b,"docos-streampanesize-legacy")};
m.Ga=function(){Zz(this.getElement(),"docos");this.F=new YA(this.getElement());this.F.ij("close-box",27);this.C=new vy(this.getElement(),"toggle_display");wy(this.C,!0);pke(this.C,!1);this.C.CJa=!1;this.getHandler().listen(this.F,"shortcut",this.qTb).listen(this.C,"show",this.a9b).listen(this.C,"hide",this.$8b).listen(this.C,"beforeshow",this.Z8b).listen(this.C,"beforehide",this.Y8b)};m.rb=g("H");m.a9b=function(){P(this.D,!0);this.dispatchEvent("show")};m.$8b=function(){P(this.D,!1)};m.Z8b=function(){return this.dispatchEvent("beforeshow")};
m.Y8b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.qTb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ia=function(){Qf(this.F);delete this.F;delete this.D;delete this.H;Qf(this.C);delete this.C;Q.prototype.Ia.call(this)};
function nah(a,b,c){rS.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");zy(this,Ke("You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy."));this.C.setContent("Make a copy");sXe(this,"Reload");this.Nr=!0}t(nah,rS);nah.prototype.Ba=function(){rS.prototype.Ba.call(this);ky(this.getElement(),"post-limit-error-dialog")};
nah.prototype.Kz=function(){var a=zz(vz(new uz,12));(Wt(),pv).kb(!0,a);this.H.C(30066);rS.prototype.Kz.call(this)};nah.prototype.sX=function(){nF(this.L,!0);this.H.C(30065)};
function oah(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new $o:h;k=void 0===k?(Wt(),u3a):k;Vo.call(this);this.F=null;this.ma=!1;this.$a=h;this.C=a;this.Na=e;this.Oa=new nah(b,this.$a,this.Na);this.Sa=c;this.Pa=d;this.Ja=f;this.D=new mah(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.$a);this.La=new Wo(this);this.V=new uA(this);this.Aa=new wA(void 0,void 0,!0,$B.getInstance());this.J=k;this.xa=
!1;this.Ca=z(y(),"docs-edll");this.O=(this.H=Vy())&&z(y(),"docs-ehspc");this.Ha=l||null;this.L=null;this.R=!1;this.C.onReady(u(this.n9b,this))}t(oah,Vo);m=oah.prototype;m.render=ba();
m.n9b=function(){var a=this;if(!this.H||this.O)var b=pah(this);this.V.ub((Wt(),gw),st,this.xec);b=this.H?bp("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);gw.Ma(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.rb());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Ca);this.Sa&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
qah(this)?rah(this):this.C.isLinkedDocoDeleted()&&sah();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.zVa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.zVa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,tah(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&tah(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.j$b,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.ub(this.J,qt,this.jZa);this.jZa(new DXa("enabled",this.J.isEnabled(),!1));this.Ja||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.wTb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.c9b,this));this.La.listen(this.D,["show","hide"],this.I6b)};
function pah(a){var b=a.$a.getElement("docs-docos-commentsbutton");a.F=PT(null);kz(a.F,16,!1);a.F.Ua(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.$a.Ba("SPAN","docs-docos-commentsbutton-badge"),tah(a,!1),a.$a.appendChild(b,a.L));yA(a.Aa,a.F,(Wt(),gw),AA);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.zVa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.j$b=function(a){if(!this.H||this.O)a=a.getArgs(),this.lBa(a.getDisplay(),!1),this.Ha&&this.Ha(fx(this.D.rb()))};m.jZa=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function qah(a){if(a.H||!a.Ca)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.xec=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(tah(this,!1),this.R=!1);rah(this);var a=this.D;a.C&&!x$a(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.wTb=function(){if(!this.ma&&Cq(this.Pa,0)){if(this.C.hasPendingContent()){var a=PA("Failed to post comment due to a network error.","warning",!0);NA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Ma(!1,"docos-fatal-reason");this.ma=!0}};
m.c9b=function(){var a=this.Oa;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Ma(!1,"docos-fatal-reason")};function sah(){var a=PA("This comment has been deleted.","info",!0);NA.getInstance().postMessage(a)}m.I6b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Eb(a);a||this.dispatchEvent("activity-box-closed")};
m.lBa=function(a,b){b=void 0===b?!0:b;a&&rah(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function tah(a,b){a.L&&P(a.L,b)}function rah(a){a.xa||(a.xa=!0,a.C.renderPaneSurface())}m.Ia=function(){Qf(this.F);Qf(this.La);Qf(this.D);Qf(this.Aa);Qf(this.V);Vo.prototype.Ia.call(this)};function z4(a,b,c){Ho.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(z4,Ho);function uah(){Vo.call(this);this.F=new hm;this.D=this.H=this.J=null;this.L=this.C=!1}t(uah,Vo);
function vah(a,b,c){A4(a);a.D=b;a.H=c;a.dispatchEvent(new z4("Be",[b],c))}uah.prototype.R=function(a,b){A4(this);this.D=a;this.H=b;this.dispatchEvent(new z4("ze",[a],b))};function wah(a){a.C||a.D||A4(a);a.dispatchEvent("Je")}uah.prototype.O=function(){A4(this);this.dispatchEvent("Ee")};uah.prototype.reset=function(){A4(this);this.dispatchEvent("He")};function A4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
uah.prototype.Ia=function(){delete this.J;delete this.F;delete this.H;delete this.D;Vo.prototype.Ia.call(this)};function xah(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function yah(a){var b=new uta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new UDd(b)}function zah(a,b){return(a=zI(a,b))?a.zc():null}
function Aah(a,b){return b?(b=cEd(b))&&dEd(eEd(b))?zah(a,b.hb()):null:null}var Bah=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,Cah=/^(.*?)([':;,\.?}\]\)!]+)$/;
function Dah(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Je(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(Bah,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Id(n[2],r)&&Jga(n[1],q)>Jga(n[1],r)},l||(e="http://"),l=h.match(Cah),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Le("a",b,h));d.push(l);return""});return Me(d)}function Eah(a,b,c){PJ.call(this,35);this.Zc=a;this.C=b;this.F=c}t(Eah,PJ);Eah.prototype.Ed=function(){var a=new iG,b=mo(this.F,this.C);D(a,1,this.Zc);D(a,2,b);return a};Eah.prototype.wg=ea(!1);function B4(){}B4.prototype.getType=ea("ApiEventArgs");B4.prototype.getType=B4.prototype.getType;function Fah(a){this.C=a}v(Fah,B4);qa("docos.api.FindSelectionArgs",Fah,void 0);function Gah(a){return"FindSelectionArgs"===a.getType()}Fah.isFindSelectionArgs=Gah;Fah.prototype.getType=ea("FindSelectionArgs");Fah.prototype.getVerticalOffset=g("C");Fah.prototype.getVerticalOffset=Fah.prototype.getVerticalOffset;function Hah(a){this.F=a}Hah.prototype.C=function(){if(!HI(this.F.C))return[];var a=KI(this.F.C),b=qJ(a);if(Hic(iL(this.F.Ja,a),b).length){var c=QI(a,b);a=a.Fb();var d=b.x;b=b.y;c=[HM(this.F)?A1b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};Hah.prototype.D=ea(0);function Iah(a,b){this.F=a;this.J=b;this.H=fDd()}Iah.prototype.C=function(){if(!HI(this.F.C))return[];var a=KI(this.F.C),b=qJ(a);a=Hic(iL(this.F.Ja,a),b);if(!a.length)return["Not on a comment"];a=this.H.ob(a[0]);b=this.J;b.C.verbalizeDoco(vR(b.D,a));return[]};Iah.prototype.D=ea(0);function Jah(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.V=b;this.xa=c;this.Pa=d;this.H=e;this.Va=f;this.Na=h;this.Sa=k;this.C=l;this.L=n;this.J=b.Ja;this.F=b.C;this.O=fDd();this.ma={};this.Ca=new hm;this.Aa=new jDa(0);a=[this.Aa];pd(q.F,a);eib(q,a);q.C=cib(q.F);dib(q);this.Ha=r;this.Ja=new npf(w,this.Ha.H);this.qa(this.Ja);this.R=new Wo(this);this.qa(this.R);this.Oa=!1;Kah(this)}t(Jah,A);
function Kah(a){var b=Xc(DTb,function(d){return!jah[d]});a.R.listen(a.Pa,"activity-box-closed",a.TBb).listen(a.H,"mouseover",C4(a,a.xMb)).listen(a.H,"click",C4(a,a.M_b)).listen(a.H,"selectionChange",C4(a,a.yMb)).listen(a.H,"inputBoxActivate",C4(a,a.uMb)).listen(a.H,"hide_docos",C4(a,a.wMb)).listen(a.F,"oa",C4(a,a.L_b)).listen(a.Na,"Id",a.KIb).listen(a.Na,"Jd",a.IIb).listen(a.Na,"Kd",a.HIb).listen(a.H,"insert_doco",a.J_b).listen(new GP(a.Sa),eQc(),a.BMb).listen(a.V,"docos_change",a.JMb).listen(a.L,
"Xi",a.Jpb).listen(a.F,"na",a.nRa).listen(a.H,"overlay-redraw",a.hEb);var c=RG(a.F);a.R.listen(c,b,a.vMb);a.R.listen(c,["fc"],C4(a,a.K_b));wR(a.D,Docos.EventType.HOVER,C4(a,a.cvb));wR(a.D,Docos.EventType.SELECTED,C4(a,a.I_b));wR(a.D,Docos.EventType.CREATED,a.cPa,a);wR(a.D,Docos.EventType.UNRESOLVED,a.cPa,a);wR(a.D,Docos.EventType.DELETED,a.dPa,a);wR(a.D,Docos.EventType.RESOLVED,a.dPa,a);wR(a.D,Docos.EventType.POSTED,a.Fvb,a);wR(a.D,Docos.EventType.PENDING,a.MEb,a);wR(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.Uyb,a);OD.ub(qt,u(a.Pzb,a));(Wt(),gw).ub(qt,u(a.opb,a));hw.subscribe("action",u(a.BCb,a));iw.subscribe("action",u(a.ICb,a));jw.subscribe("action",u(a.JCb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ha.C(Nv,new Jw(b));a.Ja.bind(Nv.getId(),new Iah(a.V,a.D));a.Ha.C(Ov,new Jw(b));a.Ja.bind(Ov.getId(),new Hah(a.V));a.nRa()}m=Jah.prototype;m.nRa=function(){var a=HI(this.F);(Wt(),hw).Ma(a);iw.Ma(a);jw.Ma(a)};m.hEb=function(){Lah(this.L)};
m.Pzb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.pP())};function C4(a,b){return function(c){a.Oa||b.call(a,c)}}m.J_b=function(){var a=KI(this.F),b=qJ(a);if(b&&!y4(this.D)&&!Mah(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new Eah(c,a.Fb(),ln(b));b=u(this.Qzb,this,c,b);a.D=b;this.Va.C(a)}};m.Qzb=function(a,b,c){c&&(a=Nah(this,this.O.ob(new cDd(a))))&&(this.C.dispatchEvent(new z4("De",[a],b)),this.xa.zb(2))};
function Mah(a,b,c){b=Hic(iL(a.J,b),c);return b.length?(Z$g(a.D,a.O.ob(b[0]),!0),!0):!1}m.cPa=function(a){var b=this;Vc(a.D,function(c){Oah(b,!0,c);b.Ca.add(c)})};m.dPa=function(a){var b=this;Vc(a.D,function(c){Oah(b,!1,c);b.Ca.remove(c)})};
function Oah(a,b,c,d,e){c=Nah(a,c);d=d||Aah(a.F,c);e=e||xS(c);if(c&&d&&e){var f=iL(a.J,d);if(b){var h=f.C.Vf(e.y,e.x)||new hm;h.add(c);f.J++;WTb(f.C,e.y,e.x,h)}else(h=f.C.Vf(e.y,e.x))&&h.remove(c)&&f.J--;WTb(f.D,e.y,e.x,!0);f.H.Cb()||f.H.start();a.F.getActiveGrid()&&(d=d==KI(a.F),b?(a=a.C,(b=d?e:null)&&Rm(b,a.J)&&a.F.add(c),a.dispatchEvent(new z4("ve",[c],b))):(a=a.C,(b=d?e:null)&&Rm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new z4("Ge",[c],b))))}else a.C.dispatchEvent("Ie")}
function Nah(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}m.L_b=function(){this.C.reset()};m.cvb=function(a){a=Pah(this,a);var b=xS(a);this.C.dispatchEvent(new z4("Ae",[a],b))};m.Fvb=ba();m.MEb=function(){DTe(this.Aa,this.D.C.hasPendingContent())};m.Uyb=function(a){this.Pa&&(a.J||this.C&&!this.C.D)&&this.Pa.lBa(!0)};m.TBb=function(){this.xa.zb(3)};
m.I_b=function(a){if(!(a.C&&Gah(a.C)||y4(this.D))){var b=Pah(this,a),c=xS(b);b&&c?(this.Oa=!0,vah(this.C,b,c)):b||a.J?this.C.reset():b||this.xa.zb(3)}};m.Jpb=function(){this.Oa=!1};m.wMb=function(){this.C.dispatchEvent("Ce")};m.yMb=function(){if(!this.L.isEmpty()&&!y4(this.D)){this.xa.zb(3);var a=this.C,b=qJ(KI(this.F));Rm(a.H,b)||!a.D&&!a.C&&Rm(a.J,b)||(A4(a),a.dispatchEvent(new z4("ye",[],b)))}};
m.M_b=function(){var a=KI(this.F);if(!y4(this.D)&&a){var b=iL(this.J,a),c=(a=qJ(a))?Hic(b,a):[];c.length&&(b=this.C,c=c[0],Rm(b.H,a)?(A4(b),b.dispatchEvent(new z4("we",[],a))):b.dispatchEvent(new z4("we",[c],a)))}};m.uMb=function(){y4(this.D)||this.C.reset()};m.K_b=function(){wah(this.C)};m.vMb=function(){wah(this.C)};
m.JMb=function(a){a=a.O||[];rd(a);for(var b=0;b<a.length;b++){var c=this.O.ob(new cDd(a[b]));if(c){var d=Nah(this,c);(d=eWe(this.J,d))?(Oah(this,!1,c,d.model,d.coa),Oah(this,!0,c),this.C.dispatchEvent("Ie")):this.Ca.contains(c)&&Oah(this,!0,c)}}};m.xMb=function(a){var b=KI(this.F);if(b){if((a=a.zk)&&Xrc(a)){var c=qI(b,a.y,a.x);a=c?Gn(c):a}else a=null;b=iL(this.J,b);b=a?Hic(b,a):[];c=this.C;c.F.clear();c.F.addAll(b);c.J=a;c.dispatchEvent(new z4("xe",b,a))}};
m.KIb=function(){if(!y4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;A4(a);a.C=b;a.dispatchEvent("Fe")}}};m.IIb=function(){if(!y4(this.D)){var a=this.C;a.C||(A4(a),a.L=!0,a.C=!0,a.dispatchEvent("Fe"))}};m.HIb=function(){if(!y4(this.D)){var a=this.C;a.C&&a.L&&(A4(a),a.dispatchEvent("Fe"))}};m.BMb=function(a){a.stopPropagation()};function Pah(a,b){b=b.D;return Nah(a,b.length?b[0]:null)}
m.H_b=function(a){var b=Nah(this,a);a=Aah(this.F,b);if(!b||!a)return"";b=xS(b);a=XI(QI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.opb=function(){var a=this.D;if(a=Oud(a.D,a.C.getLinkedDoco())||"")if(a=Nah(this,a)){var b=xS(a);vah(this.C,a,b)}else(Wt(),gw).kb()};m.BCb=function(){var a=KI(this.F);Mah(this,a,qJ(a))};m.ICb=function(){Qah(this,!1)};m.JCb=function(){Qah(this,!0)};
function Qah(a,b){var c=Rah(a,b),d=CI(a.F),e=KI(a.F),f=qJ(e),h=iL(a.J,e);f=X$g(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.zc(),h=iL(a.J,e),f=X$g(h,null,b),k=k.gg(),k!=d););f&&null!==k&&(b=Hic(h,f)[0],FI(a.F,k,u(a.N_b,a,e,b,f)))}function Rah(a,b){var c=b?u(a.F.kMa,a.F):u(a.F.Ara,a.F);return function(d){return c(d,0,!0,!0)}}m.N_b=function(a,b,c){vah(this.C,b,c);tJ(a,c)};
m.Ia=function(){delete this.H;delete this.Sa;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Va;delete this.F;delete this.V;Qf(this.Aa);delete this.Aa;Qf(this.L);delete this.L;Qf(this.C);delete this.C;A.prototype.Ia.call(this)};var Sah={XBc:"docos-insert-discussion",Dmc:"docos-cancel-insert-discussion",sJc:"docos-new-doco",tJc:"docos-new-reply",cqc:"docos-delete-doco",eqc:"docos-delete-reply",Ptc:"docos-edit-doco",Rtc:"docos-edit-reply",Qtc:"docos-edit-draft",Hlc:"docos-before-highlight-doco",vzc:"docos-highlight-doco",ERc:"docos-speak-doco",POc:"docos-resolve-doco",ylc:"docos-back-to-document",njc:"docos-accept-suggestion",EOc:"docos-reject-suggestion",loc:"docos-convert-doco",dqc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",JVc:"docos-update-sort",iWc:"docos-vote-doco",jWc:"docos-vote-reply",UIc:"mouse-hover-doco-view"};function Tah(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function D4(){return new Tah("")}function E4(a){return new Uah(a)}function Uah(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function F4(a,b){a.L=b;return a}function Vah(a){a.J=!0;return a}function Wah(a){a.F=!1;return a}function Xah(a,b){a.D=b;return a}
function Yah(a){a.H=!0;return a}function G4(a){return new Tah(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function H4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}qa("docos.Event",H4,void 0);qa("docos.api.Event",H4,void 0);H4.prototype.getType=g("type");H4.prototype.getType=H4.prototype.getType;H4.prototype.getAnchors=g("anchors");H4.prototype.getAnchors=H4.prototype.getAnchors;
H4.prototype.getDocos=g("docos");H4.prototype.getDocos=H4.prototype.getDocos;H4.prototype.isNonAnchored=g("nonAnchored");H4.prototype.isNonAnchored=H4.prototype.isNonAnchored;H4.prototype.isUserInitiated=g("userInitiated");H4.prototype.isUserInitiated=H4.prototype.isUserInitiated;H4.prototype.getArgs=g("args");H4.prototype.getArgs=H4.prototype.getArgs;H4.prototype.canPreventDefault=ea(!1);H4.prototype.canPreventDefault=H4.prototype.canPreventDefault;
H4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};H4.prototype.preventDefault=H4.prototype.preventDefault;H4.prototype.getAnchorIds=g("D");H4.prototype.getAnchorIds=H4.prototype.getAnchorIds;H4.prototype.getDocoHandles=g("F");H4.prototype.getDocoHandles=H4.prototype.getDocoHandles;function Zah(a){return new I4(a)}H4.builder=Zah;function I4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}qa("docos.api.Event.Builder",I4,void 0);
I4.prototype.addAnchorId=function(a){this.C.push(a);return this};I4.prototype.addAnchorId=I4.prototype.addAnchorId;I4.prototype.setAnchorIds=function(a){this.C=a;return this};I4.prototype.setAnchorIds=I4.prototype.setAnchorIds;I4.prototype.addDocoHandle=function(a){this.D.push(a);return this};I4.prototype.addDocoHandle=I4.prototype.addDocoHandle;I4.prototype.setDocoHandles=function(a){this.D=a;return this};I4.prototype.setDocoHandles=I4.prototype.setDocoHandles;
I4.prototype.setNonAnchored=function(a){this.F=a;return this};I4.prototype.setNonAnchored=I4.prototype.setNonAnchored;I4.prototype.setUserInitiated=function(a){this.H=a;return this};I4.prototype.setUserInitiated=I4.prototype.setUserInitiated;I4.prototype.setApiEventArgs=function(a){this.args=a;return this};I4.prototype.setApiEventArgs=I4.prototype.setApiEventArgs;I4.prototype.isEmpty=function(){return gd(this.C)&&gd(this.D)&&!this.args};I4.prototype.isEmpty=I4.prototype.isEmpty;
I4.prototype.build=function(){return new H4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new B4)};I4.prototype.build=I4.prototype.build;function $ah(a,b){H4.call(this,a,[],[],!1,!1,new B4);this.interval=this.interval=b}v($ah,H4);qa("docos.api.TimedEvent",$ah,void 0);function abh(){this.C={};this.D={}}function bbh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();No(c,"end",function(){delete f[b];delete h[b];e()})}function cbh(a,b){(a=a.C[b])&&a.stop()}abh.prototype.getDuration=function(a){return this.D[a]};function dbh(a){var b=a.Wh,c=a.JB,d=a.Ae;a=a.OR;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function ebh(a){var b=a.size,c=a.Ae,d=a.Ldb,e=a.Hoa;a=a.R1;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(Jx(d))+'"':"")+(e?' data-hovercard-id="'+T(e)+'"':"")+(a?' data-name="'+T(a)+'"':"")+"/>")};function fbh(a,b){var c=a.ZFa,d=a.yj,e=a.Yn;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(ebh({size:32,Ae:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={yj:d,Yn:e};d=e.yj;e=e.Yn;var f='aria-label="'+
Hx("Mark as done and hide discussion.");b=""+R(CA({Yc:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Gx(f+'"'),style:e?4:0,content:Fx(""+R(dbh({Wh:"docos-icon-accept-checkmark-black",JB:"docos-icon-accept-checkmark-size",Ae:"docos-icon-checkmark jfk-button-img"}))),xO:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function gbh(a,b){return a?hbh(J4(a),b):!1}function ibh(a,b){return a?gbh(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function jbh(a,b){a=J4(a);return kbh(a,b)}function lbh(a,b,c){a=kbh(a,b,!0);return c?(new iB("Reassign to {user}")).format({user:a}):(new iB("Assign to {user}")).format({user:a})}function kbh(a,b,c){return hbh(a,b)?c?"you":"You":K4(a)}function hbh(a,b){return null!=a.getEmail()&&null!=b.Pg().getEmail()&&a.getEmail()==b.Pg().getEmail()};function L4(a,b){Q.call(this,b);this.Tc=mbh(a);this.C=M4(a)}v(L4,Q);L4.prototype.Cd=!1;L4.prototype.Ga=function(){L4.Ta.Ga.call(this);this.Cd&&(this.Qd(),nbh(this))};function obh(a){a.Cd||(a.Cd=!0,a.getHandler().listen(a.C,"r",a.Qd),a.Qd(),nbh(a))}L4.prototype.Qd=function(){if(this.pb()){var a=this.getElement(),b=this.C.D;oy(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));oy(this.getElement(),"docos-offline",this.C.R)}};
function N4(a,b,c,d){a.Tc&&(d=a.Tc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function nbh(a){a.pb()&&N4(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Fh)}L4.prototype.Fh=function(a){a.stopPropagation()};function pbh(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function qbh(a,b,c,d){L4.call(this,a,b);this.H=a;this.Ec(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new DA(null);this.qa(this.R)}t(qbh,L4);m=qbh.prototype;
m.Ba=function(){var a=this.oa(),b=O4(rbh(this)),c=Uy(fbh,{ZFa:jbh(b,this.C),yj:this.C.yj(),Yn:"legacy"!=this.C.F});this.jb(c);this.L=a.Za("docos-icon-checkmark",c);this.O=a.Za("docos-icon-img-container",c);this.J=a.Za("docos-mark-done-button",c);this.R.Ua(this.J);N4(this,this.R,"action",this.WRb);this.F=a.Za("docos-assigneeview-assignee-text",c);this.D=AV(a,"IMG","docos-assigneeview-avatar",c);a=J4(b);sbh(n5(this.H),this.D,a.D,K4(a));tbh(this,b)};
m.Ga=function(){L4.prototype.Ga.call(this);var a=O4(rbh(this));a=J4(a);ubh(this,a,this.F);ubh(this,a,this.D)};
function tbh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!gbh(b,a.C)||"black"==Yz()&&Cf||"material_light_background"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=ibh(b,a.C);ny(a.getElement(),["docos-assignee-you","docos-assignee-other"]);ny(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);ny(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
ny(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);ky(a.L,d);ky(a.O,e);ky(a.J,c);ky(a.getElement(),b)}function rbh(a){return o5(a.H).bd(a.getId())}m.update=function(){var a=O4(rbh(this)),b=jbh(a,this.C)||"";Gp(this.F,b);p5(n5(this.H),this.D);b=J4(a);sbh(n5(this.H),this.D,b.D,K4(b));tbh(this,a);ubh(this,b,this.F);ubh(this,b,this.D)};
function ubh(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.WRb=function(a){a&&a.stopPropagation();(a=rbh(this))&&!a.isResolved()&&(a=q5(this.H),this.dispatchEvent("br"),a.vf("docos-resolve-doco").kb(new pbh(this.getId(),!0,vbh(this.V))),this.dispatchEvent("ar"))};m.od=function(){L4.prototype.od.call(this)};
m.Ia=function(){L4.prototype.Ia.call(this);delete this.F;delete this.D;delete this.L};function r5(a){J(this,a,0,-1,null,null)}v(r5,I);m=r5.prototype;m.ea=function(){var a=new E;wbh(this,a);return Y(a)};function wbh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function s5(a){J(this,a,0,1,null,null)}v(s5,I);var xbh={};s5.prototype.ea=function(){var a=new E;ybh(this,a);return Y(a)};function ybh(a,b){Kj(a,b,xbh,s5.prototype.getExtension)};function zbh(a){J(this,a,0,-1,null,null)}v(zbh,I);m=zbh.prototype;m.ea=function(){var a=new E;Abh(this,a);return Y(a)};function Abh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,s5,3);null!=c&&b.C(3,c,ybh);c=K(a,4);null!=c&&b.D(4,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};
m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function Bbh(a){J(this,a,0,-1,null,null)}v(Bbh,I);Bbh.prototype.ea=function(){var a=new E;Cbh(this,a);return Y(a)};function Cbh(a,b){a=N(a,DY,1);null!=a&&b.C(1,a,sjf)};function Dbh(a){J(this,a,0,-1,null,null)}v(Dbh,I);Dbh.prototype.ea=function(){var a=new E;Ebh(this,a);return Y(a)};function Ebh(a,b){var c=N(a,DY,1);null!=c&&b.C(1,c,sjf);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&Bj(b,4,c)}Dbh.prototype.D=function(a){L(this,2,a)};function Fbh(a){J(this,a,0,-1,Gbh,null)}v(Fbh,I);var Gbh=[5];Fbh.prototype.ea=function(){var a=new E;Hbh(this,a);return Y(a)};function Hbh(a,b){var c=K(a,1);null!=c&&Bj(b,1,c);c=K(a,2);null!=c&&Bj(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Xj(a,Dbh,5);0<c.length&&Gj(b,5,c,Ebh)};function Ibh(a){J(this,a,0,-1,null,null)}v(Ibh,I);Ibh.prototype.ea=function(){var a=new E;Jbh(this,a);return Y(a)};function Jbh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)};function Kbh(a){J(this,a,0,-1,null,null)}v(Kbh,I);m=Kbh.prototype;m.ea=function(){var a=new E;Lbh(this,a);return Y(a)};function Lbh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&Aj(b,2,c);c=K(a,3);null!=c&&Aj(b,3,c)}m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function Mbh(a){J(this,a,0,-1,null,null)}v(Mbh,I);m=Mbh.prototype;m.ea=function(){var a=new E;Nbh(this,a);return Y(a)};function Nbh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,Kbh,3);null!=c&&b.C(3,c,Lbh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,Ibh,7);null!=c&&b.C(7,c,Jbh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}
m.getName=function(){return K(this,1)};m.Vc=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Ec=function(a){return L(this,9,a)};function Obh(a){J(this,a,0,-1,Pbh,null)}v(Obh,I);var Pbh=[8];m=Obh.prototype;m.ea=function(){var a=new E;Qbh(this,a);return Y(a)};
function Qbh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,wbh);c=N(a,r5,4);null!=c&&b.C(4,c,wbh);c=N(a,DY,5);null!=c&&b.C(5,c,sjf);c=N(a,Mbh,14);null!=c&&b.C(14,c,Nbh);c=K(a,6);null!=c&&Bj(b,6,c);c=K(a,7);null!=c&&Bj(b,7,c);c=t5(a);0<c.length&&Gj(b,8,c,Qbh);c=u5(a);null!=c&&b.C(9,c,Abh);c=N(a,LT,21);null!=c&&b.C(21,c,Qne);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Bj(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,Bbh,18);null!=c&&b.C(18,c,Cbh);c=N(a,Fbh,19);null!=c&&b.C(19,c,Hbh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Ec=function(a){return L(this,1,a)};m.getContent=function(){return N(this,r5,3)};m.setContent=function(a){return Yj(this,3,a)};m.Qs=function(){return null!=K(this,3)};function t5(a){return Xj(a,Obh,8)}
function u5(a){return N(a,zbh,9)}m.getOrigin=function(){return K(this,17)};function Rbh(a,b){void 0!==b.getId()&&a.Ec(b.getId());var c=v5(b);if(void 0!==c){var d=v5(a);c?d?Sbh(d,c):Yj(a,2,c):Yj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.Pp();if(void 0!==d)if(c=a.Pp(),d)if(c){void 0!==d.getId()&&c.Ec(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?Tbh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,w5,3);void 0!==d&&(e=N(c,w5,3),d?e?Rbh(e,d):Yj(c,3,d):Yj(c,3,void 0))}else a.Eu(d);else a.Eu(void 0);void 0!==Mj(b,
6)&&(c=Mj(b,6),L(a,6,c));void 0!==Mj(b,7)&&(c=Mj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Mj(b,9)&&(b=Mj(b,9),L(a,9,b))}
function Sbh(a,b){void 0!==b.getId()&&a.Ec(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?Tbh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,r5,4);void 0!==c&&(d=N(a,r5,4),c?d?Tbh(d,c):Yj(a,4,c):Yj(a,4,void 0));c=N(b,DY,5);void 0!==c&&(c?Yj(a,5,c):Yj(a,5,void 0));d=N(b,Mbh,14);if(void 0!==d)if(c=N(a,Mbh,14),d)if(c){void 0!==d.getName()&&c.Vc(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,Kbh,3);if(void 0!==e){var f=
N(c,Kbh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Yj(c,3,e);else Yj(c,3,void 0)}void 0!==Mj(d,4)&&(e=Mj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,Ibh,7);void 0!==f&&(e=N(c,Ibh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Yj(c,7,f):Yj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Yj(a,14,d);else Yj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));t5(b)&&(c=nd(t5(a),t5(b)),ak(a,8,c));d=u5(b);void 0!==d&&(c=u5(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,s5,3)&&(e=N(d,s5,3),
Yj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Yj(a,9,d):Yj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Mj(b,12)&&(c=Mj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Mj(b,15)&&(c=Mj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,Bbh,18);void 0!==c&&(e=N(a,Bbh,18),c?e?(d=N(c,DY,1),void 0!==d&&(c=N(e,DY,1),d?c?(void 0!==
d.getName()&&c.Vc(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Ec(d.getId()),void 0!==Mj(d,5)&&(e=Mj(d,5),L(c,5,e)),void 0!==Mj(d,6)&&(e=Mj(d,6),L(c,6,e)),void 0!==Mj(d,7)&&(e=Mj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Yj(e,1,d):Yj(e,1,void 0))):Yj(a,18,c):Yj(a,18,void 0));d=N(b,Fbh,19);void 0!==d&&(c=N(a,Fbh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Xj(d,Dbh,5)&&(d=Xj(d,Dbh,5),ak(c,5,d))):Yj(a,19,d):Yj(a,19,void 0));void 0!==N(b,LT,21)?(c=N(b,LT,21),Yj(a,21,c)):void 0!==b.getContent()&&Yj(a,21,void 0);void 0!==Mj(b,22)&&(c=Mj(b,22),L(a,22,c));void 0!==Mj(b,23)&&(b=Mj(b,23),L(a,23,b))}function Tbh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function Ubh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Gd(b)?Hd(b.toLowerCase()):null;this.L=c;this.D=d;this.Zc=e;this.H=f;this.C=h}Ubh.prototype.getName=g("J");Ubh.prototype.getEmail=g("F");Ubh.prototype.getId=g("Zc");function K4(a){a=Gd(nf(a.getName()))?a.getEmail():a.getName();return nf(a)}function Vbh(a){var b=Wbh(Xbh(Ybh(Zbh((new x5).Vc(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Ec(a.getId()||""),!!Mj(a,5));a=!!Mj(a,7);b.D=a;return $bh(b)}
function ach(a){var b=(new DY).Ec(a.getId()||""),c=a.getName();null!==c&&b.Vc(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function x5(){}x5.prototype.Vc=function(a){this.H=a;return this};function Zbh(a,b){a.C=b&&!Gd(b)?Hd(b.toLowerCase()):null;return a}function Ybh(a,b){a.L=b;return a}function Xbh(a,b){a.J=b;return a}x5.prototype.Ec=function(a){this.Zc=a;return this};function Wbh(a,b){a.F=b;return a}
function $bh(a){return new Ubh(a.H,a.C,a.L,a.J,a.Zc,a.F,a.D)};function bch(a){N(a,DY,1);this.C=a}function J4(a){a=N(a.C,DY,1);return Vbh(a)}bch.prototype.ge=g("C");bch.prototype.equals=function(a){return dk(this.C,a.C)};function cch(a){var b=new Bbh;a=ach(a);b=Yj(b,1,a);return new bch(b)};function dch(a){N(a,DY,1);K(a,2);this.C=a}dch.prototype.ge=g("C");function ech(a){this.C=a}function fch(a,b){var c=[];a=Xj(a.C,Dbh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new dch(e))}return c}function y5(a){return null!=K(a.C,4)?K(a.C,4):0}ech.prototype.ge=g("C");function gch(){var a=hch;this.C=[];this.D={};this.F=a}gch.prototype.text=function(a){this.C.push(a)};function ich(a,b){if(a.D[b])a.C.push(b);else{var c=new jch(b,a.C.length);a.C.push(c);a.D[b]=c}}function kch(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Xc(Sd(a.D),function(e){return e.D>c.D});ud(d,function(e,f){return td(e.D,f.D)});a.C.push(new lch(a.F[b].close,d,a.F))}else a.C.push(b)}gch.prototype.getResult=function(){return this.C.join("")};
function jch(a,b){this.F=a;this.D=b;this.C=null}jch.prototype.getName=g("F");jch.prototype.toString=function(){return null!==this.C?this.C:this.F};function lch(a,b,c){this.F=a;this.C=b;this.D=c}lch.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function mch(a){a=Ie(Dah(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new nch(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new och(a.substring(0,c))),a=a.substring(c);b.push(new nch(a));return new pch(b)}function qch(a){var b=new gch;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=rch.test(d);d=sch.test(d);f?d?(f=b,f.D[e]?kch(f,e):ich(f,e)):ich(b,e):d?kch(b,e):b.text(e)}return new nch(b.getResult())}
function tch(a){return new nch(a.replace(uch,"<br>"))}var uch=/\r\n|\n|\r/g,hch={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},rch=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,sch=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function nch(a){this.Ve=a}nch.prototype.C=function(a){return a(this.Ve)};nch.prototype.toString=g("Ve");function och(a){this.Ve=a}och.prototype.C=function(){return this};och.prototype.toString=g("Ve");
function pch(a){this.Sh=a}pch.prototype.C=function(a){var b=Yc(this.Sh,function(c){return c.C(a)});return new pch(b)};pch.prototype.toString=function(){return this.Sh.join("")};function vch(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=vch.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Yj(a,4,void 0),Yj(a,9,void 0));if(void 0!==N(a,LT,21)||void 0!==a.getContent())this.D=null;Sbh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return dk(this.C,a.C)};
m.Lw=function(){var a=N(this.C,DY,5)||new DY;return Vbh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.$t=function(){this.H||(this.H=hW(K(this.C,6)));return this.H};m.wQ=function(){if(void 0===K(this.C,7))return this.$t();this.J||(this.J=hW(K(this.C,7)));return this.J};function wch(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=hW(K(a.C,13))),b=a.F;if(!b||a.wQ()>b)b=a.wQ();return b}
function xch(a){if(void 0!==u5(a.C)&&("text/html"==u5(a.C).getType()||"text/plain"==u5(a.C).getType())){var b=u5(a.C).getValue();b="text/html"==u5(a.C).getType()?b:gf(b)}return b||""}m.P3=function(){if(void 0!==u5(this.C)){var a=N(u5(this.C),s5,3);if(a)return a.Ff()}return null};m.vga=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.wga=function(){if(null!=N(this.C,LT,21)&&!this.D){var a=N(this.C,LT,21);this.D=Oe(K(a,2)||"",null)}return this.D};
m.Cx=function(){return null!=N(this.C,r5,4)?N(this.C,r5,4).getValue()||"":""};m.Rr=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.zR=function(){return!!Mj(this.C,12)};m.wq=function(){return!!K(this.C,13)};m.VB=function(){var a=N(this.C,Bbh,18);return null!=a?new bch(a):null};m.Wz=function(){var a=N(this.C,Fbh,19);return null!=a?new ech(a):null};m.Qj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.jI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function ych(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.Ava=function(){return!!Mj(this.C,22)};m.uva=function(){return 2==this.getOrigin()};function z5(a,b){this.C=new Obh;L(this.C,11,a);b&&b!=a&&this.C.Ec(b)}function zch(a,b){var c=t5(a.C);c.push(b.C);ak(a.C,8,c);return a}function Ach(a,b){L(a.C,16,b);return a}
function A5(a){L(a.C,12,!0);return a}function Bch(a,b){L(a.C,6,b);return a}function Cch(a){var b=Ka();L(a.C,13,b);return a}function Dch(a){L(a.C,13,0);return a}function Ech(a,b){Yj(a.C,18,b.ge());L(a.C,10,4);return a}function Fch(a,b){b=ach(b);Yj(a.C,5,b);return a}function Gch(a,b){Yj(a.C,19,b.ge());return a}function Hch(a){L(a.C,20,1);return a}
function B5(a,b,c){b=Hd(b);var d=(new r5).setType("text/plain").setValue(b);Yj(a.C,4,d);b=(new r5).setType("text/html").setValue(mch(b).C(qch).C(tch).toString());a.C.setContent(b);L(a.C,7,c);return a};function Ich(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Jch(a,b){return a.F.getId()==b.Lw().getId()}function Kch(a,b){return Jch(a,b)&&!!b.Cx()&&("suggest"==a.C||"full"==a.C)}function Lch(a,b){return b instanceof vch&&void 0!==b.vga()?!1:(a.H||Jch(a,b))&&(!!b.Cx()||b.Qj())&&("suggest"==a.C||"full"==a.C)}function Mch(a,b){return a.D&&!b.Qj()&&("suggest"==a.C||"full"==a.C)}Ich.prototype.Rva=g("D");function Nch(a){return"suggest"==a.C||"full"==a.C};function Och(a){J(this,a,0,-1,null,null)}v(Och,I);Och.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function Pch(a,b){this.D=a;this.C=b||null}Pch.prototype.Ro=function(a,b,c){this.D(a,b,c)};Pch.prototype.zBa=function(a){this.C&&this.C(a)};function Qch(a,b,c,d,e){d=d?d.Ff():void 0;e=e?e.Ff():void 0;a(b,c,d,e)};function Rch(a){Vo.call(this);this.f2(a)}v(Rch,Vo);m=Rch.prototype;
m.f2=function(a){var b=a.kd;this.vh=b;if(void 0===b.Pg())throw Error("Invalid or missing user.");var c=b.Pg();this.NIa=$bh(Wbh(Xbh(Ybh(Zbh((new x5).Vc(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Ec(c.getId()||""),!!Mj(c,5)));this.Nea=!!Mj(b,40);this.yaa=!Mj(b,20);this.zaa=K(b,11);this.KKa=!!Mj(b,12);this.ipa=K(b,6);this.MIa=void 0!==a.l?!!a.l:!!Mj(b,25);this.a_a=K(b,21);this.kpa=K(b,23);this.OIa=K(b,24);this.gTa=K(b,31);void 0!==a.i?this.jpa=a.i:this.jpa=void 0;if(a=EY(b))this.g2=K(a,1);this.dispatchEvent("r")};
m.ipa=null;m.gTa=null;m.jpa=void 0;m.zaa=null;m.MIa=!1;m.Nea=!1;m.a_a=null;m.kpa=null;m.OIa=null;m.yaa=!0;m.KKa=!1;m.NIa=null;m.g2=null;m.vh=null;m.Pg=g("NIa");function Sch(a,b,c){function d(f){return c?od(f):f}var e=null;a&&xa(a)&&(e=d(a),xa(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function Tch(a){this.C=a};function Uch(){}Uch.prototype.install=function(a){a=a&&Zo(a);Ubb(a)};Uch.prototype.C=function(a,b){Wz(a,b,void 0)};Uch.prototype.Xe=function(a){a=a&&Zo(a);Zbb(a)};Uch.prototype.D=function(a,b){eW(a,b)};function Vch(a,b){b=void 0===b?function(){return Qpe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));xa(c)&&(c=Sch(c,"kd",!0),c.unshift("kd"),a.kd=new zjf(c));Rch.call(this,a);this.nj=b}t(Vch,Rch);m=Vch.prototype;
m.f2=function(a){Rch.prototype.f2.call(this,a);this.J=this.J||A6b("disco");var b;if(!(b=this.Oa)){b=A6b("usp_dm");var c=new xRd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Oa=b;this.mj=a["anchor-is-orphaned-fn"]||le;this.Aa=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Tch(a.containerdiv));this.Gq=b;this.Bb=a.storage||null;this.Tc=!!a["storage-ro"];this.Kd=!!a["disable-focus"];this.ZC=!!a.so;this.Pf=a.docscroller||null;this.Eo=a["inactive-doco-indent"]||10;this.Va=
a["instant-docos-div"]||null;this.ib=a["enable-new-delete-ui"]||!1;this.fb=a["delete-dialog-show"]||null;this.O=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.O=new Pch(b,c));this.Am=a["memory-monitor-fn"]||null;this.Zk=a.layout||null;this.Tj=!!a.layoutrtl;this.H=a.listeners||{};this.L=a.panediv||null;this.xa=a.panekbdiv||null;this.E2()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.bb=
b;this.Hc=a.quotefn||null;this.$c=a["user-color-provider-fn"]||null;this.$C=a["user-color-provider-from-name-fn"]||null;this.wt=a.quoterenderfn||null;this.Fh=!!a["hide-notification"];this.R=!!a.offline;this.dc=!!a.nocss;this.wc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Cd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Mj(this.vh,8);this.D=new Ich(this.Pg(),c?c:d?"readonly":"full",!!Mj(this.vh,
3),b);this.Sa=!!a.iph;this.aq=a.maxheight||0;this.Lc=!!a.showerrors;this.ld=a["stream-button"]||null;this.$d=!!a["disable-spfw"];this.Pa=a["anchor-mutate-fn"]||null;Wch(this)||(this.Pa=null);this.hg=!!a["enable-comment-button"];this.Ja=!!a["enable-gsuite-embedding"];this.Vg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Wm=a["acl-fix-fn"]||null;this.Pl=a["load-acl-fixer-fn"]||null;this.We=a["intercept-docos-edit-fn"]||null;this.$h=a["is-an-illegal-write-fn"]||null;this.Qd=
!!a["defer-first-sync"];this.qb=!!a["enable-lazy-loading"];this.Ha=!!a["enable-all-docos-in-anchored-stream"];this.Ty=a["stream-pane-banner-message"]||null;this.Nv=a["stream-pane-banner-learn-more-url"]||null;this.An=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Na=(b=a["impression-recorder-fn"])?Ia(Qch,b):null;this.Yh=a.hidepromofn;this.xt=a.showpromofn;this.Bm=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new Uch;this.zn=a["browser-app-clipboard"]||
null;this.Ya=a["modal-dialog-z-index"]||null;this.ef=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Ca=a["static-input-pane-message"]||null;this.Laa=a["drive-id"]||null;this.mb=!!a["enable-roving-tabindex"];this.uh=a["auto-complete-factories"]||[];this.Un=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.yb=a["link-opener"]||null;this.Cj=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function Xch(a){return null!=K(a.vh,44)&&null!=K(EY(a.vh),51)&&!!Mj(EY(a.vh),51)}m.iK=function(){if(this.Fh)return!1;var a=Mj(this.vh,26);return null!=a?!!a:!0};m.rfa=function(){return!!Mj(this.vh,43)};m.Hva=function(){var a=!1,b=EY(this.vh);b&&(a=Mj(b,2));return!!Mj(this.vh,43)&&!!a};function Ych(a){return!!EY(a.vh)&&!!Mj(EY(a.vh),32)}m.gra=g("Laa");function Wch(a){return a.vh&&!!Mj(a.vh,18)}m.yj=function(){return!!Mj(this.vh,39)};
m.E2=function(){return null!=K(this.vh,44)&&!!Mj(EY(this.vh),53)&&!this.Pg().C};m.vG=function(){return null!=K(this.vh,44)&&!!Mj(EY(this.vh),54)&&!this.Pg().C};function Zch(a){return null!=K(a.vh,44)&&null!=K(EY(a.vh),55)&&!!Mj(EY(a.vh),55)}function $ch(a){return null!=K(a.vh,44)&&!!Mj(EY(a.vh),56)}function adh(a){return a.nj()&&!!Mj(a.vh,10)&&!a.Kd}function bdh(a){return Mj(a.vh,10)?a.uh:[]}function cdh(a){return!!EY(a.vh)&&!!Mj(EY(a.vh),50)};function ddh(a,b,c,d,e,f){L4.call(this,a,c);this.D=M4(a);this.Na=Lm(Rc(y(),"docs-seu")||this.D.ef||window.location.href);this.Mc=new Mz(c,new edh(d));this.F=new Vz("",this.Mc,void 0,c);this.F.EN=!0;this.Fa(this.F);this.J=null;fd(e,"edit")&&(this.J=new Hz("Edit"),this.J.Gc("docos-edit-menuitem"),this.Mc.Fa(this.J,!0));this.H=null;fd(e,"delete")&&(this.H=new Hz("Delete"),this.H.Gc("docos-delete-menuitem"),this.Mc.Fa(this.H,!0));this.R=null;fd(e,"reanchor")&&Ych(this.D)&&(this.R=new Hz("Reanchor comment"),
this.R.Gc("docos-reanchor-menuitem"),this.Mc.Fa(this.R,!0));this.xa=null;fd(e,"disable")&&(this.xa=new Hz("Turn off suggested action items"),this.xa.Gc("docos-disable-menuitem"),this.Mc.Fa(this.xa,!0));this.Ha=null;fd(e,"help")&&(this.Ha=new Hz("Learn more"),this.Ha.Gc("docos-help-menuitem"),this.Mc.Fa(this.Ha,!0));d=o5(a).bd(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ja=f?C5(d,f):null;this.V=null;M4(a).D.Rva()&&fd(e,"resolve")&&(this.V=new Hz(""),this.Mc.Fa(this.V,
!0));this.O=this.Aa=this.ma=null;fd(e,"link")&&(this.Aa=new Hz("Link to this comment..."),this.Aa.Gc("docos-link-menuitem"),this.Mc.Fa(this.Aa,!0),this.O=new fpf(c,this.D.zn||void 0,void 0,null===this.D.Ya?void 0:this.D.Ya),this.Fa(this.O),ky(Cy(this.O),"docos"),this.O.setTitle("Link to this comment..."),fdh(this,b));this.Ca=M4(a).Un.map(function(h){return{F$a:h,HMa:new Hz(h.getLabel())}});for(a=0;a<this.Ca.length;a++)this.Mc.Fa(this.Ca[a].HMa,!0)}t(ddh,L4);m=ddh.prototype;
m.Bc=function(a){L4.prototype.Bc.call(this,a);a=this.oa().Za("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Tc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Ua(a),this.F.Ma(!0),this.D.C.C(a,"More options..."),this.F.xe("More options..."))};
m.Ga=function(){var a=this;L4.prototype.Ga.call(this);gdh(this);N4(N4(N4(this,this.Mc.getElement(),"click",this.dVa),this.F.getElement(),"click",this.dVa),this.D,"r",this.mtb);N4(this,this.F.getElement(),"keyup",this.Tfc);hdh(this,this.J,this.chc);hdh(this,this.H,this.ahc);hdh(this,this.Aa,this.O$b);hdh(this,this.R,this.ghc);hdh(this,this.V,this.hhc);hdh(this,this.xa,this.bhc);hdh(this,this.Ha,this.fhc);for(var b={},c=0;c<this.Ca.length;b={s9:b.s9},c++)b.s9=this.Ca[c],hdh(this,b.s9.HMa,function(d){return function(){d.s9.F$a.C((a.Ja||
a.L).Cx())}}(b))};m.Hh=function(a){this.oa().Qi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){gdh(this)};function fdh(a,b){if(a.O){var c=a.Na.clone();b=c.D.set("disco",b);a.O.OVa(Fm(c,b).toString())}}function hdh(a,b,c){b&&N4(a,b,"action",c)}m.hhc=function(a){Mch(this.D.D,this.L)&&(this.dispatchEvent(new idh("r")),jdh(this,a))};m.chc=function(a){kdh(this)&&(this.dispatchEvent(new idh("e")),jdh(this,a))};
m.bhc=function(a){this.dispatchEvent(new idh("i"));jdh(this,a)};m.ahc=function(a){ldh(this)&&(this.F.zd(!1),this.dispatchEvent(new idh("d")),jdh(this,a))};m.ghc=function(a){this.dispatchEvent(new idh("ra"));jdh(this,a)};m.fhc=function(a){this.dispatchEvent(new idh("h"));jdh(this,a)};m.O$b=function(a){jdh(this,a);this.O.setVisible(!0)};function jdh(a,b){b.stopPropagation();a.F.zd(!1)}m.Tfc=function(a){27==a.keyCode&&a.stopPropagation()};m.dVa=function(a){a.stopPropagation()};m.mtb=function(){gdh(this)};
function kdh(a){return Kch(a.D.D,a.Ja||a.L)&&!a.ma}function ldh(a){return Lch(a.D.D,a.Ja||a.L)&&!a.D.ma}function gdh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=mdh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Ma(Mch(a.D.D,a.L))}a.J&&(b=kdh(a),a.J.Ma(b),a.J.setVisible(b));a.H&&(b=ldh(a),a.H.Ma(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Ma(b),a.R.setVisible(b))}function idh(a){Ho.call(this,a)}t(idh,Ho);
function edh(a){a=void 0===a?"docos-docomenu":a;Kz.call(this);this.D=a}t(edh,Kz);edh.prototype.Hb=function(){return(new cr("goog-menu"," ","docos"," ",this.D)).toString()};function ndh(){VC.call(this,!1)}t(ndh,VC);ndh.prototype.zN=function(a){VC.prototype.zN.call(this,a)};function odh(){this.C=!1;this.D=new Kf;this.qa(this.D)}v(odh,A);function pdh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.By=e;this.C=f;this.D=h}pdh.prototype.bd=g("F");function qdh(){}function D5(a){var b=new qdh;b.F=a;return b}function E5(a,b){a.D=b;return a}function rdh(a,b){a.By=b;return a}function F5(a){return new pdh(a.F,a.D,a.L||!1,a.C||null,a.By||null,a.H||null,a.J||null)};function sdh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Gr=h}function tdh(){}function G5(a){var b=new tdh;b.H=a;return b}function udh(a,b){a.F=b;return a}function vdh(a,b){a.Gr=b;return a}function H5(a){return new sdh(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.Gr||null)};function w5(a){J(this,a,0,-1,null,null)}v(w5,I);function wdh(a){J(this,a,0,-1,null,null)}v(wdh,I);m=w5.prototype;m.ea=function(){var a=new E;xdh(this,a);return Y(a)};function xdh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=v5(a);null!=c&&b.C(2,c,Qbh);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&Bj(b,4,c);c=a.Pp();null!=c&&b.C(5,c,ydh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};
m.Ec=function(a){return L(this,1,a)};function v5(a){return N(a,Obh,2)}m.Pp=function(){return N(this,wdh,5)};m.Eu=function(a){return Yj(this,5,a)};m=wdh.prototype;m.ea=function(){var a=new E;ydh(this,a);return Y(a)};function ydh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,wbh);c=N(a,w5,3);null!=c&&b.C(3,c,xdh)}m.getId=function(){return K(this,1)};m.Ec=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,r5,2)};m.setTitle=function(a){return Yj(this,2,a)};function zdh(a,b,c){var d=v5(a);this.F=a;this.O=b;this.bt=c||null;this.R=null;this.J={};this.D={};this.C=new vch(d);this.H=void 0;this.QR=!!N(d,Bbh,18);b=this.getId();if(a=v5(a)){a=t5(a);for(c=0;c<a.length;c++)d=new vch(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,ych(d)&&(this.H=ych(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=zdh.prototype;m.Lw=function(){return this.C.Lw()};m.getId=function(){return this.C.getId()};
function I5(a){return K(a.C.C,11)||""}m.wQ=function(){var a=K(this.F,4);if(void 0===a)return this.$t();this.V||(this.V=hW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.Rr=function(){return this.C.Rr()};m.vga=function(){return this.C.vga()};m.Cx=function(){return this.C.Cx()};function J5(a){return K(a.F,8)||""}m.wga=function(){return this.C.wga()};m.P3=function(){return this.C.P3()};m.Xz=function(){return void 0!==K(this.F,8)};m.isResolved=function(){return!!Mj(this.F,6)};
function K5(a,b){var c=Sd(a.D);b&&c.push(a.C);vd(c,function(d,e){return gW(d.$t(),e.$t())});return c}function C5(a,b){return a.D[b]||null}m.$t=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=hW(a)):this.L=null;return this.L};m.getNewDocoType=g("bt");m.Jw=function(){return"draft"==this.bt||"client-integrated-draft"==this.bt||"instant-doco"==this.bt};function Adh(a){return Bdh(a)}function Bdh(a){return a.Jw()||"smart-todo"==a.bt}m.iY=function(){return"smart-todo"==this.bt};
m.zR=function(){return!!Mj(this.F,9)};m.wq=function(){return this.C.wq()};m.Wz=function(){return this.C.Wz()};m.VB=function(){return this.C.VB()};function O4(a){var b=a.C.VB()?a.C.VB():null;a=K5(a);for(var c=0;c<a.length;c++){var d=a[c];d.VB()&&(d=d.VB(),b?(b=new bch(ek(b.ge())),d=J4(d),d=ach(d),Yj(b.C,1,d)):b=new bch(ek(d.C)))}return b}function mdh(a){return a.C.VB()?a.C:null}m.Qj=function(){return this.C.Qj()};m.isTodo=function(){return null!=this.QR?this.QR:this.QR=!!mdh(this)};m.jI=function(){return this.C.jI()};
function Cdh(a){if(void 0!==a.H)return a.H;if(!a.Qj())return a.H=null;for(var b in a.D){var c=ych(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.Ava=function(){return this.C.Ava()};m.uva=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=K5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function Ddh(a){this.C=a;this.bt=null}
function L5(a){var b=new w5;a=a.C;Yj(b,2,a);a.getId()||K(a,11);b.Ec(a.getId()||K(a,11));return new Ddh(b)}function Edh(a,b){L(a.C,8,b);return a}function M5(a,b){L(a.C,9,b);return a}function Fdh(a,b){a.bt=b;return a}Ddh.prototype.getNewDocoType=g("bt");function Gdh(a,b){L(a.C,3,b);return a}Ddh.prototype.getId=function(){return v5(this.C).getId()};function Hdh(a,b,c,d,e,f,h,k){Ho.call(this,a);this.L=b;this.C=c;this.O=d;this.Gr=e;this.D=f;this.R=h;this.F=k}t(Hdh,Ho);function Idh(){this.Gr=this.D=this.F=this.L=this.bw=null;this.H=this.C=0;this.J=!1}function Jdh(a){var b=new Idh;b.bw=a;return b}function Kdh(a,b){a.L=b;return a}function Ldh(a,b){a.F=b;return a}function Mdh(a,b){a.H=b;return a}function Ndh(a,b){a.J=b;return a}function Odh(a){return new Hdh(a.bw,a.L,a.F,a.D,a.Gr,a.C,a.H,a.J)};function Pdh(a){A.call(this);this.C=a;this.F=M4(a);this.D=Qdh(this.C);this.H={}}v(Pdh,A);function Rdh(a,b,c,d,e,f){var h=pf(),k=new z5(h);d&&B5(k,d,Ka());f&&Hch(k);e&&(d=$bh(Wbh(Zbh(new x5,e).Ec(""),!1)),d=cch(d),Ech(k,d));c=Fdh(Gdh(M5(Edh(L5(k),b),!1),Date.now()),c);Sdh(o5(a.C),c);o5(a.C).flush();N5(a.D,H5(vdh(udh(G5(43008),h),b)));return O5(o5(a.C),h)}
function Tdh(a,b,c,d,e){d=Wbh(Zbh(new x5,d).Ec(""),!1);Gd(nf(e))||d.Vc(e);e=$bh(d);d=cch(e);e=pf();var f=Ka();c=Hch(Ech(B5(Fch(new z5(e),a.F.Pg()),c,f),d));c=Fdh(M5(Edh(L5(c),b),!1),"smart-todo");Sdh(o5(a.C),c);o5(a.C).flush();N5(a.D,H5(vdh(udh(G5(43023),e),b)));return O5(o5(a.C),e)}
function Udh(a,b,c,d,e){var f=pf(),h=Ka();c=B5(Fch(Bch(A5(new z5(f)),h),a.F.Pg()),c,h);e&&Hch(c);d&&(d=$bh(Wbh(Zbh(new x5,d).Ec(""),!1)),d=cch(d),Ech(c,d));b=Fdh(Edh(Gdh(M5(L5(c),!0),h),b),"discussion");Sdh(o5(a.C),b);o5(a.C).flush();b=o5(a.C).bd(f);P5(a.D,F5(E5(D5(43009),b)));return O5(o5(a.C),f)}m=Pdh.prototype;m.Jeb=function(a){Vdh(o5(this.C),a);o5(this.C).flush()};
m.Feb=function(a,b,c,d,e){e=void 0===e?null:e;if(a=o5(this.C).bd(a)){if(d&&!a.VB())throw Error("Cannot reassign a doco with no existing assignment");if(a.Qj()&&d)throw Error("Cannot reassign a suggestion.");var f=pf(),h=Ka();b=Fch(Bch(B5(A5(new z5(f)),b,h),h),this.F.Pg());c&&Ach(b,c);d&&Ech(b,d);c=zch(new z5(I5(a),a.getId()),b);c=M5(L5(c),!0);Q5(o5(this.C),c);o5(this.C).flush();d=E5(D5(d?43020:43010),a);e&&(d.C=e);P5(this.D,F5(d))}};
m.Leb=function(a,b){if(a=o5(this.C).bd(a)){var c=new z5(I5(a),a.getId()),d=null!=a.Wz()?new ech(a.Wz().ge().clone()):new ech(new Fbh);L(d.C,4,b?1:0);A5(Gch(c,d));c=M5(L5(c),!0);Q5(o5(this.C),c);o5(this.C).flush();P5(this.D,F5(E5(D5(b?43040:43041),a)))}};
m.Meb=function(a,b,c){if(a=o5(this.C).bd(a)){var d=new z5(I5(a),a.getId());if(c=C5(a,c)){var e=null!=c.Wz()?new ech(c.Wz().ge().clone()):new ech(new Fbh),f=new z5(I5(a),c.getId());L(e.C,4,b?1:0);zch(d,A5(Gch(f,e)));d=M5(L5(d),!0);Q5(o5(this.C),d);o5(this.C).flush();P5(this.D,F5(rdh(E5(D5(b?43042:43043),a),c)))}}};
m.ejb=function(a,b,c,d){d=void 0===d?null:d;if(a=o5(this.C).bd(a))if(b=C5(a,b)){var e=Ka();c=B5(A5(new z5(K(b.C,11)||"",b.getId())),c,e);c=zch(new z5(I5(a),a.getId()),c);c=M5(L5(c),!0);Q5(o5(this.C),c);o5(this.C).flush();a=rdh(E5(D5(43021),a),b);d&&(a.C=d);P5(this.D,F5(a))}};m.N7b=function(a,b){if(a=o5(this.C).bd(a)){var c=Ka();b=B5(new z5(I5(a),a.getId()),b,c);b=M5(L5(b),!1);Q5(o5(this.C),b);o5(this.C).flush()}};
m.Keb=function(a,b,c,d){d=void 0===d?null:d;if(a=o5(this.C).bd(a)){if(a.Qj())throw Error("Cannot resolve a suggestion.");var e=pf(),f=Ka();e=Fch(Bch(A5(new z5(e)),f),this.F.Pg());L(e.C,10,b?0:1);c&&B5(e,c,f);c=zch(new z5(I5(a),a.getId()),e);c=M5(L5(c),!0);L(c.C,6,b);Q5(o5(this.C),c);o5(this.C).flush();b=E5(D5(b?43014:43015),a);null!=d&&(b.C=d);P5(this.D,F5(b))}};
m.Geb=function(a,b,c){c=void 0===c?null:c;var d=o5(this.C),e=d.bd(a);e&&(this.H[O5(d,a)]=Td(ce(e.D)),a=Cch(A5(new z5(I5(e),e.getId()))),a=M5(L5(a),!0),e.iY()||(e=E5(D5(43017),e),null!=b&&(e.H=b),c&&(e.C=c),P5(this.D,F5(e))),Q5(d,a),d.flush())};
function Wdh(a,b){var c=o5(a.C);if(R5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ha[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=Dch(A5(new z5(I5(d),d.getId()))),f=a.H[b];delete a.H[b];a=ce(d.J);b=ce(d.D);for(var h=0;h<f.length;h++){var k=f[h];zch(e,Dch(A5(new z5(K((b[k]||a[k]).C,11)||"",k))))}e=M5(L5(e),!0);Q5(c,e);c.flush();return O5(c,d.getId())}
m.PIa=function(a,b){if(a=R5(o5(this.C),a)){var c=a.jI();if(!a.Qj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=A5(new z5(I5(a),a.getId()));c=(new zbh).setType("application/vnd.google-apps.docs.mds");b=Yj(c,3,b);Yj(a.C,9,b);b=M5(L5(a),!0);Q5(o5(this.C),b);o5(this.C).flush()}};
m.cjb=function(a,b,c){c=void 0===c?null:c;if(a=o5(this.C).bd(a)){var d=Ka();b=B5(A5(new z5(I5(a),a.getId())),b,d);b=M5(L5(b),!0);Q5(o5(this.C),b);o5(this.C).flush();a=E5(D5(43022),a);c&&(a.C=c);P5(this.D,F5(a))}};m.Sdb=function(a,b,c){(a=o5(this.C).bd(a))&&(b=C5(a,b))&&Xdh(this,a,b,c)};function Xdh(a,b,c,d){d=void 0===d?null:d;var e=rdh(E5(D5(43016),b),c);d&&(e.C=d);P5(a.D,F5(e));Q5(o5(a.C),Ydh(b,c));o5(a.C).flush()}
function Ydh(a,b){b=Cch(A5(new z5(K(b.C,11)||"",b.getId())));a=zch(new z5(I5(a),a.getId()),b);return M5(L5(a),!0)}m.Ieb=function(a){var b=R5(o5(this.C),a,!0);a=Zdh(o5(this.C),a);b&&a&&Xdh(this,b,a)};m.Heb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=R5(o5(this.C),d,!0);d=Zdh(o5(this.C),d);e&&d&&b.push(Ydh(e,d))}$dh(o5(this.C),b,"c")};
function aeh(a,b,c,d){b=R5(o5(a.C),b);if(!beh(a,b))return 0;var e=pf();Q5(o5(a.C),ceh(a,b,e,c));d||(d=a.D,c=E5(D5(c?43027:43028),b),c.L=!0,P5(d,F5(c)));return O5(o5(a.C),b.getId(),e)}function beh(a,b){if(!b)return!1;if(!b.Qj()||!b.jI())throw Error("Attempting to accept/reject a non-suggestion.");return deh(o5(a.C),b)?!0:!1}function ceh(a,b,c,d){a=Ach(Fch(Bch(A5(new z5(c)),Ka()),a.F.Pg()),b.jI());L(a.C,10,d?2:3);b=zch(new z5(I5(b),b.getId()),a);return M5(L5(b),!0)}
function eeh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=R5(o5(a.C),b[h]);if(beh(a,k)){var l=pf();d.push(ceh(a,k,l,c));e.push(k.getId());f.push(l)}}$dh(o5(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(O5(o5(a.C),e[h],f[h]));return b};function feh(){Vo.call(this)}v(feh,Vo);function geh(a,b){Ho.call(this,a);this.xm=b||null}v(geh,Ho);function heh(a){J(this,a,0,-1,null,null)}v(heh,I);heh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};heh.prototype.Of=function(){return K(this,1)};function ieh(){Jq.call(this,"",void 0,!0);this.F=new Eq(u(this.C,this));this.qa(this.F);this.H=null}t(ieh,Jq);ieh.prototype.O=function(a,b,c,d){if(this.H&&!Ad(a,"Error in protected function: ")){var e=new heh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);jeh(this.H,"rjse",c,void 0,sa,!0,1)}};ieh.prototype.Ia=function(){Jq.prototype.Ia.call(this);delete this.F};function keh(a){Vo.call(this);var b=this;this.F=null;this.H=new xo;this.qa(this.H);this.C=a;yo(this.H,this.C.hH(),function(){"hidden"===b.C.getState()&&(b.D=new GC);"visible"!=b.C.getState()||fob(b.D)||(b.dispatchEvent("Yi"),leh(b))});this.D=new GC;leh(this)}t(keh,Vo);keh.prototype.format=function(a){var b=new GC(a);b=(new GC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return meh.format(a);b=Hjf(a.getTime());return neh.format(a)+(" "+b)};
function leh(a){var b=new GC;b.add(new FC(0,0,1));b=b.getTime();gq(a.F);a.F=fq(function(){a.dispatchEvent("Yi");leh(a)},b-Ka(),a)}ta(keh);var neh=new JC(7),meh=new JC(2);function oeh(a,b,c){this.Yx=a;this.src=b;this.C=c};function peh(a){A.call(this);this.C=a;this.D={};this.J={};this.L=this.C.R;this.Zc=0;this.H=[];this.La=new Wo(this);this.qa(this.La);this.La.listen(this.C,"r",this.O)}t(peh,A);function qeh(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function reh(a,b,c,d){if(b){var e="dcs-img-"+a.Zc++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||seh(a);teh(a,e)}}
function sbh(a,b,c,d){b&&a.H.push(new oeh(b,c,d))}function ueh(a){fq(function(){for(;this.H.length;){var b=this.H.pop();reh(this,b.Yx,b.src,b.C)}},0,a)}function p5(a,b){b&&b.id&&(a.La.kc(b,veh,a.F),delete a.D[b.id],delete a.J[b.id])}peh.prototype.O=function(){var a=this.C.R;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)teh(this,b)};
peh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.La.kc(b,veh,this.F),b.src=seh(this)):p5(this,b)}};function teh(a,b){a.La.listen(a.D[b],veh,a.F);a.D[b].src=a.J[b]}
function seh(a){return $ch(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var veh=[vf?"readystatechange":"load","abort","error"];function weh(){$V.call(this);this.ma=!1}v(weh,$V);function M4(a){return a.get("config")}function q5(a){var b=aW(a,"action_registry");if(!b){b=new ndh;for(var c=Sd(Sah),d=0;d<c.length;d++){var e=c[d];e=O((new Jt(e)).Bj("label",e).Bj("visible",!0).Bj("hint",e).Bj("enabled",!0));b.jt(e);b.qa(e)}a.yf("action_registry",b)}return b}function o5(a){return a.get("stream")}function n5(a){return a.get("imageManager")}function xeh(a){return a.get("subscriptionManager")}
function Qdh(a){return a.get("impressionRecorder")}function mbh(a){return aW(a,"errorReporter")}function yeh(a){var b=aW(a,"batchEventTracker");b||(b=new odh,a.yf("batchEventTracker",b));return b};function zeh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=M4(a).An}function Aeh(a,b){a.C!=b&&(a.C=b,b={Wj:a.D,YOb:a.O,ePb:b},q5(a.L).vf("mouse-hover-doco-view").kb(b))};function Beh(a){a=a||{};var b=a.LJ,c=a.y0,d=a.fPb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+bW(c)+"><span class="+bW(d)+">"+R(b)+"</span></div>":"<span class="+bW(d)+">"+R(b)+"</span>");return S(a)};function Ceh(a){a=a||{};var b=a.Wh,c=a.JB;a=a.OR;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(dbh({Wh:""+b,JB:""+c,OR:a})):"")+"</div>")};function Deh(a,b){a=a||{};var c=S;if(a.Vk){a=a||{};var d=a.author,e=a.Xg,f=a.WE,h=a.ina,k=a.Ae,l=a.Cm,n=a.Sz,q=a.Qj,r=a.Jw,w=a.s7,x=a.LJ,F=a.ZX,M=a.yj,X=a.rfa,U=a.Hva,ca=a.isBadgingEnabled,ma=a.timestamp,wa=a.Hdb,ya=a.Yn;d='<div class="'+T("docos-anchoredreplyview")+(k?" "+T(k):"")+(q?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(ebh({size:32,Ldb:wa,Hoa:f?""+
f:"",R1:Ex(d)&&!e?""+d:"",Ae:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+T("docos-user-presence")+'"></div>':"")+(ca?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(f?' data-hovercard-id="'+T(f)+'"':"")+(Ex(d)&&!e?' data-name="'+T(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+
" "+T("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';Ex(q)&&Ex(n)?(x=x={Yn:ya},x=S(Eeh({Yc:"docos-accept-suggestion jfk-button-collapse-right",Yn:x.Yn},b)),ya=ya={yj:M,Yn:ya},M=ya.yj,ya=ya.Yn,b=""+R(CA({title:"Reject suggestion",style:ya?4:0,Yc:"docos-reject-suggestion jfk-button-collapse-left",content:Fx(""+(ya?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(dbh({Wh:"docos-icon-reject-suggestion-cross",JB:"docos-icon-reject-suggestion-cross-size",Ae:"jfk-button-img"})))),xO:M},b)),b=S(b),b=x+b):r?b="":(M=n?X?S(Eeh({Yc:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},b)):S(R(CA({Yc:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},b))):"",!Ex(X)||!Ex(F)&&x?b="":U?(X=(X=a)||{},ya=X.Sz,x=X.ZX,X=X.yj,U=R(dbh({Wh:"docos-icon-thumb-black",JB:"docos-icon-thumb-size",Ae:"jfk-button-img",
OR:!0}))+'<div class="'+T("like-button-text")+'">',U+="0</div>",b=""+R(CA({Yc:"docos-like-button "+(Ex(ya)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:Fx(U),xO:X},b)),b=S(b),b=R(b)):(X=(X=a)||{},ya=X.Sz,x=X.ZX,X=X.yj,U='<div class="'+T("vote-button-text")+'">',U+="+1</div>",b=""+R(CA({Yc:"docos-vote-button "+(Ex(ya)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:Fx(U),xO:X},b)),b=S(b),b=R(b)),b=M+b+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
b=d+b+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(h?"":T("docos-collapsible-replyview-empty"))+'">'+(n||F?"":R(Beh(Cx({y0:""},a))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';b=b+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');b+="Show less";var Da;n?
Da=R(Beh(Cx({y0:"docos-root-reply-action-text-wrapper"},a))):F?Da=R(Beh(Cx({y0:"docos-action-text-bottom-wrapper"},a))):Da="";b+="</div></div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+Da+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";b=S(b)}else n=a||{},w=n.author,F=n.Xg,h=n.WE,d=n.ina,M=n.Ae,l=n.xna,Da=n.Cm,ya=n.Sz,a=n.s7,x=n.timestamp,X=n.isBadgingEnabled,U=n.Yn,n.Jw?(l=(l=Cx({author:w,
WE:h,Ae:M,s7:a},n))||{},b=l.author,Da=l.WE,a=l.Ae,l=l.s7,b=S('<div class="'+T("docos-streamrootreplyview")+(a?" "+T(a):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(Da?' data-hovercard-id="'+T(Da)+'"':"")+(b?' data-name="'+T(b)+'"':"")+">"+(b?R(b):"")+'</div><div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>")):ya?(Da=(Da=n)||{},M=Da.author,ya=Da.WE,a=Da.ina,x=Da.Ae,l=Da.Cm,
n=Da.jbc,w=Da.Rva,F=Da.s7,h=Da.LJ,d=Da.ZX,X=Da.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(x?" "+T(x):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(ya?' data-hovercard-id="'+T(ya)+'"':"")+(M?' data-name="'+T(M)+'"':"")+">"+(M?R(M):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(Ceh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+
T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(X?R(X):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+
T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=Hx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',n&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(n)+'<div class="'+T("docos-replyview-quote-collapse")+
" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(a)+"</div>"+(h?R(Beh(Cx({y0:"docos-root-reply-action-text-wrapper"},Da))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+
T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Hx("Reply to this comment"),b+='">Reply</div></div>',w&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',d?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',
b+=Hx("Mark as done and hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Hx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(F?R(F):"")+"</div></div>",b=S(b)):(b='<div class="'+
T("docos-streamreplyview")+'">'+R(ebh({size:U?32:24,Hoa:h?""+h:"",R1:Ex(w)&&!F?""+w:"",Ae:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(Ex(X)&&!ya?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(h?' data-hovercard-id="'+T(h)+'"':"")+(w?
' data-name="'+T(w)+'"':"")+">"+(w?R(w):"")+"</div>"+R(Beh(n))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(d)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(x?R(x):"")+"</div>",Ex(l)||Ex(Da)?(w=w={sbb:!0,xna:l,Cm:Da},l=w.xna,n=w.Cm,w=w.sbb,F='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+
" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',n&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=Hx("Make changes to your comment"),F+='">Edit</div>'),l&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+
" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=Hx("Permanently delete your comment"),F+='">Delete</div>'),l=S(F+"</div>"),l=R(l)):l="",b=b+l+"</div>"+(Da?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(a?R(a):"")+"</div></div></div>"),b=S(b);return c(b)}
function Feh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Eeh(a,b){a=a||{};var c=a.Yc;a=a.Yn;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(dbh({Wh:"docos-icon-accept-checkmark-black",JB:"docos-icon-accept-checkmark-size",Ae:"jfk-button-img"}));return d(R(CA({Yc:c?""+c:"",style:a?4:0,content:Fx(""+e)},b)))};function Geh(a,b){a=a||{};var c=a.ZGa,d=a.Yc,e=a.cKa;a=a.dKa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(Cnd({Tl:c,Yc:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function Heh(a,b){a=a||{};var c=a.Ae,d=a.J$,e=a.Afc,f=a.Dna,h=a.eKa,k=a.ZFa,l=a.yj,n=a.LJ,q=a.FC,r=a.wG,w=a.Zu;c='<div class="'+T("docos-input")+(c?" "+T(c):"")+'" style="display: none">'+(w?'<div class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" contenteditable="true"></div>':'<textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>');r?(r=""+R(CA({title:"Mention a person",style:4,Yc:"docos-plus-mention-icon docs-material",content:Fx('<div class="'+
T("docs-icon")+" "+T("goog-inline-block")+'"><div class="'+T("docs-icon-img-container")+" "+T("docs-icon-img")+" "+T("docs-icon-docos-plus-mention")+'" aria-hidden="true">&nbsp;</div></div>'),tabIndex:0},b)),r=S(r)):r="";a=c+r+(n?R(Beh(Cx({y0:"docos-edit-pane-action-text-wrapper",fPb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+T("docos-input-assignment-panel")+
'" style="display: none">'+R(Cnd({Yc:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+(T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');
a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+'">'+R(CA({style:2,Yc:"docos-input-post docos-input-buttons-post"},b)));e="";e=f?e+(""+f):e+
"Discard comment";f="";f=d?f+R(d):f+"Cancel";a+=R(CA({Yc:"docos-input-cancel",title:e,content:Fx(f),xO:l},b));return S(a+"</div></div>")};function Ieh(a,b){a=a||{};var c=S;if(a.Vk){a=a||{};var d=a.author,e=a.iY,f=a.ZX,h=a.yj,k=a.Yn;a.Jw?(a=(a=Cx({author:d,yj:h},a))||{},d=a.author,e=a.yj,f=a.FC,h=a.wG,k=a.Zu,b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(Deh(Cx({author:d,Vk:!0,Sz:!0,Ae:"docos-replyview-first"},a),b))+"</div>"+R(Heh({Ae:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",yj:e,FC:f,wG:h,Zu:k},b)))):e?(a=(a=Cx({yj:h,Yn:k},
a))||{},d=a.Ebb,e=a.yj,f=a.Yn,h=a.Zu,k='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(dbh({Wh:"docos-icon-explore",JB:"docos-icon-explore-size",OR:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+'"><div class="'+
T("docos-smarttodoview-headertext-inner")+'">',k=k+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(Ceh({JB:"docos-icon-overflow-three-dots-size",Wh:"docos-icon-overflow-three-dots",OR:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),k+=R(Heh({Ae:"docos-docoview-input-pane",J$:"Dismiss",Dna:"Dismiss suggested action item",yj:e,Zu:h},b)),d&&(k+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+
'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+'" role="button" tabindex="0" aria-expanded="false">',k+="Bad suggestion?</div></div>"),e=k,d?(a=a||{},a=a.yj,d='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=R(Geh({ZGa:"Not an action item",Yc:"docos-smarttodoview-feedback-checkbox-container",
cKa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",dKa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=R(Geh({ZGa:"Wrong assignee",Yc:"docos-smarttodoview-feedback-checkbox-container",cKa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",dKa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Write feedback</div><div class="'+(T("docos-smarttodoview-feedback-buttonlist")+'">'),d+=R(CA({style:2,Yc:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",xO:a},b)),d+=R(CA({Yc:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",xO:a},b)),b=S(d+"</div></div>")):b="",b=S(e+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+
'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.Xg;var l=
e.WE;h=e.Yn;k=e.yj;var n=e.Jw,q=e.vG;a=S;d='<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(ebh({size:h?32:48,Hoa:l?""+l:"",R1:Ex(f)&&!d?""+f:"",Ae:"docos-streamdocoview-avatar"}))+(Ex(q)&&!n?'<span class="'+T("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamdocoview-content")+'">';n?(e=(e=Cx({author:f,yj:k},e))||{},f=e.author,h=e.yj,k=e.FC,n=e.wG,l=e.Zu,b=S('<div class="'+T("docos-streampane-draft")+'">'+R(Deh(Cx({author:f,Vk:!1,Sz:!0,Jw:!0,Ae:"docos-replyview-first"},
e),b))+"</div>"+R(Heh({Ae:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",yj:h,FC:k,wG:n,Zu:l},b)))):b='<div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(ebh({size:h?32:24,Ae:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+
'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function Jeh(){this.C=y()}function Keh(){var a=new Jeh;return"PLACEHOLDER_TEXT"===Rc(a.C,"docs-edpme")}function Leh(){var a=new Jeh;return"PLUS_MENTION_ICON"===Rc(a.C,"docs-edpme")};function Meh(a,b){Ho.call(this,a);this.Wj=b}t(Meh,Ho);function S5(a){Meh.call(this,"rd",a)}t(S5,Meh);function T5(a,b,c,d,e){L4.call(this,a,d);this.R=a;this.Ya=c;this.bb=[];this.O=null;this.Pa=new zeh(this.R,b,this.Vk());this.Ec(b);this.Na=null;this.$c=e;this.mb=this.xa=null;this.Bd=!0;this.dc=!1}t(T5,L4);m=T5.prototype;m.DA=ba();m.Ec=function(a){L4.prototype.Ec.call(this,a);this.Pa.D=a};m.getContext=g("R");m.bd=function(){return o5(this.R).bd(this.getId())||null};m.Wk=function(){var a=this.getId();return Neh(this.$c,a)};m.cS=ea(null);m.dxa=ea(!1);
m.Ba=function(){var a=this.bd(),b=a.Lw();a=O4(a);var c="Unknown"===b.getName();c=Uy(Ieh,{author:b.getName(),Xg:b.C,WE:this.C.V&&!c?b.getId():null,Vk:this.Vk(),ZX:!!a,yj:this.C.yj(),Yn:"legacy"!=this.C.F,vG:this.C.vG(),wG:Leh(),Zu:Zch(this.C)});this.Vk()||Xch(this.C)||ky(c,"docos-streampanemargin-legacy");this.jb(c);this.xe(b,a||void 0)};
m.xe=function(a,b){b=b?jbh(b,this.C):void 0;a=a.getName();var c=Rd(this.bd().D),d=this.bd().isResolved()?"Resolved":"Open";b=a&&b?(new iB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new iB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new iB("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Xx(this.getElement(),b)};m.Ga=function(){L4.prototype.Ga.call(this);N4(N4(this,this.getElement(),["click","keypress","keyup"],this.SRb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.H8b);Hp(this.getElement(),!0)};m.od=function(){L4.prototype.od.call(this);Aeh(this.Pa,!1)};m.H$=ea(!1);
m.dAa=ba();m.hga=function(){if("legacy"==this.C.F&&this.Vk()&&(!this.xa||!this.mb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");ky(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");ky(c,"docos-anchoreddocoview-arrow-outer");this.mb=c;a.Ts(b,this.xa,0);a.Ts(b,this.mb,0)}};m.Rc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Bd;a||this.setVisible(!0);this.O=new Xm(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Rc();return this.O.height};m.SRb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.cVa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.H8b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Aeh(b,"mouseenter"==a.type);a.stopPropagation()};m.HY=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new S5(this.getId()))};m.setVisible=function(a){this.Bd=a;P(this.getElement(),a)};m.isVisible=g("Bd");m.z4a=ba();
function Oeh(a){var b=["docos-docoview-tesla-conflict"],c=[];Vy()&&z(y(),"docs-ehspc")?(Peh(a,"docos-anchoreddocoview",!1,b,c),Peh(a,"docos-streamdocoview",!0,b,c)):(Peh(a,"docos-anchoreddocoview",a.Vk(),b,c),Peh(a,"docos-streamdocoview",!a.Vk(),b,c));Peh(a,"docos-docoview-active",a.Wk(),b,c);Xch(a.C)&&Peh(a,"docos-docoview-active-experiment",a.Wk(),b,c);var d=a.bd();Peh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)ly(a.getElement(),b),ny(a.getElement(),c),a.bb=Yx(a.getElement())}
function Peh(a,b,c,d,e){c&&!fd(a.bb,b)?d.push(b):!c&&fd(a.bb,b)&&e.push(b)}m.tT=da("Na");function Qeh(a){return a.Na?a.Na:a.C.aq}m.getDocoMaxHeight=g("Na");m.Ia=function(){L4.prototype.Ia.call(this);delete this.R};function Reh(a,b){this.C=a;this.$a=b}
function Seh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=Hx("Contact information.");f+='">'+R(ebh({size:32,Ae:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=Ax(d);Qe(c,d);d=b.getEmail();d=Gd(nf(b.getName()))?d:b.getName()+" "+d;Xx(c,d);c=AV(a.$a,"IMG","docos-contact-row-avatar",c);p5(a.C,c);reh(a.C,c,b.D,K4(b));
return c};function Teh(a,b,c,d){d=void 0===d?null:d;bA.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Reh(n5(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Vk());this.D=null}t(Teh,bA);m=Teh.prototype;m.Ga=function(){bA.prototype.Ga.call(this);this.D=gp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.oSb).listen(this.getElement(),"focus",this.xy).listen(this.getElement(),["mousedown","blur"],this.d0a)};
m.oSb=function(a){this.C&&this.C.bd()==o5(this.L).R||(this.zd(!this.kf()),this.d0a());a.stopPropagation()};m.xy=function(){ky(this.D,"docos-assignee-select-focus")};m.d0a=function(){my(this.D,"docos-assignee-select-focus")};m.Te=function(a){return this.xb()&&2>this.xb().Zb()?!1:bA.prototype.Te.call(this,a)};m.Sf=function(a){this.C&&this.C.bd()==o5(this.L).R&&(this.xb()&&2>this.Kh()||bA.prototype.Sf.call(this,a))};function Ueh(a){return(a=a.qf())?a.Pg():null}
m.Ce=function(a){bA.prototype.Ce.call(this,a);var b=a.getElement();b&&(ky(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&ky(b,"docs-gm"),this.O&&a.render(this.H.L))};m.im=function(){var a=this.xb().getElement();Rw(a,"width",this.J.offsetWidth+"px");bA.prototype.im.call(this);var b=parseInt(h8a(a,"top"),10)||0,c=Xw(this.J).x;this.O?(c-=Xw(this.H.L).x,b+=-2):b+=-1;Uw(a,c,b)};function Veh(a){var b=new hm;if(!a.xb())return b;a.xb().Se(function(c){b.add(c.Pg())});return b}
m.update=function(a,b){if(!Veh(this).equals(new hm(a))||Ueh(this)!=b){for(var c=new Mz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new Weh(f,this.R,this.oa());f==b&&(d=h);c.Fa(h,!0)}this.Ce(c);dA(this,d);P(this.getElement(),1<this.Kh())}};m.reset=function(){this.xb().jd();dA(this,null)};function Weh(a,b,c){var d=c.createElement("div");Hz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Seh(this.C,this.D,d)}t(Weh,Hz);m=Weh.prototype;m.Ba=function(){Hz.prototype.Ba.call(this);ky(this.getElement(),"docos-assignee-select-item")};
m.Ga=function(){Hz.prototype.Ga.call(this);this.getHandler().listen(this.getElement(),"click",this.nSb)};m.Pg=g("D");m.Og=ea("");m.nSb=function(a){a.stopPropagation()};m.Ia=function(){Hz.prototype.Ia.call(this);var a=this.F;a&&p5(this.C.C,a)};function Xeh(){Yeh(this)}t(Xeh,Qa);Xeh.prototype.nA=function(a){Yca(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};Xeh.prototype.cleanup=function(){this.D.clear();this.C=null};Xeh.prototype.iterator=function(){if(!this.C){var a=new Q$g,b=this.D;a.C=[];b=b.Ff();Y9g(b,a.C,0,b.length);this.C=a}return this.C.ej()};Xeh.prototype.ej=function(){return this.iterator()};function Yeh(a){var b=new bah,c=new O$g;x$g(c);b.C=c;a.D=b;a.C=null};function Zeh(a){Yeh(this);this.F=a}t(Zeh,Xeh);Zeh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();$eh(b,this.F)}};Zeh.prototype.get=g("F");function afh(a,b,c){return new bfh(a,b,c)}function bfh(a,b,c){this.C=cfh(a,b);this.Pd=c;this.F=!1;this.D=-1;dfh(this,0)}bfh.prototype.B5=g("F");bfh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function cfh(a,b){for(var c=[],d={},e=0;e<b.length;d={nU:d.nU,v9:d.v9},e++){d.v9=b[e];var f=d;var h=new Zeh(null);f.nU=h;d.v9.H(a.token,a.K$,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.nU.set(new efh(l,n,r,k.v9.getType(),w,q)):r&&k.nU.set(ffh())}}(d))||d.nU.set(ffh());c.push(d.nU)}return c}function dfh(a,b){if(!a.F)if(b>=a.C.length)a.Pd(ffh()),a.close();else{a.D=b;var c=a.C[b];gc(a);$ca(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&$eh(a,b)}}
function $eh(a,b){b.isEmpty()?(a.C[a.D].nA(a),dfh(a,a.D+1)):(a.Pd(b),b.complete&&a.close())}function gfh(a,b,c){this.token=a;this.K$=b;this.C=c}function efh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}efh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function ffh(){return new efh([],new tDd(!1),!0,0,!1,void 0)};function hfh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function ifh(a){this.pac=a}t(ifh,Igb);function jfh(a){this.C=a};function kfh(){this.className="docos-ac-highlighted"}kfh.prototype.Lua=function(a,b,c){Gd(b)||c.C&&/^\W/.test(b)?c=null:(b=kf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Wx(a,c)};
kfh.prototype.Wx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Wx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Zo(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Qp(b,f)),f=h,h=Qp(b,""),b.Gw(f,a),b.Gw(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function lfh(a,b,c,d,e,f,h,k,l){var n=this;l=void 0===l?5E3:l;this.wma=!0;a=new mfh("\n",null,!0);T$g(a);a.W4a=!1;a.V=null;a.R=null;f=new nfh(f,k,this);f.R=!0;f.oDa=!1;f.O=!0;f.className="docos-ac";h&&Ohb(f,h,void 0,h);sB.call(this,this,f,a);this.L.kh=this;this.Ja=c.map(function(q){return new ofh(n,q)});this.Pa=new kfh;this.ysa(bp(b));this.C=d?d:null;this.V=e||null;this.R=null;this.Oa=l;this.Ha=!1;this.Aa=null;this.Ca=!1}v(lfh,sB);var pfh=/[\n]$/;m=lfh.prototype;
m.WI=function(a,b,c){var d=this,e=Ka(),f=this.L.D;this.V&&this.V.Ro("dacps",e-f);var h=!0;this.R&&(this.R.cancel(),this.R=null);if(a){var k=qfh(this.L,a),l=rfh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new ifh(new hfh(e,f,n.getType(),h,x,F,w)),w.Pza=!h,w.rda=r.Yma,c(a,q,w),h=!1)})}else b=afh(new gfh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new ifh(new hfh(e,f,q.type,
h,q.complete,q.F,q.D));r.Pza=!h;q.C&&(r.rda=q.C.Yma);c(a,q.rows,r);h=!1}}),this.R=new sfh(b,this.Oa)}else c(a,[])};function rfh(a,b,c){return a.Ja.filter(function(d){return d.F(b,c)})}
m.Xw=function(a,b){b||(b=new Igb);lfh.Ta.Xw.call(this,a,b);if(b instanceof ifh){this.Aa=b.pac;var c=tfh(this,this.Aa,a.length,!1);b=this.Aa;var d=c,e=Ka()-b.startTime,f=Ka()-b.J;this.V&&(b.C&&(this.V.Ro("dac",e,d.ob()),this.V.Ro("dact",f,d.ob())),b.D&&(this.V.Ro("dacfr",e,d.ob()),this.V.Ro("dacfrt",f,d.ob())))}else this.Aa=null;if(this.C){b=this.C;d=a.length;a=this.Ca?5:0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=ufh[a])&&h.y8;b.C=a}else b.C&&0==d&&(h=(h=ufh[b.C])&&h.Y8,b.C=null);h&&
vfh(b,h,c)}};function tfh(a,b,c,d){var e=new BRd;e=L(e,1,c).setType(wfh(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,tB(a,a.J)),L(c,6,b.L));return R$g(c)}function wfh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 8;default:return 0}}m.vr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.uQ()&&this.Pa.Lua(c,a.data.uQ().D,new jfh(a.data.uQ().C)))};
m.DB=function(){var a=Ogb(this)?this.F[tB(this,this.J)]:null,b;this.Aa&&(b=tfh(this,this.Aa,this.F.length,!0));if(a&&this.C){var c=this.C;(a=ufh[a.getType()])&&vfh(c,a.V7,b);c.C=null}this.Ha=!0;return lfh.Ta.DB.call(this)};m.lh=function(){this.Ca=!1;if(!this.Ha&&this.getToken()&&0<this.F.length&&this.C){var a=this.C,b=a.C&&ufh[a.C];b&&vfh(a,b.b2);a.C=null}this.Ha=!1;lfh.Ta.lh.call(this)};function xfh(a){return Ogb(a)?a.F[tB(a,a.J)].getId():null}
m.Ia=function(){lfh.Ta.Ia.call(this);Rf(this.Ja);this.R&&(this.R.cancel(),this.R=null)};function mfh(a,b,c,d){this.D=0;vB.call(this,a,b,c,d)}v(mfh,vB);mfh.prototype.Sf=function(){this.kh.kf()&&this.kh.lh()};mfh.prototype.Kg=function(a){this.D=Ka();return(37===a.keyCode||39===a.keyCode)&&this.kh.kf()||38===a.keyCode&&this.kh.kf()&&-1===this.kh.J?(this.kh.lh(),!0):mfh.Ta.Kg.call(this,a)};
mfh.prototype.gF=function(a,b){var c=null;if(a){c=a.getToken();if(0!==c.length&&1===a.getType()){var d=this.kh;switch(c[0]){case "@":vfh(d.C,43093,void 0);break;case "+":vfh(d.C,43092,void 0)}}d=a.HW();c=yfh(this,c);c={start:d.Sk()+c,end:d.pw()+c}}b=mfh.Ta.gF.call(this,a,b);if(a){d=c.end;var e=this.Rl;e&&(uB(e,c.start),Ugb(e,d));a.h7()}return b};function yfh(a,b){var c=a.Fo();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function qfh(a,b){return a.Fo()-yfh(a,b)}
function ofh(a,b){this.C=a;this.D=b}ofh.prototype.H=function(a,b,c,d){var e=this,f=a.replace(pfh,"");return this.D.H(f,b,c,function(h,k,l,n,q){d(h.map(function(r){return new zfh(e.C,r,a)}),k,l,n,q)})};ofh.prototype.getType=function(){return this.C.Ca?5:this.D.getType()};ofh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function zfh(a,b,c){this.F=a;this.C=b;this.D=c}m=zfh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.F.Ca?5:this.C.getType()};
m.uQ=function(){return this.C.uQ()};m.HW=function(){return this.C.HW()};m.render=function(a){this.C.render(a)};m.h7=function(){this.C.h7()};m.getToken=g("D");m.toString=function(){var a=pfh.test(this.D)?"\n"[0]:"";return this.HW().C+a};function sfh(a,b){var c=this;this.D=a;this.C=fq(function(){c.C=null;c.D.close()},b)}sfh.prototype.cancel=function(){null!==this.C&&(gq(this.C),this.C=null);this.D.close()};function nfh(a,b,c){HB.call(this,a,c);this.Ja=!!b}v(nfh,HB);
nfh.prototype.Sc=function(){nfh.Ta.Sc.call(this);Xx(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Vw(this.getElement()),b=this.Ja?-2:-1;Uw(this.getElement(),a.x,a.y+b)}};function Afh(a){this.C=null;this.D=a}function vfh(a,b,c){if(c){var d=new rk;Yj(d,11,c)}a.D&&a.D(b,void 0,d)}var Bfh={},ufh=(Bfh[1]={y8:43002,Y8:43004,b2:43006,V7:43E3},Bfh[2]={y8:43003,Y8:43005,b2:43007,V7:43001},Bfh[3]={y8:43068,Y8:43069,b2:43066,V7:43067},Bfh[4]={y8:43072,Y8:43073,b2:43070,V7:43071},Bfh[5]={y8:43088,Y8:43090,b2:43091,V7:43089},Bfh);function Cfh(a,b,c,d){Vo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new LB(a);Mo(this.F,"input",this.L,!1,this);Dfh(this)}v(Cfh,Vo);Cfh.prototype.L=function(){Dfh(this)};function Dfh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Gp(a.H,String(1==a.J?b:a.D-b))}Cfh.prototype.Ia=function(){Cfh.Ta.Ia.call(this);delete this.C;this.F.dispose();this.F=null};function Efh(a,b){return Ffh(a,b,!1)}function Gfh(a,b){return Ffh(a,b,!0)}function Ffh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Cd(n,h):Fd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Hfh(a,b,c,d,e,f,h){b.getEmail();this.qc=a;this.D=b;this.Zc=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(Hfh,A);m=Hfh.prototype;m.Pg=g("D");m.getId=g("Zc");m.getType=g("L");m.uQ=g("H");m.HW=g("J");m.render=function(a){this.C=Seh(this.qc,this.D,a)};m.h7=ba();m.Ia=function(){var a=this.C;a&&p5(this.qc.C,a)};function Ifh(a,b){this.C=a;Jfh(this.C);this.D=b}function Kfh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Lfh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Lfh.has(a[b])){d=b;break}return{text:a.slice(c,d),Hv:c,yG:d}}function Mfh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Nfh.has(a[d])&&(0==d||Lfh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Lfh.has(a[b])){d=b;break}return{text:a.slice(c,d),Hv:c,yG:d}}
function Ofh(a,b,c,d,e,f,h,k,l){return a.C.zo(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,tY(eah(r))?w=(new BY(eah(r))).setSize(96).Zy():w=eah(r)||null,w=$bh(Xbh(Zbh(new x5,r.getEmail()).Vc(r.getName()),w).Ec(""))):w=null;return{Tcb:r,YC:w}}).filter(function(r){return r.YC}).map(function(r,w){var x=r.YC;w=h+w;r=r.Tcb.getType();var F=new sS(d,!0),M=c;x.getName()&&(M=Pfh(x.getName(),b,M));var X="+"+x.getEmail(),U=Lfh.has(b[M.yG]);return new Hfh(a.D,x,w,k,F,new tS(b.slice(0,
M.Hv)+X+(U?"":" ")+b.slice(M.yG),M.Hv+X.length+1,M.Hv+X.length+1),r)});l(n,!q.qk(),a.C.C)},e)}
function Pfh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Qfh).filter(function(l){return!!l}),e=b.slice(0,c.yG).split(Qfh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.yG-a,{text:b.slice(a,c.yG),Hv:a,yG:c.yG};f++}return c}
var Lfh=new Set([" ","\t","\n"]),Nfh=new Set(["@","+"]),Qfh=/[ ]/;var Rfh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Sfh=new hm(["everybody","nobody"]);function Tfh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(Tfh,A);Tfh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Kfh(a,b);var f=Ufh(this,b.text);a=Ofh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,Vfh,f.query.length,k,l)});this.C=a.qk()?a:null;return!0};
Tfh.prototype.F=function(a,b){a=Kfh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||fd(Rfh,a.text.trim().toLowerCase())||Sfh.contains(a.text.trim().toLowerCase())?!1:!0};function Ufh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:me}:null!=a[2]?{query:a[2],filter:Gfh}:null!=a[3]?{query:a[3],filter:Efh}:null}Tfh.prototype.getType=ea(2);Tfh.prototype.Ia=function(){delete this.C};var Vfh=new tDd(!1);function Wfh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(Wfh,A);Wfh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Mfh(a,b);var f=Xfh(this,b.text);a=Ofh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,Yfh,f.query.length,k,l)});this.C=a.qk()?a:null;return!0};Wfh.prototype.F=function(a,b){a=Mfh(a,b);return this.D.test(a.text)};
function Xfh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:me}:null}Wfh.prototype.getType=ea(1);Wfh.prototype.Ia=function(){delete this.C};var Yfh=new tDd(!0);var Zfh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,$fh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function agh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Hd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function bgh(a){this.C=new tL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Jfh(this.J)}function cgh(a,b){var c=$bh(Wbh(Zbh(new x5,b).Ec(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.zo(b,1,u(a.L,a,b)))}bgh.prototype.L=function(a,b){if(null!==b&&0<b.length&&this.C.Sg(a)){b=b[0];var c=null;tY(eah(b))?c=(new BY(eah(b))).setSize(96).Zy():c=eah(b)||null;b=$bh(Xbh(Zbh(new x5,a).Vc(b.getName()),c).Ec(""));this.C.set(a,b)}delete this.H[a]};
function dgh(a){return a.C.C.next.value||null}function egh(a){return a.F?a.D:null};function fgh(a,b,c){Ho.call(this,c)}v(fgh,Ho);function ggh(a){a=a.mOb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function hgh(a,b,c){L4.call(this,a,b);this.D=c}t(hgh,L4);hgh.prototype.Ba=function(){this.jb(Uy(ggh,{mOb:this.D}))};hgh.prototype.Ga=function(){L4.prototype.Ga.call(this);this.setVisible(!1)};hgh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function igh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;L4.call(this,a,b);this.Oa=a;this.V=new DA("",b);var e=this.C.yj();this.V.yO=e;this.Fa(this.V);this.R=new DA("",b);this.Fa(this.R);this.xa=b.Db().body;this.F=c;this.H=new bgh(this.Oa);this.Ha=this.ib=null;this.Ca=new Teh(b,this.C,this.Oa,this.F);this.J=(this.$d="legacy"!=this.C.F)?new hR(b):new iR(!1,b);this.mb=!1;this.Pa=!d;c=px.getInstance();this.ld=qx(c);this.Hc=qx(c);this.Lc=qx(c);this.dc=null;z(y(),"docs-edp")&&(this.dc=new hgh(a,b,"focused-presenceindicator"));
this.wc=0;this.ma="";this.Ya="Comment draft";this.fb=this.Sa=this.$c=null;this.qb=!0;this.Aa=!1;this.Bb=this.yb=this.L=this.bb=this.Va=null;this.Na=!1;this.O=this.Ja=null;Qdh(a)}t(igh,L4);m=igh.prototype;m.Ba=function(){var a=Leh();this.Bc(Uy(Heh,{yj:this.C.yj(),FC:this.C.Ca,wG:a,Zu:Zch(this.C)},void 0,this.oa()))};
m.Bc=function(a){L4.prototype.Bc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.D=b.Za("docos-input-textarea",a);this.Sa=new MB;this.Sa.Ua(this.D);this.qa(this.Sa);Keh()&&this.D.setAttribute("placeholder",this.ma);if(Leh()){this.Ja=b.Za("docos-plus-mention-icon",a);null!=this.Ja&&(this.O=new DA(null,b),this.O.Ua(this.Ja),this.O.setVisible(!1));var c=this.Sa.Ie()?"left":"right";Rw(this.D,"padding-"+c,"36px")}this.Pa||P(this.D,this.Pa);this.fb=b.Za("docos-input-at-reply-message",
a);this.fb.setAttribute("id",this.ld);this.Va=b.Za("docos-input-acl-fixer-message",a);this.Va.setAttribute("id",this.Hc);this.bb=b.Za("docos-input-assignment-message",a);this.bb.setAttribute("id",this.Lc);this.Ha=b.Za("docos-input-assignment-panel",a);c=this.Ca;var d=this.Ha;c.J=d;Tz(c,new Bbb(d,9));this.ib=b.Za("docos-input-assignee-text",a);c=b.Za("docos-input-assignee-select",a);this.Ca.Ua(c);this.Ca.Ma(!0);if(c=b.Za("docos-input-assignment-box",a))this.J.Ua(c),gR(this.J,this.ib);c=jgh(this);if(0<
c.length){d=!this.F||!this.F.Vk();var e;d?e=this.C.L:this.F&&(e=this.F.getElement());this.L=new lfh(this.C,this.D,c,new Afh(this.C.Na),this.C.O||void 0,e||void 0,this.D||void 0,d);this.qa(this.L)}if(e=b.Za("docos-input-cancel",a))this.R.Ua(e),Xx(e,this.R.Gl());(a=b.Za("docos-input-post",a))&&this.V.Ua(a);this.dc&&this.F.Vk()&&(a=this.oa().Za("docos-focusedpresenceindicator-container",this.getElement()),this.dc.render(a))};
function jgh(a){var b=[],c=new Reh(n5(a.Oa),a.oa());c=adh(a.C)?new Ifh(a.Oa.get("contactStore"),c):null;if(adh(a.C)){var d=new Wfh(c);a.qa(d);b.push(d)}d=bdh(a.C).map(function(e){return e.F()});pd(b,d);adh(a.C)&&(c=new Tfh(a.C.Vg,c),a.qa(c),b.push(c));return b}
m.Ga=function(){L4.prototype.Ga.call(this);NXe(this.getElement(),!1);Zch(this.C)||(this.yb=new Cfh(this.D,null,2048),this.qa(this.yb));this.Bb=new LB(this.D);this.qa(this.Bb);N4(N4(N4(N4(N4(N4(N4(N4(N4(N4(N4(N4(N4(this,this.Bb,"input",this.Gzb),this.D,"keydown",this.LE),this.D,"keyup",this.sSb),this.D,"keypress",this.rSb),this.R,"action",this.qSb),this.V.getElement(),["click","keypress","keyup"],this.m3a),this.V,"action",this.hVa),this.Ha,"click",this.S6b),this.J,"change",this.U6b),this.J.Xl(),"keypress",
this.V6b),this.Ha,["keyup","keypress"],this.T6b),this.Ca,"action",this.R6b),this.D,"pointerdown",this.pSb);this.O&&N4(this,this.O,"action",this.u7b);this.L&&(N4(this,this.L,"update",this.sqb),N4(this,this.L,"suggestionsupdate",this.l4a));this.D[kgh]=u(this.blur,this);this.D[lgh]=u(this.a8b,this);this.R.getElement()&&(N4(this,this.R.getElement(),["click","keypress","keyup"],this.m3a),this.R.Ma(!0));if(this.F&&O4(this.F.bd())&&Bdh(this.F.bd())){var a=this.H,b=J4(O4(this.F.bd())).getEmail();b&&!a.C.Sg(b)&&
cgh(a,b);a.C.isEmpty();a=this.H;b=dgh(this.H);fd(a.C.Ad(),b);a.D=b;a.F=!0;this.J.Eb(!0)}Keh()?(this.D.value="",this.xe(this.Ya+". "+this.ma)):this.D.value=this.ma;this.Na=!0;Ux(this.D,"label",this.Ya);cdh(this.C)&&(Hp(this.getElement(),!0),Xx(this.getElement(),"This is the input pane."))};m.pSb=function(a){kj&&Ef(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};
m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.D?this.D.value:""};m.setValue=function(a){this.D.value=a};m.isEmpty=function(){return Gd(this.getValue())};function U5(a){return!Gd(a.getValue())&&!a.Na}m.xe=da("Ya");
m.reset=function(a){this.Aa||this.isDisposed()||(Keh()?(this.D.setAttribute("placeholder",this.ma),this.D.value=""):this.D.value=this.ma,this.Na=!0,this.O&&this.O.setVisible(!1),Ux(this.D,"label",this.Ya),vf?fq(this.dSa,0,this):this.dSa(),V5(this,a),this.D&&(this.D.style.height=""),a||mgh(this),ngh(this,"none"))};
function ngh(a,b){if(a.fb&&a.Va&&a.bb){P(a.fb,"atReplyMessage"==b);P(a.Va,"aclFixerMessage"==b);P(a.bb,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.ld;break;case "assignmentMessage":d=a.Lc;break;case "aclFixerMessage":d=a.Hc}null!=d?Ux(c,"describedby",d):Vx(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Na&&(this.$c=!b&&a||"",this.D.value=a||"",this.Na=!1),ky(this.getElement(),"docos-input-typing"),c||this.focus(),V5(this))};
m.blur=function(){this.F&&this.dispatchEvent(new Ho("b",this.F));this.O&&!this.O.Cb()&&this.O.setVisible(!1)};m.focus=function(){vf||fq(this.gVa,0,this);this.gVa()};m.gVa=function(){!this.isDisposed()&&hx(this.D)&&(this.D.focus(),this.O&&(this.O.setVisible(!0),ogh(this)))};m.dSa=function(){this.isDisposed()||my(this.getElement(),"docos-input-typing")};
function V5(a,b){var c=Hd(a.getValue());c=!a.Na&&c!=a.$c;a.V.Ma(!a.Aa&&(!a.Pa||c&&!a.isEmpty()));a.l4a();var d=pgh(a),e=a.H.D,f=a.H.C.Ad().length;if(a.Pa){var h=a.H;var k=a.getValue(),l=d?J4(d):void 0;d=agh($fh,k);k=h.C;h.C=new tL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];k.Sg(q)?h.C.set(q,k.get(q)):cgh(h,q)}l&&(l=nf(l.getEmail()),!Gd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=dgh(h))?k.getEmail():null;(h.F||l==n)&&l&&h.C.Sg(l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
qgh(a,!1);e=a.C;0!=f||!h||a.Aa||!Mj(e.vh,33)||e.R||e.ma||(f=e.Pl,e=dgh(a.H)?dgh(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.mb&&a.F&&!a.F.bd().isResolved()&&a.Pa&&(a.F.dxa()||!!mdh(a.F.bd()));Mj(a.C.vh,38)&&(f?(a.J.Ma(!a.Aa),a.Ca.Ma(!a.Aa),a.Ca.update(a.H.C.Ad(),d),f=lbh(d,a.C,!!pgh(a)),e=a.Ca.getElement(),Gp(a.ib,f),Xx(e,f+". Choose an assignee."),oy(a.ib,"docos-input-assignee-text-no-chevron",!hx(e)),P(a.Ha,!0),rgh(a,!0)):(qgh(a,!1),a.J.Ma(!1),a.Ca.reset(),P(a.Ha,!1),rgh(a,!1)));a.Aa&&adh(a.C)&&
!a.H.C.isEmpty()?ngh(a,"aclFixerMessage"):a.qb&&adh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?ngh(a,"assignmentMessage"):a.qb?ngh(a,"atReplyMessage"):ngh(a,"none"):ngh(a,"none");(f=egh(a.H))&&a.F?(e=!!pgh(a),f=lbh(f,a.C,e),e=e?"Reassign":"Assign"):a.mb?(f="Save changes",e="Save"):!a.F||a.F.bd().Jw()?(f="Post Comment",e="Comment"):a.F.bd().iY()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.V.getElement()&&M4(a.Oa).C.C(a.V.Ka(),f);Gp(a.V.getElement(),e);c?(sgh.contains(a)||
(sgh.add(a),a.dispatchEvent(new fgh(a.F.getId(),1,"pr"))),ky(a.getElement(),"docos-input-nohide")):(tgh(a),my(a.getElement(),"docos-input-nohide"));ugh(a);b||a.dispatchEvent("s")}function tgh(a){sgh.contains(a)&&(sgh.remove(a),a.dispatchEvent(new fgh(a.F.getId(),0,"pr")))}
m.l4a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.kf()&&(this.getElement().setAttribute("aria-autocomplete","list"),Ogb(this.L)&&this.getElement().setAttribute("aria-activedescendant",xfh(this.L)))};function rgh(a,b){if(b=b&&a.F)b=a.F,b=b.Vk()&&b.dc;b?(a.C.xt||le)("docosTodos",u(a.i9b,a)):(a.C.Yh||le)("docosTodos")}m.i9b=function(){this.dispatchEvent("ph")};function qgh(a,b){a.J.Eb(b);a.H.F=b}
function pgh(a){return a.F&&!a.F.bd().Jw()&&mdh(a.F.bd())?O4(a.F.bd()):null}m.m3a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.qSb=function(){this.dispatchEvent("c");this.reset()};m.hVa=function(){if(this.V.isEnabled()){var a=this.H.C.$e(),b=this.C;if(Mj(b.vh,33)&&!b.R&&!b.ma&&!gd(a)&&(b=this.C.Wm)){ngh(this,"aclFixerMessage");this.Aa=!0;V5(this);this.R.getElement()&&this.R.Ma(!1);b(a,u(this.cpb,this));return}vgh(this)}};
m.S6b=function(){this.Aa||(qgh(this,!this.J.isChecked()),V5(this))};m.U6b=function(){var a=this.J.isChecked();this.H.F=a;V5(this)};m.V6b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Eb(a.PD?!1:!0),this.J.dispatchEvent("change"),this.V.focus())};m.T6b=function(a){a.stopPropagation()};m.R6b=function(){this.J.Eb(!0);var a=this.H,b=Ueh(this.Ca);fd(a.C.Ad(),b);a.D=b;a.F=!0;V5(this)};
m.cpb=function(a){this.Aa&&(this.Aa=!1,"continue"==a?vgh(this):ngh(this,"atReplyMessage"),this.F.getContext()&&(V5(this),this.R.getElement()&&this.R.Ma(!0)))};function vgh(a){vf&&a.F&&a.F.bd().Jw()&&Qf(a.yb);a.dispatchEvent("p");a.reset()}m.a8b=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Ho("f",this.F));this.O&&(this.O.setVisible(!0),ogh(this))};
function ugh(a){if(!a.D)return!1;var b=a.D.clientHeight,c=a.D.scrollHeight,d=ex(a.D).height;return b!=c&&0<d?(dx(a.D,d+c-b),ogh(a),!0):!1}function ogh(a){if(null!=a.Ja){var b=Vw(a.D),c=ex(a.D),d=ex(a.Ja),e=d.width;d=d.height;var f=b.x;a.Sa.Ie()||(f+=c.width-e);Uw(a.Ja,f,b.y+c.height-d)}}
m.LE=function(a){ugh(this)&&this.dispatchEvent("s");this.wc=a.keyCode;if(13==a.keyCode)wgh?a.metaKey&&Bf&&kj&&xgh(this,a):xgh(this,a);else if(27==a.keyCode){yf&&a.preventDefault();if(this.L&&this.L.kf())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Ho("e",this.F));mgh(this)}a.stopPropagation()};
m.sSb=function(a){ugh(this)&&this.dispatchEvent("s");var b=this.wc;this.wc=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Kd){Bd(this.getValue(),"\n")?this.LE(a):a.preventDefault();return}this.Kd=!1}a.stopPropagation()};m.rSb=function(a){if(13==a.keyCode&&wgh)xgh(this,a);else if(27==a.keyCode){if(this.L&&this.L.kf())return;this.blur();mgh(this)}a.stopPropagation()};function xgh(a,b){if(b.ctrlKey||b.metaKey)a.Kd=!0,a.V.getElement().focus(),a.hVa()}
function mgh(a){a.xa&&(vf&&!Ef("9")?a.xa.focus():fq(function(){return a.xa.focus()}))}m.Gzb=function(){V5(this)};m.sqb=function(){V5(this)};m.u7b=function(){this.L.Ca=!0;this.focus();ygh(this,"+");var a=Tgb(this.D,!0)[0];zgh(this,a-1)&&(ygh(this," ",a-1),a+=1,JYe(this.D,a));zgh(this,a+1)&&(ygh(this," ",a),JYe(this.D,a));this.L.update(!0)};
function ygh(a,b,c){c&&JYe(a.D,c);c=a.D;if(Pgb(c)){var d=c.value,e=c.selectionStart;c.value=d.substr(0,e)+b+d.substr(c.selectionEnd);c.selectionStart=e;c.selectionEnd=e+b.length}else if(Qgb())d=Rgb(c),c=d[1],d[0].inRange(c)&&(d=c.duplicate(),c.text=b,c.setEndPoint("StartToStart",d),c.select());else throw Error("Cannot set the selection end");b=Tgb(a.D,!1)[1];JYe(a.D,b)}function zgh(a,b){a=a.getValue();return 1>b||b>a.length?!1:" "!=a[b-1]}
m.Ia=function(){L4.prototype.Ia.call(this);tgh(this);this.D&&(this.D[kgh]=null,this.D[lgh]=null);delete this.D;delete this.yb;delete this.Bb};var sgh=new hm,kgh=vf?"onfocusout":"onblur",lgh=vf?"onfocusin":"onfocus",wgh=Bf||uf||yf;zf&&Ef("530");function Agh(a,b,c,d,e,f,h,k){d=void 0===d?0:d;Meh.call(this,a,b);this.Ym=c||null;this.Jp=d;this.C=e||null;this.V0=h;this.Vk=k}t(Agh,Meh);function Bgh(a){this.C=M4(a)};function Cgh(a,b){b.iY()?a.V+=1:b.Jw()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Qj()?(b=Cdh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Dgh(a,b,c,d,e){this.Wj=a;this.C=b||null;this.Ym=c||null;this.Jp=d||null;this.flags=e||null};function Egh(a,b,c,d){Ho.call(this,b,a);this.source=c;this.C=d}t(Egh,Ho);function Fgh(a,b){this.F=a;this.D=b;this.C=[]}function Ggh(a){return new Egh(a.F,"bu",a.D,a.C)};function Hgh(){this.D={};this.C={};this.F=0}function Igh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Jgh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Kgh(c,d);a.C[c][d||"$"]=b}Hgh.prototype.bind=function(a,b){if(null!==Igh(this,a,b))return!1;this.F++;Jgh(this,this.F,a,b);return!0};function Lgh(a,b,c){var d=Igh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Mgh(a,b,c,d,e){var f=Igh(a,b,c);if(null===f||null!==Igh(a,d,e))return!1;Lgh(a,b,c||void 0);Jgh(a,f,d,e);return!0}
function Ngh(a,b,c){return Igh(a,b,c)||0}Hgh.prototype.getDocoHandles=function(){for(var a=Td(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Kgh(a,b){this.C=a;this.D=b||null};function Ogh(){this.D={}}Ogh.prototype.C=function(a){Bdh(a)||(this.H(a),a.zR()&&(this.D[a.getId()]=!0))};Ogh.prototype.H=function(a){delete this.D[I5(a)];delete this.D[a.getId()]};Ogh.prototype.F=function(){return!Yd(this.D)};function Pgh(a){this.J=a;this.D=new Ogh}Pgh.prototype.C=function(a){this.D.C(a);a=this.J.$h;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Pgh.prototype.H=function(a){this.D.H(a)};Pgh.prototype.F=function(){return this.D.F()};function Qgh(a){Vo.call(this);this.L=a;this.C={};this.R=null;this.F={};this.J=[];this.Ja=[];this.Ha={};this.V={};this.H=new Map;this.D=new Hgh;this.Na=[];this.xa=!1;this.Aa=this.O=null;this.Pa=!1;this.Ca=new Pgh(this.L)}v(Qgh,Vo);function Rgh(a,b){a.Qj();var c="<i>Made a suggestion</i>";(a=a.P3())&&(b=b.wt)&&(b=b(a).C())&&(c=b);return c}function Sgh(a,b){return"n"!=b&&!Bdh(a)&&a.zR()}
function Tgh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Fgh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=J5(d);h.C.push(new Dgh(b,c,d,e,f));k&&a.dispatchEvent(Ggh(h))}
function Q5(a,b,c,d){c=c||"c";var e=Ugh(a),f=Vgh(a,b.getId(),K(v5(b.C),11)||"");if(f){var h=f.getId(),k=f.wq();b=b.C;var l=ek(f.F);v5(b);var n=v5(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.wq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.wq(),x=t5(n),F=!1,M=0;M<x.length;M++){var X=x[M],U=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;U||(U=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!U);if(U){var ca=U.getId();U.update(X);if(ca!=U.getId()&&(delete f.D[ca],f.D[U.getId()]=U,Ngh(f.O,
r,ca)&&!Mgh(f.O,r,ca,r,U.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+U.getId());U.wq()?(delete f.D[U.getId()],f.J[U.getId()]=U,Lgh(f.O,r,U.getId())):F&&!U.wq()&&(delete f.J[U.getId()],f.D[U.getId()]=U,f.O.bind(r,U.getId()))}else U=new vch(X),U.wq()?(f.J[U.getId()]=U,Lgh(f.O,r,U.getId())):(f.D[U.getId()]=U,delete f.J[U.getId()],f.O.bind(r,U.getId())),U=t5(v5(f.F)),U.push(X),X=v5(f.F),ak(X,8,U)}r=0;void 0!==Mj(b,6)&&Mj(b,6)!=f.isResolved()&&(r=Mj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);ak(n,8,[]);q&&(n.setContent(void 0),Yj(n,4,void 0),Yj(n,9,void 0));Rbh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.QR=null;dk(f.F,l)||(r|=1);b=r;a.Ca.C(f);Wgh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.H.delete(h),l=Ngh(a.D,h),delete a.Ha[l],a.C[f.getId()]=f,l&&!Mgh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Ngh(a.D,f.getId());f.wq()?(delete a.C[f.getId()],a.H.delete(h),Lgh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ha[l]=f),Sgh(f,
c)&&(id(a.J,f.getId()),id(a.Ja,f.getId())),d=Ldh(Kdh(Jdh("dd"),c),f.getId()),k=J5(f),d.Gr=k,d.C=l,d=Mdh(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(Odh(d))):(k&&(delete a.F[f.getId()],delete a.Ha[l],a.C[f.getId()]=f,(a.L.Ha||J5(f))&&a.D.bind(f.getId()),l=Ngh(a.D,f.getId())),0!=b&&(Sgh(f,c)&&id(a.J,f.getId()),Tgh(a,c,h,f,l,b,d)))}else f=new zdh(b.C,a.D,b.bt?b.bt:void 0),a.Ca.C(f),f.wq()?a.F[f.getId()]=f:Xgh(a,f,c,d);Ugh(a)!=e&&(e=Ugh(a)?32:0,c=Odh(Mdh(Kdh(Jdh("p"),c),e)),a.dispatchEvent(c))}
function $dh(a,b,c){for(var d=new Fgh(a,c),e=0;e<b.length;e++)Q5(a,b[e],c,d);a.dispatchEvent(Ggh(d))}function Sdh(a,b){b.getNewDocoType()||Fdh(b,"draft");b=new zdh(b.C,a.D,b.bt?b.bt:void 0);a.Ca.C(b);Xgh(a,b)}
function Xgh(a,b,c,d){if(Mj(a.L.vh,38)||!b.isTodo()){c=c||"c";var e=null;b.Xz()&&(e=Ygh(a,J5(b)));e&&Bdh(e)?(Mgh(a.D,e.getId(),null,b.getId(),null),Vdh(a,e.getId(),c)):(a.L.Ha||b.Xz())&&a.D.bind(b.getId());a.C[b.getId()]=b;Wgh(a,b);e=8|(b.isResolved()?2:0);Sgh(b,c)&&id(a.J,b.getId());var f=Ngh(a.D,b.getId());Tgh(a,c,void 0,b,f,e,d)}}
function Vdh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Xz()){var e=J5(d);delete a.V[J5(d)]}a.Ca.H(d);d=Ngh(a.D,b);delete a.C[b];Lgh(a.D,b);b=Ldh(Kdh(Jdh("dd"),c),b);b.C=d;b=Mdh(b,16);void 0!=e&&(b.Gr=e);a.dispatchEvent(Odh(b))}}function W5(a,b){if(!b)a.R=null;else if(!b||a.bd(b)){if(a.L.vG()){var c=!0;c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(Odh(Ldh(Kdh(Jdh("sd"),"c"),b)));c&&Zgh(a)}a.R=a.bd(b)}}function deh(a,b){b=b.getId();return fd(a.Na,O5(a,b))}
Qgh.prototype.ma=function(a){return(this.L.Ha||a.Xz())&&(!a.isResolved()||this.xa)};function $gh(a){var b=ce(a.C);ee(b,a.F);return b}function ahh(a){var b=new xah;a=Sd($gh(a));for(var c=0;c<a.length;c++)Cgh(b,a[c]);return yah(b)}function bhh(a){function b(d){return d.zR()}var c=Xc(Sd(a.C),b);a=Xc(Sd(a.F),b);return c.concat(a)}function chh(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(Odh(Ldh(Kdh(Jdh("ud"),"c"),b)));d&&Zgh(a)}
function Zgh(a){(a=a.L.H["unseen-docos-updated"])&&a((new I4("unseen-docos-updated")).setNonAnchored(!0).build())}function Ugh(a){return a.Pa?a.Ca.F():!1}function dhh(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.bd(c);d||(d=a.F[c]);if(d&&d.zR())return!0}return!1}Qgh.prototype.bd=function(a){return this.C[a]};function Vgh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function Wgh(a,b){J5(b)&&(b.wq()?delete a.V[J5(b)]:a.V[J5(b)]=b)}
function Ygh(a,b){var c=a.V[b]||null;return c&&J5(c)!=b?(delete a.V[b],null):c}function R5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function Zdh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?C5(a,b):null:null}Qgh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function O5(a,b,c){return Ngh(a.D,b,c)}
Qgh.prototype.flush=function(a){this.dispatchEvent(Odh(Ndh(Kdh(Jdh("f"),"c"),!!a)));this.dispatchEvent(Odh(Kdh(Jdh("af"),"c")))};function ehh(a,b){a=a.Aa;if(!a)return null;b=b.Ac(a.getKey());if(!b)return null;a=b.Za("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new cn(b,b+a.height)}function fhh(a,b){return(a=ghh(a,b))?new CY(a.getKey().getId(),a.getValue()):null}
function ghh(a,b){var c=a.O;if(!c)return null;var d=a.Aa;if(!d)return null;var e=d.getKey();e=ce(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=K5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+hhh(h,c,b);if(k>d)return new CY(h,d-a);a=k}return null}function ihh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Nq('<span class="%s">%s</span>',d,h));c+=h}return c}
function hhh(a,b,c){a=jhh(a,c);if(!a)return 0;a=qp(a).textContent.toLowerCase();return Jga(a,b.toLowerCase())}function jhh(a,b){var c=a.wga();if(!c){var d=khh();a.Qj()?c=UL(d,Rgh(a,b)):a.getContent()?c=UL(d,a.getContent()):c=null}return c}function khh(){var a=Olc(new Flc);a.F=me;return new Elc(a)};function lhh(a,b){this.C=a;this.D=b};function mhh(a,b,c){this.C=a;this.D=b;this.F=c};function nhh(a,b,c,d){L4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new DA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(nhh,L4);m=nhh.prototype;m.Bc=function(a){L4.prototype.Bc.call(this,a);this.H=this.oa().Za("like-button-text",a);this.J=this.oa().Za("docos-icon",a);this.F=this.oa().Za("docos-icon-img",a);this.D.Ua(this.getElement())};m.Ga=function(){N4(this,this.D,"action",this.dSb);N4(this,this.getElement(),["click","keypress","keyup"],this.cSb);this.update()};m.eVa=da("L");
m.cSb=function(a){a.stopPropagation()};function ohh(a){var b=o5(a.R).bd(a.L);return null!=a.O?C5(b,a.O):b}m.dSb=function(a){a.stopPropagation();a=q5(this.R);var b=ohh(this).Wz();b=!b||1!=y5(b);null!=this.O?a.vf("docos-vote-reply").kb(new mhh(this.L,b,this.O)):a.vf("docos-vote-doco").kb(new lhh(this.L,b))};
m.update=function(){var a=ohh(this).Wz(),b=!a||0==fch(a,1).length&&1!=y5(a);my(this.H,"no-votes");!b||ky(this.H,"no-votes");ny(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);ny(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?ky(this.F,"docos-icon-thumb-black"):1==y5(a)?(ky(this.J,"current-user-has-up-vote"),ky(this.F,"docos-icon-thumb-green")):0<fch(a,1).length&&(ky(this.J,"post-has-votes-no-current-user-vote"),ky(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=fch(a,1),b=y5(a),c=c.length,1==b&&c++);Gp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==y5(a))&&(b="Unlike this"),a=fch(a,1),0<a.length))for(b=of(b,"\n"),c&&(b=of(b,"\n","You")),c=0;c<a.length;c++)b=of(b,"\n",K4(Vbh(N(a[c].C,DY,1))));this.D.getElement()&&M4(this.R).C.C(this.D.Ka(),b)};function phh(a,b){a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';a+=R(CA({id:"docos-shadow-confirm",
content:Fx("Delete")},b));a+=R(CA({id:"docos-shadow-cancel",content:Fx("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function qhh(a,b){L4.call(this,a,b);this.D=this.J=this.L=this.V=this.Aa=this.R=this.Pd=null;this.H=new DA(null,b);this.Fa(this.H);this.F=new DA(null,b);this.Fa(this.F);this.Dg=this.O=null;this.ma=!1;this.xa=new uA(this);this.qa(this.xa);a=q5(a);this.xa.ub(a.Qa("docos-highlight-doco"),st,this.i1)}v(qhh,L4);var rhh=null;function shh(a,b){rhh||(rhh=new qhh(a,b),rhh.render());return rhh}var thh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=qhh.prototype;
m.Ba=function(){this.jb(Uy(phh,{},void 0,this.oa()))};
m.Ga=function(){qhh.Ta.Ga.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Ua(a.getElement("docos-shadow-cancel"));this.H.Ma(!0);this.F.Ua(a.getElement("docos-shadow-confirm"));this.F.Ma(!0);this.O=new XB(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);YB(this.O);this.Dg=new uy(a.Db());this.qa(this.Dg);this.ma=!0}N4(N4(N4(N4(this,this.H,"action",this.Veb),this.F,"action",this.Xeb),this.getElement(),
["keyup","keydown"],this.Yeb),this.Dg,"focusin",this.xy)};m.prompt=function(a,b,c,d,e,f){this.pb()&&this.od();if(c!=this.V){var h=thh[c];h&&this.oa().ze(this.L,h);this.V=c}this.Pd=b;this.R=a;this.J=e||null;b=ex(a);bx(this.D,b);b=Sw(a,"paddingLeft");c=Sw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?rx(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Aa=d.getId(),this.getHandler().listen(d,"rd",this.Zeb))};
m.od=function(){qhh.Ta.od.call(this);this.J=this.R=this.Pd=null};m.i1=function(){bx(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();vp(this.getElement());this.pb()&&this.od()};m.Xeb=function(){this.Pd&&this.Pd();this.i1()};m.Yeb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.i1())};m.Veb=function(){this.i1()};m.Zeb=function(a){a.target&&a.target.getId()==this.Aa&&this.R&&P(this.getElement(),!0)};
m.xy=function(a){a=a.target;Ep(this.getElement(),a)||this.i1()};function uhh(a,b){return 1==b&&!a.C&&!a.getId()};function vhh(a,b,c,d){L4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new DA(null);this.F=null;this.qa(this.D)}t(vhh,L4);m=vhh.prototype;m.Bc=function(a){L4.prototype.Bc.call(this,a);this.F=this.oa().Za("vote-button-text",a);this.D.Ua(this.getElement())};m.Ga=function(){N4(this,this.D,"action",this.mSb);N4(this,this.getElement(),["click","keypress","keyup"],this.lSb);this.update()};m.eVa=da("H");m.lSb=function(a){a.stopPropagation()};
function whh(a){var b=o5(a.L).bd(a.H);return null!=a.J?C5(b,a.J):b}m.mSb=function(a){a.stopPropagation();a=q5(this.L);var b=whh(this).Wz();b=!b||1!=y5(b);null!=this.J?a.vf("docos-vote-reply").kb(new mhh(this.H,b,this.J)):a.vf("docos-vote-doco").kb(new lhh(this.H,b))};
m.update=function(){var a=whh(this).Wz();ny(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==y5(a)?ky(this.F,"current-user-has-up-vote"):0<fch(a,1).length&&ky(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=fch(a,1);b=y5(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Gp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==y5(a))&&(b="Remove your +1"),a=fch(a,1),0<a.length))for(b=of(b,"\n"),c&&(b=of(b,"\n","You")),c=0;c<a.length;c++)b=
of(b,"\n",K4(Vbh(N(a[c].C,DY,1))));this.D.getElement()&&M4(this.L).C.C(this.D.Ka(),b)};function xhh(a,b,c,d,e,f,h){L4.call(this,a,d);this.F=a;this.mb=M4(this.F).O;this.Vg=new Bgh(a);this.O=b;this.H=e;this.uh=h||"";this.We=u(this.eSb,this);this.D=null;this.Ec(f||"root");this.xa=c;this.yb=!0;this.Ya=2;this.$d=!1;this.ef=this.F.get("relativeDateFormatter");this.Lc=this.Na=this.Sa=this.Ha=this.Oa=this.Kd=this.Va=this.bb=this.fb=this.$c=this.wc=this.ld=this.dc=this.Aa=this.hg=this.Bb=this.qb=this.Ca=this.Pf=this.R=this.L=this.J=this.V=this.ma=this.Pa=this.Hc=this.Ja=null;this.ib=new Elc(Jlc(Olc(new Flc),
["data-rawHref"]));N4(this,this.ef,"Yi",u(this.NUa,this,!0))}t(xhh,L4);m=xhh.prototype;m.bd=function(){return o5(this.F).bd(this.O)};function yhh(a){return C5(a.bd(),a.getId())}function X5(a){return Y5(a)?a.bd():yhh(a)}
m.Ba=function(){var a=this.oa(),b=X5(this),c=b.Lw(),d=zhh(this),e=Ahh(this);if(Y5(this)&&xch(this.bd().C)){var f=Hd(xch(this.bd().C));f=f.replace(Bhh,"<br>").replace(Chh," ");f=UL(this.ib,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=Uy(Deh,{author:c.getName(),Xg:c.C,WE:this.C.V&&!k?c.getId():null,ina:e||"",Ae:this.uh,Vk:this.xa,xna:Dhh(this),Cm:Z5(this),Rva:d,Sz:Y5(this),Qj:b.Qj(),jbc:h?h:"",s7:Ehh(this),LJ:Fhh(this),ZX:!!X5(this).VB(),yj:this.C.yj(),rfa:this.C.rfa(),
Hva:this.C.Hva(),isBadgingEnabled:this.C.vG(),timestamp:Ghh(this),Hdb:$ch(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Yn:f},void 0,a);this.jb(b);d=a.Za("docos-accept-suggestion",b);h=a.Za("docos-reject-suggestion",b);this.dc=a.Za("docos-body-action-text",b);this.wc=a.Za("docos-anchoredreplyview-buttonholder",b);this.Oa=a.Za("docos-author",b);d&&h&&(this.ma=new DA(null,a),k=this.C.yj(),this.ma.yO=k,this.qa(this.ma),this.V=
new DA(null,a),this.qa(this.V),this.ma.Ua(d),this.V.Ua(h));if(k=a.Za("docos-replyview-resolve-button",b)){this.J=new DA(null,a);var l=this.C.yj();this.J.yO=l;this.qa(this.J);this.J.Ua(k)}(k||d&&h)&&Hhh(this);d=this.oa();h=d.Za("docos-vote-button",b);k=d.Za("docos-like-button",b);if(h||k)h?(this.R=new vhh(this.F,this.O,d,Y5(this)?void 0:this.getId()),this.Fa(this.R),this.R.Ua(h)):k&&(this.R=new nhh(this.F,this.O,d,Y5(this)?void 0:this.getId()),this.Fa(this.R),this.R.Ua(k));d=a.Za("docos-overflowmenu-outer",
b);(Z5(this)||Dhh(this)||Y5(this))&&d&&(f=Uy(Ceh,{Wh:"docos-icon-overflow-three-dots",JB:"docos-icon-overflow-three-dots-size",OR:f}),a.appendChild(d,f),Rw(d,"visibility",""),f=[],Z5(this)&&(f=f.concat(["edit"])),Dhh(this)&&(f=f.concat(["delete"])),Y5(this)&&(this.C.wc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new ddh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Fa(this.L),this.L.Ua(d));this.Ja=a.Za("docos-replyview-body",b);this.Pf=a.Za("docos-streamreplyview-text",b)||
this.Ja;this.Ca=a.Za("docos-collapsible-replyview",b);this.qb=a.Za("docos-replyview-timestamp",b);Y5(this)&&xch(this.bd().C)&&(this.Aa=a.Za("docos-replyview-quote",b),this.fb=a.Za("docos-replyview-quote-expand",b),this.Va=a.Za("docos-replyview-quote-collapse",b));(this.Bb=a.Za("docos-show-less",b))&&Ihh(this);this.hg=a.Za("docos-show-more",b);this.Kd=a.Qf("docos-replyview-static",b);Z5(this)&&this.D&&Jhh(this);(Z5(this)||Dhh(this))&&(this.bb=a.Za("docos-replyview-control",b))&&P(this.bb,!this.bd().isResolved());
this.Ha=AV(a,"IMG","docos-replyview-avatar",b);if(f=a.Za("docos-user-presence",b))d=this.C,c=(h=d.$c)&&c.getId()?h(c.getId()):(d=d.$C)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Sa=a.Za("docos-replyview-origin",b);Khh(this);this.C.vG()&&(!this.xa&&Y5(this)?this.Na=this.H.Lc:this.Na=a.Za("docos-new-tag",b),a=o5(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=X5(this))&&(a=a.has(c.getId()),this.Na&&P(this.Na,a));e&&(this.Pa=e,Lhh(this,Ie(e)),Mhh(this),Nhh(this));Ohh(this)};
function Ohh(a){if(cdh(a.C)){var b={AUTHOR_NAME:X5(a).Lw().getName(),CREATION_TIME:Ghh(a)};if(a.Ja.textContent)if(Fhh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ja.textContent;b.ACTION_TEXT=Fhh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ja.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Fhh(a);c=(new iB(c)).format(b);Xx(a.getElement(),c)}}
function Phh(a){var b=a.bd();if(b)if(b.isResolved()){if(a.H.gBa(!1),b=a.bd())b.Qj(),Qhh(a,!1,vbh(a.H))}else a.dispatchEvent("br"),a.H.gBa(!1),(b=a.bd())&&(b.Qj()?Rhh(a):Qhh(a,!0,vbh(a.H))),a.dispatchEvent("ar")}function Shh(a){a.D||(a.D=new igh(a.F,a.oa(),a.H),a.qa(a.D),a.Fa(a.D),a.D.ma="Edit your comment...",a.D.qb=!1,N4(N4(N4(a,a.D,"p",a.$fc),a.D,"c",a.MGa),a.D,"s",a.fSb),a.getElement()&&Jhh(a))}
function Jhh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.xa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):Y5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=Fhh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");var h=Leh();d=Uy(Heh,{Ae:c,eKa:d,Dna:e,LJ:f,yj:a.C.yj(),FC:a.C.Ca,wG:h,Zu:Zch(a.C)});c=a.getElement();e=b.Za("docos-edit-pane-placeholder",c);b.uC(d,e);a.D.Ua(d);a.D.setVisible(!1);d=a.H.getElement();a.D.xa=d;a.ld=b.Za("docos-edit-pane-action-text",
c)}m.y9b=function(a){a&&a.stopPropagation();Phh(this)};
m.Ga=function(){L4.prototype.Ga.call(this);N4(this,this.getElement(),["click","keypress","keyup"],this.gSb);this.Aa&&(N4(N4(this,this.Va,"click",this.R3a),this.fb,"click",this.R3a),Thh(this));this.J&&N4(this,this.J,"action",this.y9b);this.ma&&this.V&&N4(N4(N4(this,this.ma,"action",this.H6b),this.V,"action",this.x9b),this.C,"r",this.hSb);this.L&&N4(N4(N4(this,this.L,"d",this.x7b),this.L,"e",this.iSb),this.L,"ra",this.p9b);var a=X5(this).Lw();Uhh(this,a);this.Oa&&Vhh(this,a);Whh(this,a);this.D&&(a=
this.H.getElement(),this.D.xa=a);this.collapse();cdh(this.C)&&Hp(this.getElement(),!0)};m.hSb=function(){Hhh(this)};
function Hhh(a){var b=a.bd();if(b){var c=X5(a);if(c){var d=c.Qj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.jI())return;d=a.C.D;d=c.Qj()&&"full"==d.C&&deh(o5(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Qj()&&(Jch(e,c)||"full"==e.C)&&deh(o5(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&M4(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&M4(a.F).C.C(a.V.getElement(),f);a.ma.Ma(d);a.V.Ma(b)}else mdh(b)?
(c=!0,a.J.Ma(!1),P(a.J.getElement(),!1)):(c=zhh(a),a.J.Ma(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":o5(a.F).xa?"Mark as resolved":"Mark as resolved and hide discussion",a.C.rfa()||Gp(a.J.getElement(),d),a.J&&a.J.getElement()&&M4(a.F).C.C(a.J.Ka(),b));!a.wc||null!==a.$c&&a.$c==c||(P(a.wc,c),a.$c=c)}}}}function Xhh(a){var b=G4(F4(E4(a.H.getId()),a.H.Ya)),c=q5(a.F);c.vf("docos-before-highlight-doco").kb(b);W5(o5(a.F),a.H.getId());c.vf("docos-highlight-doco").kb(b)}
m.iSb=function(){Xhh(this);Yhh(this)};m.x7b=function(){Xhh(this);Y5(this)?this.H.E2a():Zhh(this)};m.p9b=function(a){Xhh(this);this.dispatchEvent(new Meh("ra",this.O));a.stopPropagation()};function Uhh(a,b){var c=b.D,d=n5(a.F);a.Ha&&uhh(b,X5(a).getOrigin())&&(c=qeh(d),ky(a.Ha,"docos-avatar-unverified"),a.C.C.C(a.Ha,"Author from imported document"));sbh(d,a.Ha,c,K4(b))}function Vhh(a,b){(b=b.getName())?(b=UL(a.ib,b),Qe(a.Oa,b)):(b=UL(a.ib,""),Qe(a.Oa,b))}
function Whh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Oa&&a.C.C.C(a.Oa,c),a.Ha&&a.C.C.C(a.Ha,c))}function $hh(a,b){a.J&&a.oa().Qi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Qi(a.ma.getElement(),b),a.oa().Qi(a.V.getElement(),b));a.L&&a.L.Hh(b);a.R&&a.oa().Qi(a.R.getElement(),b)}function aih(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.Wk()&&this.yb&&Thh(this);var a=this.D&&Z5(this)&&U5(this.D),b=Ahh(this),c=Ie(b),d=!this.Pa||Ie(this.Pa)!=c;d&&(this.Pa=b,Qe(this.Ja,b),Nhh(this));Mhh(this);Lhh(this,c);Y5(this)||this.dispatchEvent(new S5(this.getId()));Z5(this)&&this.bb&&!a&&P(this.bb,!this.bd().isResolved());b=X5(this).Lw();Uhh(this,b);this.Oa&&Vhh(this,b);Whh(this,b);Khh(this);if(this.xa&&!a){switch(this.Ya){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Wk()?this.expand():this.collapse()}Ihh(this)}this.NUa();
d&&(this.D&&this.D.pb()&&this.D.reset(!0),this.MGa());Hhh(this);this.R&&this.R.update();this.L&&this.L.update();Ohh(this)};m.DA=function(){if(this.Hc){var a=bih(this,this.Hc);a.Jo()!=this.Pa.Jo()&&(this.Pa=a,Qe(this.Ja,this.Pa),Nhh(this))}};function Ahh(a){var b=X5(a),c=b.wga();if(!c){c=b.getContent();var d=b.Rr();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Qj()&&(c=Rgh(b,a.C));c=UL(a.ib,c)}a.Hc=c;return bih(a,c)}
function bih(a,b){var c=o5(a.F),d=c.O;if(!d)return b;a=(c=fhh(c,a.C))&&c.getKey()==X5(a).getId()?c.getValue():void 0;c=khh();var e=np("DIV");e.appendChild(qp(UL(c,gf(d))));d=e.innerHTML;e.replaceChild(qp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new cn(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new cn(f,r)),f=r):k||((w=Fd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new cn(f,r+1)),h=ihh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=ihh(q,b,h);h+=b.slice(f,b.length);return UL(c,h)}m.NUa=function(a){if(this.qb){var b=Ghh(this);b&&(a&&(this.qb.textContent=b),a=X5(this),Y5(this)||this.xa||a.$t().equals(a.wQ())||(this.qb.textContent=b))}};function Ghh(a){var b=a.ef,c=X5(a),d=c.$t();return d?a.xa||Y5(a)||!(a=c.wQ())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return hx(this.getElement())};m.fSb=function(a){this.dispatchEvent(new S5(this.O));a.stopPropagation()};function Zhh(a){var b=a.getElement();b&&(a.C.ib?(b=a.C.fb,b(function(){return a.We()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):shh(a.F,a.oa()).prompt(b,a.We,"delete-reply",a,a.H.getElement(),!a.xa))}
m.gSb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!Y5(this)&&jy(c,"docos-replyview-delete")&&b?(Zhh(this),a.stopPropagation(),a.preventDefault()):jy(c,"docos-replyview-edit")&&b?(Yhh(this),a.stopPropagation(),a.preventDefault()):jy(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new S5(this.O)),this.Bb.focus()):jy(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new S5(this.O)),this.hg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Ep(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function cih(a,b){var c=a.bd();if(!c||deh(o5(a.F),c)){var d=X5(a);d&&d.jI()&&(c=a.C.H[b])&&(a=O5(o5(a.F),a.O))&&(d=d.Xz&&d.Xz()&&!d.isResolved()?J5(d):void 0,b=(new I4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Rhh(a){var b=a.bd();b&&b.Qj()&&cih(a,"before-suggestion-accepted")}m.H6b=function(){var a=Date.now();Rhh(this);this.mb&&this.mb.Ro("dsabb",Date.now()-a)};function Qhh(a,b,c){var d=a.bd(),e=a.H;e.D&&U5(e.D)&&e.D.setValue("");d&&!d.Qj()&&d.isResolved()!=b&&q5(a.F).vf("docos-resolve-doco").kb(new pbh(a.O,b,c||null,a.xa?null:105))}m.x9b=function(){var a=Date.now();cih(this,"before-suggestion-rejected");this.mb&&this.mb.Ro("dsrbb",Date.now()-a)};
m.expand=function(){X5(this).Qj()||(my(this.Ca,"docos-collapsed-replyview"),this.Ya=150>=this.Ca.offsetHeight?2:1,Ihh(this))};m.collapse=function(){!X5(this).Qj()&&this.xa&&(my(this.Ca,"docos-collapsed-replyview"),150>=this.Ca.offsetHeight?this.Ya=2:(this.Ya=0,ky(this.Ca,"docos-collapsed-replyview")),Ihh(this))};function Ihh(a){if(!X5(a).Qj()){var b=1==a.Ya;b!=a.$d&&(a.Bb.style.display=b?"block":"none",a.$d=b)}}function Y5(a){return"root"==a.getId()}
function Dhh(a){var b=X5(a);return b?Lch(a.C.D,b)&&!a.C.ma:!1}function Z5(a){var b=X5(a);return b?Kch(a.C.D,b):!1}function zhh(a){var b=a.bd();return b?Mch(a.C.D,b):!1}m.eSb=function(){if(this.isDisposed())return!1;q5(this.F).vf("docos-delete-reply").kb({Wj:this.O,uAa:this.getId(),uf:this.xa?null:105});return!0};function Yhh(a){Z5(a)&&(Shh(a),dih(a,!1),a.Ca&&a.expand(),a.D.setVisible(!0),a.D.mb=!0,a.D.ready(X5(a).Cx()))}
m.MGa=function(){Z5(this)&&(dih(this,!0),this.Ca&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.mb=!1))};m.$fc=function(){if(Z5(this)){Shh(this);var a=q5(this.F),b=this.D.getValue(),c=this.xa?null:105;Gd(b)||(Y5(this)?a.vf("docos-edit-doco").kb({id:this.O,text:b,Gpa:this.D,uf:c}):(b={Wj:this.O,uAa:this.getId(),text:b,Gpa:this.D,uf:c},a.vf("docos-edit-reply").kb(b)))}};function dih(a,b){for(var c=0;c<a.Kd.length;++c)P(a.Kd[c],b)}
m.R3a=function(){var a=jy(this.Aa,"docos-replyview-quote-collapsed");P(this.fb,!a);P(this.Va,a);this.yb=!a;a?qy(this.Aa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):qy(this.Aa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Thh(a){!a.Aa||0>=ex(a.Aa).height||(qy(a.Aa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<ex(a.Aa).height?(P(a.fb,!0),P(a.Va,!1),qy(a.Aa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.fb,!1),P(a.Va,!1)),a.yb=!0)}m.od=function(){L4.prototype.od.call(this);p5(n5(this.F),this.Ha)};function Khh(a){var b=Ehh(a);b?(b=UL(a.ib,b),Qe(a.Sa,b),P(a.Sa,!0)):P(a.Sa,!1)}
function Ehh(a){var b=X5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=EY(a.vh)&&Mj(EY(a.vh),33)&&b.Ava()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Fhh(a){var b=a.Vg;var c=X5(a),d=a.bd();c&&d?(a=c.vga(),0==a&&O4(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.VB(),c=(d=mdh(d))&&d.getId()!=c.getId(),a=J4(a),b=kbh(a,b.C,!0),b=c?(new iB("Reassigned to {user}")).format({user:b}):(new iB("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Lhh(a,b){b=-1==se(b,!0);if(null===a.Lc||b!=a.Lc)NXe(a.Pf,b),a.Lc=b}
function Mhh(a){var b=Fhh(a);a.dc&&Gp(a.dc,b);a.ld&&Gp(a.ld,b)}function Nhh(a){if(a.C.yb)for(var b=dp("A",a.Ja),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Lf(d,Po,a.d7b)}}m.d7b=function(a){AXe(this.C.yb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Chh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Bhh=/[\n-\x0B]/g;function eih(a,b){L4.call(this,a,b);this.D=!1;this.F=null}t(eih,L4);eih.prototype.Ba=function(){var a=this.oa();this.jb(Uy(Feh,{},void 0,a));this.F=a.Za("docos-showrepliesbutton-collapsed",this.getElement())};eih.prototype.setVisible=function(a){a!=this.D&&this.pb()&&(P(this.getElement(),a),this.D=a)};eih.prototype.isVisible=g("D");function $5(a,b,c,d,e){T5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new xhh(a,b,this.Vk(),d,this,void 0,"docos-replyview-first");this.Fa(this.F);this.H={};this.wc=u(this.XRb,this);this.Hc=Qdh(a);this.Ha="docos-docoview-input-pane";this.Bb="";this.Lc=this.qb=this.ld=null;this.ib=!1;this.J=null;cdh(this.C)&&(a=new YA(this),this.qa(a),a.ij("up",38),a.ij("down",40),this.getHandler().listen(a,"shortcut",this.fvb))}t($5,T5);
function fih(a){if(!a.D){a.D=new igh(a.getContext(),a.oa(),a);a.qa(a.D);var b=gih();a.D.ma=b;a.D.xe("Reply");a.BBa();a.getElement()&&hih(a)}}m=$5.prototype;m.fvb=function(a){switch(a.identifier){case "down":a=iih(this);var b=jih(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=iih(this),b=jih(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function iih(a){var b=K5(a.bd(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function jih(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Tp(e);if(d==f||e.contains(d,f))return c}return-1}
function hih(a){var b=a.oa(),c=Leh();c=Uy(Heh,{Ae:a.Ha,eKa:"",Dna:a.Bb,LJ:"",yj:a.C.yj(),FC:a.C.Ca,wG:c,Zu:Zch(a.C)});var d=a.getElement(),e=b.Za("docos-input-pane-placeholder",d);b.uC(c,e);a.D.Ua(c);a.D.xa=d}m.BBa=function(){this.D&&N4(N4(N4(N4(N4(N4(this,this.D,"p",this.bSb),this.D,"c",this.$Rb),this.D,"b",this.ZRb),this.D,"e",this.aSb),this.D,"s",this.HY),this.D,"f",this.Jxb)};
m.Ba=function(){T5.prototype.Ba.call(this);var a=this.getElement(),b=this.oa();this.D&&hih(this);Sx(a,"listitem");this.qb=b.Za("docos-docoview-replycontainer",a);this.ld=b.Za("docos-docoview-rootreply",a);this.F.render(this.ld);kih(this)};m.Ga=function(){T5.prototype.Ga.call(this);N4(this,this.getElement(),["keydown","keypress","keyup"],this.YRb);if(this.D){var a=this.getElement();this.D.xa=a}Hp(this.getElement(),!0)};m.rb=g("qb");
m.Ec=function(a){T5.prototype.Ec.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&fdh(b.L,a);b.R&&b.R.eVa(a)}};m.Vk=ea(!1);m.cVa=function(a){if(!jy(a.target,"docos-noclick")){var b=q5(this.getContext()),c=F4(E4(this.getId()),this.Ya);b.vf("docos-before-highlight-doco").kb(G4(c));W5(o5(this.R),this.getId());b.vf("docos-highlight-doco").kb(G4(Yah(c)));this.ma=!0;this.dZa(a)}};m.dZa=ba();
m.YRb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&Y9a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&Nch(this.C.D)&&this.ma&&(fih(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.E2a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.bd().Qj())this.wc("suggestion");else if(b){var c=function(){return a.wc("discussion")};this.C.ib?(0,this.C.fb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):shh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function kih(a){for(var b=K5(a.bd()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new xhh(a.getContext(),a.getId(),a.Vk(),a.oa(),a,e);a.Cf(f,vx(a,c)+1,!0);c=a.H[e]=f}}}m.bSb=function(){if(this.D){var a=this.D.getValue(),b=egh(this.D.H);b=b?cch(b):void 0;if(!Gd(a)){var c=O5(o5(this.getContext()),this.getId());this.dispatchEvent(new Agh("sr",this.getId(),J5(this.bd()),c,a,void 0,b,this.Vk()))}}};
m.$Rb=function(){var a=vdh(udh(G5(43012),this.bd().getId()),J5(this.bd()));this.Vk()||(a.C=105);N5(this.Hc,H5(a))};m.ZRb=function(){this.Wk()&&(this.ma=!0)};m.aSb=function(){this.Wk()&&(this.ma=!0)};m.z4a=function(){var a=o5(this.getContext()),b=this.bd().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Na&&P(c.Na,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Na&&P(b.Na,c)};
m.Jxb=function(){if(null==vbh(this)){var a=vdh(udh(G5(43087),this.bd().getId()),J5(this.bd()));this.Vk()||(a.C=105);N5(this.Hc,H5(a))}};m.focus=function(){fih(this);var a=this.Wk();a&&hx(this.getElement())&&Nch(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Tp(b);(vf&&!a||!b.contains(this.getElement(),a))&&fq(function(){this.pb()&&!b.contains(this.getElement(),Tp(b))&&this.getElement().focus()},0,this)}};
function lih(a){var b=a.bd();if(b){var c=null,d;b:{for(d=vx(a,a.F);d<a.Zb();d++){var e=a.mc(d);if((e=e==a.J?null:e)&&2==(yhh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.Zb();d++)if(e=a.mc(d),e=e==a.J?null:e){if(2!=(yhh(e)||b).getOrigin())break;P(e.Sa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Sa,!0)}}
m.update=function(){var a=this.bd();this.F.update();this.xe(a.Lw(),O4(a)||void 0);kih(this);for(var b in this.H){var c=this.H[b];C5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.ib&&(this.ib=a.isResolved(),fih(this),this.ib?(this.D.ma="Adding a comment will re-open this discussion...",this.D.xe("Adding a comment will re-open this discussion")):(b=gih(),this.D.ma=b,this.D.xe("Reply")),!a.isResolved()&&U5(this.D)||this.D.reset(!0));Oeh(this);!this.Wk()&&
this.D&&this.D.blur();lih(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(fx(b).contains(new Qm(a.H,a.J))||Aeh(a,!1))};m.XRb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");q5(this.getContext()).vf("docos-delete-doco").kb({Ym:J5(this.bd()),Wj:this.getId(),Jp:O5(o5(this.getContext()),this.getId()),ZS:a,uf:0==this.Vk()?105:null});return!0};function gih(){return Keh()?"Reply or add others with @":"Reply..."}
function mih(a){var b=q5(a.getContext()),c=a.Vk()?null:105;b.vf("docos-resolve-doco").kb(new pbh(a.getId(),!1,null,c))}function vbh(a){return a.D&&U5(a.D)?a.D.getValue():null}function nih(a){var b=a.getContext(),c=a.bd();c&&P5(Qdh(b),F5(E5(D5(43045),c)));a=a.getId();q5(b).vf("docos-speak-doco").kb(a)}m.gBa=ba();m.Ia=function(){T5.prototype.Ia.call(this);this.J&&delete this.J;delete this.qb;delete this.H;delete this.D};function oih(a,b,c,d,e){$5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ca=new qbh(a,d,b,this);this.Ja=this.fb=this.Oa=null;this.Sa=new YA(this);this.qa(this.Sa);b=this.Sa;b.ij("backToDocument",85);b.ij("resolve",69);b.ij("blur",27);b.ij("next",74);b.ij("next",Ft(["N","C"]));b.ij("prev",75);b.ij("prev",Ft(["P","C"]));b.ij("speakComment",Ft(["A","C"]));b.ij("reply",82);this.getHandler().listen(this.Sa,"shortcut",this.TRb);this.getHandler().listen(this,"rd",this.URb);this.Va=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.yb=null;z(y(),"docs-edp")&&(this.yb=new hgh(a,d,"unfocused-presenceindicator"));this.Kd="legacy"!=this.C.F;this.Aa=null}t(oih,$5);m=oih.prototype;m.setVisible=function(a){!this.isVisible()&&a&&o5(this.R).O&&this.DA();$5.prototype.setVisible.call(this,a)};m.DA=function(){this.F.DA();for(var a in this.H)this.H[a].DA()};m.Ec=function(a){$5.prototype.Ec.call(this,a);this.Ca&&this.Ca.Ec(a)};m.Vk=ea(!0);m.cS=function(){return this.bd()?J5(this.bd()):null};
m.Ba=function(){$5.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Oa=a.Za("docos-replyview-control",b);this.fb=a.Za("docos-anchoreddocoview-internal",b);this.Ja=a.Za("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.bd(),d=!!c&&Mch(M4(this.getContext()).D,c);oy(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=O4(c))a=a.Za("docos-anchoreddocoview-assigneecontainer",b),this.Ca.render(a),pih(this,c);this.D&&(a=this.getElement(),
this.D.xa=a);this.yb&&(a=this.oa().Za("docos-unfocusedpresenceindicator-container",this.getElement()),this.yb.render(a))};m.Ga=function(){$5.prototype.Ga.call(this);var a=this.bd();a&&O4(a)&&this.Cf(this.Ca,vx(this,this.F));Oeh(this);2<=Rd(this.bd().D)&&(a=qih(this))&&rih(this,a);this.F_(!0);lih(this);sih(this);N4(N4(this,this,"show",this.mZa),this,"hide",this.lZa)};
m.od=function(){var a=this.bd();if(a)if(this.D&&U5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().kc(this,"show",this.mZa);this.getHandler().kc(this,"hide",this.lZa);$5.prototype.od.call(this)};m.Hh=function(a){this.oa().Qi(this.getElement(),a)};function tih(a,b){$hh(a.F,b);for(var c in a.H)$hh(a.H[c],b)}m.VRb=function(){var a=new Tah(this.getId(),this.Ya),b=q5(this.getContext());b.vf("docos-before-highlight-doco").kb(a);W5(o5(this.R),this.getId());b.vf("docos-highlight-doco").kb(a)};
m.URb=function(){this.O=null;if(Qeh(this)){var a=this.Ja.scrollHeight>this.Ja.offsetHeight,b=this.getElement();a&&!this.Aa&&b?(this.Aa=new tK(b),N4(this,this.Aa,"mousewheel",this.AMb)):!a&&this.Aa&&(this.Aa.dispose(),this.Aa=null);a=a?E8a():0;b=this.Kd?282:240;cx(this.getElement(),b+a);cx(this.Ja,b+a)}};m.mZa=function(a){a.target instanceof Mz&&(ky(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.lZa=function(a){a.target instanceof Mz&&(my(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.gBa=function(a){this.Oa&&P(this.Oa,a)};m.H$=ea(!0);m.update=function(){$5.prototype.update.call(this);var a=this.Wk();this.Wk()?this.L||this.C.mb||(this.L=new XB(this.getElement(),this.oa()),this.qa(this.L),YB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Va&&uih(this);this.Va=a;sih(this);if(a=O4(this.bd()))this.Ca.update(),pih(this,a);this.V&&this.dAa()};
function sih(a){var b=a.bd();null!=b.R&&(fih(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.F_(!0);lih(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=qih(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.rb().style.maxHeight="",rih(this,a),this.F_(!0),lih(this)}};m.BBa=function(){$5.prototype.BBa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.F_,this,!0)),this.getHandler().listen(this.D,"e",this.pPa),this.getHandler().listen(this.D,"f",this.VRb))};
function qih(a){var b=M4(a.getContext()).Gq;a=Qeh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function rih(a,b){var c=a.getElement(),d=Rd(a.bd().D);if(!(2>d||c.offsetHeight<b)){var e=vx(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new eih(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Cf(a.J,f+e);var h=a.J;h.F&&Gp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.mc(l+e).setVisible(!1)}}}
m.dAa=function(){var a=this.Rc();this.V&&this.expand();this.collapse();var b=this.Rc();Ym(a,b)||this.dispatchEvent(new S5(this.getId()))};m.F_=function(a){var b=Qeh(this);b&&(fih(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.rb().style.maxHeight=b+"px":this.rb().style.maxHeight="",a&&(this.fb.scrollTop=this.fb.scrollHeight))};
m.TRb=function(a){var b=q5(this.getContext());switch(a.identifier){case "backToDocument":b.vf("docos-back-to-document").kb({Wj:this.getId()});break;case "resolve":Phh(this.F);break;case "blur":this.pPa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":nih(this);break;case "reply":this.D.focus()}};m.pPa=function(){var a=q5(this.getContext());a.vf("docos-before-highlight-doco").kb(D4());W5(o5(this.R),null);a.vf("docos-highlight-doco").kb(D4())};
m.focus=function(){$5.prototype.focus.call(this);this.Va=this.Wk();uih(this)};function uih(a){fih(a);U5(a.D)||a.Va||a.D.reset(!0);a.Wk()&&(a.expand(),a.hga());a.F_(!0);a.dispatchEvent(new S5(a.getId()))}m.tT=function(a){$5.prototype.tT.call(this,a);this.F_(!1)};m.Ia=function(){$5.prototype.Ia.call(this);delete this.Sa;delete this.Oa};function pih(a,b){var c=a.xa;c&&(a=ibh(b,a.C),ny(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),ky(c,a))}m.AMb=function(a){this.Wk()&&a.stopPropagation()};function vih(a,b,c,d,e){this.bt=a;this.Ve=void 0===b?null:b;this.dab=void 0===c?null:c;this.jia=void 0===d?null:d;this.sic=void 0===e?!1:e}m=vih.prototype;m.getNewDocoType=g("bt");m.getText=g("Ve");m.getAssigneeEmail=g("dab");m.getOriginatingDocoType=g("jia");m.getWasSmartTodo=g("sic");function wih(a,b,c,d){return vih.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(wih,vih);function a6(a,b,c,d,e,f,h){T5.call(this,a,b,c,e,f);this.Gr=d;this.Ca=this.Sa=null;this.D=new igh(a,this.oa(),this,h);this.Fa(this.D);this.Ec(b)}t(a6,T5);m=a6.prototype;m.Ba=function(){this.Ca=new YA(this.getElement());this.qa(this.Ca);var a=this.Ca;a.ij("backToDocument",85);a.ij("blur",27);a.ij("next",74);a.ij("next",Ft(["N","C"]));a.ij("prev",75);a.ij("prev",Ft(["P","C"]));a.ij("reply",82)};
m.Ga=function(){T5.prototype.Ga.call(this);this.getHandler().listen(this.D,"p",this.DZa).listen(this.D,"c",this.Kya).listen(this.D,"s",this.HY).listen(this.D,"b",this.PRb).listen(this.D,"e",this.Gta).listen(this.D,"f",this.RRb);this.getHandler().listen(this.Ca,"shortcut",this.QRb);var a=this.getElement();this.D.xa=a;this.Sa=new XB(this.getElement(),this.oa());this.qa(this.Sa);YB(this.Sa)};m.Dkb=function(a,b,c,d,e){q5(this.getContext()).vf("docos-convert-doco").kb({Wj:a,Ym:b,Jp:c,GYa:d,ZS:e})};
m.DZa=function(){var a=this.cxa()?this.cxa().getEmail():void 0,b=this.bd().getNewDocoType()?this.bd().getNewDocoType():void 0,c=this.Sba();var d=this.bd().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new wih(c,a,b,1==d);c=O5(o5(this.getContext()),this.getId());fq(u(this.Dkb,this,this.getId(),this.cS(),c,a,b))};m.Ckb=function(a,b,c,d){q5(this.getContext()).vf("docos-delete-doco").kb({Wj:a,Ym:b,Jp:c,ZS:d})};
m.Kya=function(){var a=O5(o5(this.getContext()),this.getId()),b=this.bd().getNewDocoType()?this.bd().getNewDocoType():void 0;fq(u(this.Ckb,this,this.getId(),this.cS(),a,b))};m.Vk=ea(!0);m.cS=g("Gr");m.dxa=ea(!0);m.cVa=function(a){xih(this);a.stopPropagation()};function xih(a){var b=q5(a.getContext()),c=Yah(F4(E4(a.getId()),a.Ya));b.vf("docos-before-highlight-doco").kb(G4(c));W5(o5(a.R),a.getId());b.vf("docos-highlight-doco").kb(G4(c))}
m.QRb=function(a){var b=q5(this.getContext());switch(a.identifier){case "backToDocument":b.vf("docos-back-to-document").kb({Wj:this.getId()});break;case "blur":b.vf("docos-before-highlight-doco").kb(D4());W5(o5(this.R),null);b.vf("docos-highlight-doco").kb(D4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){Oeh(this);this.hga()};m.PRb=function(a){this.HY(a)};
m.Gta=function(){var a=q5(this.getContext());a.vf("docos-before-highlight-doco").kb(D4());W5(o5(this.R),null);a.vf("docos-highlight-doco").kb(D4())};m.RRb=function(){this.Wk()||xih(this)};m.focus=function(){this.Wk()&&(vf?fq(this.R_a,0,this):this.R_a())};m.HY=function(a){var b=Qeh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}T5.prototype.HY.call(this,a)};
m.R_a=function(){this.D.ready();var a=this.oa(),b=Tp(a);(vf&&!b||!a.contains(this.getElement(),b))&&fq(function(){this.pb()&&this.getElement().focus()},0,this)};function yih(a,b,c,d,e,f){a6.call(this,a,b,c,d,e,f);Keh()?this.D.ma="Comment or add others with @":this.D.ma="Reply...";this.J=!1;this.F=this.H=null}t(yih,a6);m=yih.prototype;
m.Ba=function(){var a=this.oa(),b=this.C.Pg(),c="Unknown"===b.getName(),d=Leh();c=Uy(Ieh,{author:b.getName(),Xg:b.C,WE:this.C.V&&!c?b.getId():null,Jw:!0,Vk:!0,yj:this.C.yj(),FC:this.C.Ca,wG:d,Zu:Zch(this.C)},void 0,a);this.jb(c);this.D.Ua(a.Za("docos-docoview-input-pane",c));Vy()&&z(y(),"docs-ehspc")&&this.D.focus();this.H=a.Za("docos-author",c);this.F=AV(a,"IMG","docos-replyview-avatar",c);d=a.Za("docos-replyview-origin",c);P(d,!1);if(a=a.Za("docos-user-presence",c))if(c=this.C.$c)a.style.backgroundColor=
c(b.getId());a6.prototype.Ba.call(this)};m.Ga=function(){a6.prototype.Ga.call(this);Oeh(this);var a=this.bd().Cx();Gd(a)||this.D.ready(a,!0,!0);a=this.C.Pg();reh(n5(this.getContext()),this.F,a.D,K4(a))};m.cxa=function(){return egh(this.D.H)};m.Sba=function(){return this.D.getValue()};m.Gta=function(a){U5(this.D)?this.HY(a):a6.prototype.Gta.call(this,a)};
m.update=function(){a6.prototype.update.call(this);var a=this.Wk();a!=this.J&&(this.Wk()||U5(this.D)?this.dispatchEvent(new S5(this.getId())):this.Kya());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};m.od=function(){a6.prototype.od.call(this);q5(this.getContext()).vf("docos-edit-draft").kb({Wj:this.getId(),text:this.Sba(),eGa:this.F})};m.Ia=function(){a6.prototype.Ia.call(this);delete this.H;delete this.F};function zih(a,b,c,d,e,f){yih.call(this,a,b,c,d,e,f);this.bd()}t(zih,yih);function Aih(a,b,c,d,e,f){yih.call(this,a,b,c,d,e,f);this.bd()}t(Aih,yih);Aih.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new Agh("sd",a,b,c,d,e,f,this.Vk()))};Aih.prototype.DZa=function(){var a=O5(o5(this.getContext()),this.getId()),b=egh(this.D.H);if(null!=b){Mj(this.C.vh,38);var c=cch(b)}fq(u(this.L,this,this.getId(),this.cS(),a,this.Sba(),"instant-doco"==this.bd().bt,c))};Aih.prototype.V=function(a,b,c,d){q5(a).vf("docos-cancel-insert-discussion").kb({Wj:b,Ym:c,Jp:d})};
Aih.prototype.Kya=function(){var a=O5(o5(this.getContext()),this.getId());fq(u(this.V,this,this.getContext(),this.getId(),this.cS(),a))};function Bih(a,b,c,d,e,f){b=vih.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.fd=a||null;return b}t(Bih,vih);Bih.prototype.getPosition=g("fd");function Cih(a){this.jia=a}Cih.prototype.getOriginatingDocoType=g("jia");function Dih(a,b,c){this.jia=a;this.QR=b;this.JPb=c;return this}t(Dih,Cih);Dih.prototype.isTodo=g("QR");Dih.prototype.isWrongAssignee=g("JPb");function Eih(a,b,c,d,e,f){a6.call(this,a,b,c,d,e,f,!0);this.Ja=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Oa=this.V=this.Aa=null;this.Va=Qdh(a)}t(Eih,a6);m=Eih.prototype;
m.Ba=function(){var a=this.C,b=this.oa();a=Uy(Ieh,{Vk:!0,iY:!0,Ebb:!!Mj(a.vh,41),yj:a.yj(),Yn:"legacy"!=a.F,Zu:Zch(a)},void 0,b);this.jb(a);this.D.qb=!1;this.D.Ua(b.Za("docos-docoview-input-pane",a));this.Aa=b.Za("docos-input-assign-to-text",a);this.V=b.Ea("docos-smarttodoview-body",a);this.V.id=sx(this,"body");this.F=b.Za("docos-smarttodoview-feedback",a);this.Ha=b.Za("docos-smarttodoview-showfeedbackdialog-button",a);this.Ja=b.Za("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");
c.push("disable");c.push("help");this.H=new ddh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Fa(this.H);this.H.Ua(b.Ea("docos-overflowmenu-outer",a));this.F&&(this.J=Fih(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=Fih(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Oa=Gih(this,"docos-smarttodoview-feedback-cancel"),(this.ma=Gih(this,"docos-smarttodoview-feedback-submit"))&&
this.iDa());b=b.Ea("docos-smarttodoview-headertext",a);b.id=sx(this,"headertext");Ux(a,"labelledby",b.id);Ux(a,"describedby",this.V.id);a6.prototype.Ba.call(this)};function Fih(a,b,c){var d=a.oa(),e=a.getElement();b=d.Za(b,e);c=d.Za(c,e);e=null;b&&(e=new iR(!1,d),c&&gR(e,c),e.Ua(b),a.qa(e));return e}function Gih(a,b){var c=a.oa();b=c.Za(b,a.getElement());var d=null;b&&(d=new DA(null,c),d.Ua(b),Xx(b,d.Gl()),a.qa(d));return d}
m.Ga=function(){a6.prototype.Ga.call(this);N4(N4(N4(this,this.H,"e",this.kSb),this.H,"i",this.Sub),this.H,"h",this.Kyb);this.F&&(this.Ha&&this.getHandler().Lf(this.Ha,Po,this.kJb),this.Ja&&this.getHandler().Lf(this.Ja,Po,this.LMb),this.J&&N4(this,this.J,"change",this.iDa),this.L&&N4(this,this.L,"change",this.iDa),this.Oa&&N4(this,this.Oa,"action",this.$wb),this.ma&&N4(this,this.ma,"action",this.jSb));this.D.ready(void 0,void 0,!0);this.update()};
m.hga=function(){a6.prototype.hga.call(this);this.xa&&ky(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){a6.prototype.update.call(this);var a=O4(this.bd());a=J4(a);a=kbh(a,this.C,!0);a=(new iB("Assign to {user}?")).format({user:a});Gp(this.Aa,a);P(this.Aa,!0);a=UL(new Elc(new Flc),this.bd().getContent());Qe(this.V,a);this.resize()};
m.kSb=function(){var a=J4(this.bd().VB()).getEmail();a=new Bih(void 0,"client-integrated-draft",this.bd().Cx(),a,"smart-todo",!0);var b=O5(o5(this.getContext()),this.getId());q5(this.getContext()).vf("docos-convert-doco").kb({Wj:this.getId(),Jp:b,GYa:a,ZS:"smart-todo"})};m.Sub=function(){q5(this.getContext()).vf("docos-disable-smart-todo-feature").kb()};
m.Kyb=function(){wx("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});N5(this.Va,H5(vdh(udh(G5(43029),this.bd().getId()),J5(this.bd()))))};m.kJb=function(){this.F&&P(this.F,!0);N5(this.Va,H5(vdh(udh(G5(43025),this.bd().getId()),J5(this.bd()))))};m.LMb=function(){q5(this.getContext()).vf("docos-write-feedback").kb({source:"smart-todo"})};m.$wb=function(){this.F&&P(this.F,!1);this.focus()};
m.iDa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Ma(a||b)};m.jSb=function(){q5(this.getContext()).vf("docos-reject-doco-with-feedback").kb({Wj:this.getId(),Ym:this.cS(),Jp:O5(o5(this.getContext()),this.getId()),ZS:"smart-todo",qkb:new Dih("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.cxa=function(){return O4(this.bd())?J4(O4(this.bd())):null};m.Sba=function(){return this.bd().Cx()};
m.Ia=function(){a6.prototype.Ia.call(this);delete this.Aa;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ja};function Hih(a,b,c,d){this.C=a;this.H=b;this.$a=c;this.D=d}Hih.prototype.F=function(a){a=o5(this.C).bd(a);var b=this.H.lk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Aih(this.C,a.getId(),b,J5(a),this.$a,this.D);case "client-integrated-draft":return new zih(this.C,a.getId(),b,J5(a),this.$a,this.D);case "smart-todo":return new Eih(this.C,a.getId(),b,J5(a),this.$a,this.D);default:return new oih(this.C,a.getId(),b,this.$a,this.D)}};function Iih(a,b){this.C=a;this.D=b}Iih.prototype.clone=function(){return new Iih(this.C,this.D)};Iih.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function b6(a,b){Vo.call(this);this.$a=b;this.L=a;this.D=null;if(a=c6(this).J)this.D=new Iih(a,!0);this.xa=!a;this.Aa=!a;this.ib=this.H=null}v(b6,Vo);m=b6.prototype;m.cBa=da("O");m.lk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.mQ=function(){return[]};m.Kq=function(){return this.H?this.H.getId():null};m.hW=function(){return this.H?I5(this.H):null};m.iW=function(){var a=this.Kq();return a?this.O.Ac(a):null};
m.oa=g("$a");function c6(a){return M4(a.L)}m.getContext=g("L");m.sG=function(){return this.lk().getId()};m.Kba=g("D");m.Dja=function(a,b){var c=this.Kq();return a||c?b==this.sG()||this.D&&this.D.C==a?!0:!Neh(this,a):!1};function Neh(a,b){if(a.Kq()==b)return!0;a=a.hW();return!!a&&a==b}
m.opa=function(a,b,c){if(this.Dja(a,b)){var d=Neh(this,a)?null:this.H;this.H=o5(this.L).bd(a)||null;var e=d&&a!=d.getId()&&(!I5(d)||a!=I5(d));if(e){var f=this.O.Ac(d.getId());f&&!d.wq()&&f.update()}d=!d||e;b=b==this.sG()&&(void 0===c||c);a&&(d||b)&&(d&&this.t0a(),(c=this.O.Ac(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Iih(a,b),d&&this.Pya(a))}};m.t0a=ba();
m.lSa=function(a,b){var c=q5(this.L);c.vf("docos-before-highlight-doco").kb(a);W5(o5(this.L),b.getId());c.vf("docos-highlight-doco").kb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==c6(this).J&&(a=c6(this).H["highlight-initial-doco"]))&&(b=(new I4("highlight-initial-doco")).addAnchorId(J5(b)).addDocoHandle(O5(o5(this.getContext()),c)).setNonAnchored(!(b.Xz()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Jih(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Jih(this,!1,void 0,a,b,c)};m.Uha=ba();m.Sha=ba();function Jih(a,b,c,d,e,f){var h=o5(a.L),k=Kih(a,h,b,!!d,!!e);k||!c||e||(k=Kih(a,h,!b,!!d,!1));b=q5(a.L);k&&(a=G4(Yah(Xah(Vah(F4(E4(k.getId()),a.sG())),void 0!==f?f:!0))),b.vf("docos-before-highlight-doco").kb(a),W5(h,k.getId()),b.vf("docos-highlight-doco").kb(a))}
function Kih(a,b,c,d,e){c=c?1:-1;var f=null,h=a.lk().Zb();if(0==h)return null;a:{var k=a.Kq();if(k){var l=a.lk();if(k=l.Ac(k)){l=vx(l,k);break a}}l=-1}0>l&&(l=0,f=a.lk().mc(l));for(k=l;!f||d&&!deh(b,f.bd());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.lk().mc(l)}return f}
m.Pya=function(a){if(a==c6(this).J){var b=this.O.Ac(a);b&&b.Wk()&&!this.Aa&&(this.Aa=!0,b=c6(this).H["linked-doco-highlighted"])&&(a=o5(this.L).bd(a),a=Zah("linked-doco-highlighted").addAnchorId(J5(a)).setUserInitiated(!0).build(),b(a))}};m.gca=function(a){for(var b=this.lk(),c=b.Zb(),d=c,e=0;e<c;++e){var f=b.mc(e);if(f&&0>=this.sV(a,f)){d=e;break}}return d};
function Lih(a){if(a.R3()){for(var b=a.lk(),c=[],d=b.Zb(),e=0;e<d;++e)c.push(b.mc(e));c.sort(u(a.sV,a));for(e=0;e<d;++e)b.mc(e)!=c[e]&&b.Cf(c[e],e)}}m.vz=function(){ueh(n5(this.getContext()))};m.UJ=ba();m.uka=function(a){(a=this.O.Ac(a))&&a.z4a()};m.npa=function(){for(var a=this.lk().Zb(),b=new xah,c,d=0;d<a;d++)c=this.lk().mc(d),null!=c&&(c=c.bd(),null!=c&&Cgh(b,c));return yah(b)};m.qK=sa;m.Caa=le;m.i2=le;m.j2=ba();m.Ia=function(){b6.Ta.Ia.call(this);this.H=null};
m.mpa=function(a){a=a.JV()||a;a instanceof b6&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Aa=this.Aa)};m.JV=ea(null);m.bBa=da("ib");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof b6){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Aa==a.Aa}else a=!1;return a};function Mih(a,b){Ho.call(this,a);this.KIa=b}v(Mih,Ho);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function Nih(a){this.C=[];if(a)a:{if(a instanceof Nih){var b=a.$e();a=a.Ad();if(0>=this.Xd()){for(var c=this.C,d=0;d<b.length;d++)c.push(new CY(b[d],a[d]));break a}}else b=Td(a),a=Sd(a);for(d=0;d<b.length;d++)Oih(this,b[d],a[d])}}function Oih(a,b,c){var d=a.C;d.push(new CY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Nih.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)hd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Pih(a){return a.C[0]&&a.C[0].getKey()}m.Ad=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.$e=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Tu=function(a){return $c(this.C,function(b){return b.getValue()==a})};m.Sg=function(a){return $c(this.C,function(b){return b.getKey()==a})};m.clone=function(){return new Nih(this)};m.Xd=function(){return this.C.length};m.isEmpty=function(){return gd(this.C)};m.clear=function(){hd(this.C)};function Qih(){Nih.call(this)}v(Qih,Nih);Qih.prototype.enqueue=function(a,b){Oih(this,a,b)};function Rih(a,b){b6.call(this,a,b);this.V=o5(this.getContext());this.C={};this.R={};this.bb=new Qih;this.J=new abh}v(Rih,b6);m=Rih.prototype;m.mQ=function(){var a=Rih.Ta.mQ.call(this);a.push("docos-layout-anchored");c6(this).Cd&&a.push("docos-layout-anchored-shadows");return a};m.yoa=function(a){return(new Hih(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.bP=function(a){if(this.V.ma(a)){var b=a.getId(),c=O5(this.V,b),d=this.Wqa(c,!1);if(d){var e=this.yoa(a);this.R[c]&&delete this.R[c];c=this.gca(e);if(c<=this.lk().Zb()&&-1<c)for(Sih(this,e,d,c);!this.bb.isEmpty()&&Pih(this.bb)<=this.lk().Zb();)e=this.bb.remove(),Sih(this,e.view,e.position,e.index);else this.bb.enqueue(c,new Tih(e,d,c))}else this.R[c]=a;b=Xah(E4(b),!a.iY());a.Qj()||F4(b,this.sG());d&&a.Jw()&&Gd(a.Cx())&&(d=q5(this.getContext()),d.vf("docos-before-highlight-doco").kb(G4(b)),W5(this.V,
a.getId()),d.vf("docos-highlight-doco").kb(G4(b)));(d=this.Kba())&&d.C==a.getId()&&(Xah(b,d.D),fq(u(this.lSa,this,G4(b),a),0))}};function Sih(a,b,c,d){var e=Ka();a.lk().Cf(b,d,!0);a.Eha(c.x,c.y,b,!1);b=Ka()-e;(a=c6(a).H["doco-rendered"])&&a(new $ah("doco-rendered",b))}m.kT=function(a){var b=this.lk().Ac(a);a==this.Kq()&&(this.H=null);if(b){var c=this.V.bd(a);c&&c.isResolved()&&b.Vk()&&c6(this).ld?Uih(this,a,b):(this.lk().removeChild(b,!0),Qf(b));this.jK(this.C)}};
function Uih(a,b,c){function d(){q||(q=!0,Qf(c),vp(e),ky(h,"docos-resolve-highlight"),fq(function(){my(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Xw(e),h=c6(a).ld,k=ex(h),l=ex(e),n=Xw(h);n.x+=(k.width-l.width)/2;a.lk().removeChild(c);ky(e,"docos-readonly");c.od();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;vf?Vih(a,e,f,n,d,b):Wih(a,e,c.getId(),f,n,d)}
function Wih(a,b,c,d,e,f){cbh(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";fq(function(){No(b,MEa,f);fq(f,570);ky(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function Vih(a,b,c,d,e,f){var h=new FB(b,[c.x,c.y],[d.x,d.y],270),k=new Lhb(b,270);k.play();bbh(a.J,f,h,270,function(){Qf(h);Qf(k);e()})}
function Xih(a){var b=[];a.lk().Se(function(c){var d=c.bd();null!=d&&null!=J5(d)?(d=O5(this.V,c.bd().getId()),this.Wqa(d,!0)||this.R[d]||(this.R[d]=c.bd(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Mih("rv",b))}m.Baa=function(a){for(var b=ce(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.jK(b)};m.h2=function(a){var b=ce(this.C),c;for(c in a)b[c]=a[c];this.jK(b)};m.Wqa=function(a){return this.C[a]||null};
m.Caa=function(a){a=Yih(this,a);return a?(a=a?a.getElement():null)?new Qm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=Yih(this,a))?a.getDocoMaxHeight():null};m.lpa=function(a,b){(a=Yih(this,a))&&a.tT(b)};function Yih(a,b){return(b=R5(a.V,b))?a.lk().Ac(b.getId()):null}m.Ia=function(){Rih.Ta.Ia.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Tih(a,b,c){this.Wj=a.getId();this.view=a;this.position=b;this.index=c};function Zih(a,b){Rih.call(this,a,b)}v(Zih,Rih);m=Zih.prototype;m.R3=ea(!1);m.sV=ea(0);m.E_=sa;m.kK=function(){Xih(this)};m.vz=function(){Zih.Ta.vz.call(this);this.lk().Se(function(a){var b=a.bd();b&&null!=J5(b)&&(b=O5(o5(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.Eha(b.x,b.y,a,!1))},this)};m.jK=function(a){this.C=a;Xih(this);for(var b in this.C)(a=this.R[b])&&this.bP(a);this.vz()};m.Eha=function(a,b,c){(c=c.getElement())&&M9a(c,a,b,M4(this.getContext()).Tj)};function d6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Gd(f)?f:null}qa("docos.api.Assignee",d6,void 0);d6.prototype.getToken=g("L");d6.prototype.getToken=d6.prototype.getToken;d6.prototype.getEmail=g("F");d6.prototype.getEmail=d6.prototype.getEmail;d6.prototype.getAffinity=g("D");d6.prototype.getAffinity=d6.prototype.getAffinity;d6.prototype.getMatchingMethod=g("H");d6.prototype.getMatchingMethod=d6.prototype.getMatchingMethod;d6.prototype.O=g("C");
d6.prototype.isMatchedOnEmailUserName=d6.prototype.O;d6.prototype.getName=g("J");d6.prototype.getName=d6.prototype.getName;function $ih(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function ajh(a,b,c,d){return new d6(a.C,b,d,a.L,a.D,c)}function bjh(a,b){return a.C.toLowerCase().replace(cjh,"")==b?a.D=!0:!1}$ih.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&djh(this,e)){var f=nf(e.getEmail());Gd(f)||c.push(ajh(this,f,e.getName(),0))}}a.resolve(c)};
function djh(a,b){if(b.getEmail())var c=nf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Sfh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(fd(Rfh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&fd(f,d[h]))&&
1<d[h].length)return!0;return bjh(a,e)}function ejh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new $ih(a[d],"full-query",b));return c}function fjh(a,b){for(var c=[],d=0;d<a.length;d++)pd(c,gjh(a[d],b));return c}function gjh(a,b){return agh(Zfh,a).map(function(c){return new $ih(c,"email",b)})}var cjh=/^[@+]|[@+]$/g;function hjh(a){this.C=a}qa("docos.api.AssigneeThenable",hjh,void 0);hjh.prototype.get=g("C");hjh.prototype.get=hjh.prototype.get;function ijh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new hm;this.J=d}function jjh(a,b,c){c=void 0===c?!1:c;var d=bq();a.C.C?kjh(a,b,d,c||!1):Jfh(a.C).then(u(function(e,f,h){h?kjh(this,e,f,c||!1):f.reject()},a,b,d));return new hjh(d.C)}function kjh(a,b,c,d){var e=Ia(fjh,b,a.D);b=u(a.H,a,Ia(ejh,b,a.D),c,function(){return c.resolve(null)},d);a.H(e,c,b,d)}
ijh.prototype.H=function(a,b,c,d){a=a();for(var e=[],f=0;f<a.length;f++){var h=a[f];var k=this.C,l=bq();Gd(h.C)?l.resolve([]):bjh(h,h.J)||h.C.toLowerCase()==h.F?l.resolve([ajh(h,h.F,null,Number.MAX_VALUE)]):k.zo(h.C,5,u(h.O,h,l));h=l.C;pd(e,h)}ljh(this,e,b,c,d)};function ljh(a,b,c,d,e){aq(b).then(function(f){for(var h=[],k=0;k<f.length;k++){var l=f[k];l.kQ&&l.value&&pd(h,l.value)}gd(h)?d():mjh(a,h,c,e)})}
function mjh(a,b,c,d){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var e=[],f=[],h=0;h<b.length;h++){var k=b[h];k.C?f.push(k):e.push(k.getEmail())}gd(f)?(njh(a,e),d?ojh(a,b,c):a.J(e).then(function(l){return pjh(a,b,c,l)})):ojh(a,f,c)}else ojh(a,b,c)}function ojh(a,b,c){b.sort(Ia(qjh,a.D));c.resolve(b[0])}function njh(a,b){var c=a.F;Qza(b,c.contains,c)||(a.F.addAll(b),N5(a.L,H5(G5(43026))))}
function pjh(a,b,c,d){for(var e=[],f={W_:0};f.W_<d.length;f={W_:f.W_},f.W_++){var h=bd(b,function(k){return function(l){return l.getEmail()==d[k.W_]}}(f));h&&e.push(h)}gd(e)?c.resolve(null):ojh(a,e,c)}function qjh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function rjh(a){this.Gbb=a;return this}t(rjh,B4);rjh.prototype.getCancelAnchorId=g("Gbb");rjh.prototype.getCancelAnchorId=rjh.prototype.getCancelAnchorId;function sjh(a,b,c,d,e,f){a=H4.call(this,a,b,c,d,e,f||new B4)||this;a.C=!1;return a}t(sjh,H4);sjh.prototype.canPreventDefault=ea(!0);sjh.prototype.preventDefault=function(){this.C=!0};function tjh(a){return I4.call(this,a)||this}t(tjh,I4);tjh.prototype.build=function(){return new sjh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new B4)};function ujh(){this.D=!1}ujh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};ujh.prototype.qk=function(){return!this.D&&(null==this.C||this.C.qk())};function vjh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=bq();this.L=c}v(vjh,A);function Jfh(a){if(!Qpe())return Xp(!1);if(a.C)return Xp(!0);if(!a.F){var b=ce(xpf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.zo(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.O)){var k=new BRd;h=L(k,1,h);h=R$g(h);c.Ro("dacpc",Ka()-a.L,h.ob())}})}return a.H.C}
vjh.prototype.zo=function(a,b,c,d){var e=this;if(!Qpe())return new spf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Ze(a)&&this.F&&this.F.qk()){var k=new ujh,l=Ka();this.H.C.then(function(){var n=e.J.O;if(k.qk()){var q=e.D.zo(h,c);n&&n.Ro("dcrdtdr",Ka()-l);k.D||(k.C=q)}else n&&n.Ro("dcrdc",Ka()-l)});return k}return this.D.zo(h,c)};vjh.prototype.Ia=function(){delete this.D};function wjh(a){this.C=a}v(wjh,B4);qa("docos.api.OriginatingDocoTypeArgs",wjh,void 0);wjh.prototype.getOriginatingDocoTypeArgs=g("C");wjh.prototype.getOriginatingDocoTypeArgs=wjh.prototype.getOriginatingDocoTypeArgs;function e6(a,b,c){this.C=c;this.Gr=a;this.D=b}v(e6,wjh);qa("docos.api.ConvertDocoArgs",e6,void 0);e6.prototype.getAnchorId=g("Gr");e6.prototype.getAnchorId=e6.prototype.getAnchorId;e6.prototype.getNewDocoArgs=g("D");e6.prototype.getNewDocoArgs=e6.prototype.getNewDocoArgs;function f6(a,b,c,d){this.F=a;this.fd=void 0!==b?b:null;this.D=void 0==c?-1:c;this.C=d||null}v(f6,B4);f6.prototype.isInstantDoco=g("F");f6.prototype.getPosition=g("fd");f6.prototype.getInstantDocoSpacerIndex=g("D");f6.prototype.getEntryPoint=g("C");f6.prototype.isInstantDoco=f6.prototype.isInstantDoco;f6.prototype.getInstantDocoSpacerIndex=f6.prototype.getInstantDocoSpacerIndex;f6.prototype.getEntryPoint=f6.prototype.getEntryPoint;function xjh(a){this.F=a}xjh.prototype.C=function(a,b){return b?(a=this.F.bd(b.Wj))?O4(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};xjh.prototype.D=ea(0);function yjh(a,b){this.fd=a;this.Gr=b;return this}t(yjh,B4);yjh.prototype.getPosition=g("fd");yjh.prototype.getAnchorId=g("Gr");yjh.prototype.getPosition=yjh.prototype.getPosition;yjh.prototype.getAnchorId=yjh.prototype.getAnchorId;function zjh(a){A.call(this);this.C=a}t(zjh,A);function N5(a,b){var c=M4(a.C).Na;if(c){var d=new rk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);Ajh(a,d,b.D);b.J&&(a=ahh(o5(a.C)).C.clone(),Yj(d,10,a));a=new Och;b.Gr&&L(a,1,b.Gr);c(b.H,b.F||void 0,d,a)}}
function P5(a,b){var c=M4(a.C).Na;if(c){var d=b.bd();var e=new rk;var f=d.uva();e=L(e,2,f);null!=d.Wz()&&(f=fch(d.Wz()).length,L(e,8,f));null!=b.By&&(f=b.By.uva(),L(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new KNd;var k=new GNd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Yj(f,2,h);Yj(e,5,f);break;case "suggestion":L(e,4,5);break;default:L(e,
4,0)}}null!=b.D&&L(e,7,b.D);null!=M4(a.C).Oa&&(f=M4(a.C).Oa,Yj(e,12,f));null!=M4(a.C).J&&(f=M4(a.C).J==d.getId(),L(e,13,f));f=d.jI();h=O4(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);Ajh(a,e,d.getId());b.L&&(a=ahh(o5(a.C)).C.clone(),Yj(e,10,a));a=new Och;d=J5(b.bd());a=L(a,1,d);c(b.J,b.H||void 0,e,a)}}function Ajh(a,b,c){a=o5(a.C).R;null!=c&&b.Ig(null!=a&&c==a.getId())}zjh.prototype.Ia=function(){A.prototype.Ia.call(this)};function Bjh(){}Bjh.prototype.C=function(){return["Comment changed"]};Bjh.prototype.D=ea(0);function Cjh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Jp&&a.addDocoHandle(d.Jp),d.Ym&&a.addAnchorId(d.Ym));return a};function Djh(a,b){this.C=a;this.D=b}v(Djh,wjh);qa("docos.api.FeedbackArgs",Djh,void 0);Djh.prototype.getFeedback=g("D");Djh.prototype.getFeedback=Djh.prototype.getFeedback;function Ejh(a){this.C=a}v(Ejh,B4);qa("docos.api.HighlightDocoArgs",Ejh,void 0);Ejh.prototype.isOriginInStreamOrGutter=g("C");Ejh.prototype.isOriginInStreamOrGutter=Ejh.prototype.isOriginInStreamOrGutter;function Fjh(a){var b=a.bOb,c=a.Ib,d=a.NOb;a=a.cOb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function Gjh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=gz(fz,0<c.length?c[0]:"docs-instant-button");iz.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;lz(this,2,!0)}t(Gjh,iz);m=Gjh.prototype;m.Ba=function(){var a=this.oa(),b={Ib:!1};b.bOb=this.R.join(" ");gd(this.J)||(b.NOb=this.J.join(" "));gd(this.L)||(b.cOb=this.L.join(" "));this.jb(Uy(Fjh,b,void 0,a))};
function Hjh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.pb()){var h=0>=c;a.isVisible()||h?(Ijh(a),Jjh(a,b,d,f),e&&e()):(a.D=new Kjh(b,d,f,e),b=!a.C,h||b||Ijh(a),a.C||(a.C=fq(function(){Jjh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Pd;k&&k();a.D=null;a.C=null},c,a)))}}
m.Xe=function(a){if(this.pb()){if(void 0===a?0:a)Rw(this.getElement(),"top","0px"),ky(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(my(this.getElement(),"docs-instant-button-visible"),gx(this.Ka(),0),this.F=!1);Ijh(this)}};m.Sf=function(a){this.isVisible()&&(iz.prototype.Sf.call(this,a),a.stopPropagation())};m.Jm=function(a){this.isVisible()&&(iz.prototype.Jm.call(this,a),a.stopPropagation())};m.gR=function(a){this.isVisible()&&a.stopPropagation()};
function Jjh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;my(a.getElement(),"docs-instant-quick-hide");ky(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function Ijh(a){a.C&&(gq(a.C),a.C=null)}m.isVisible=function(){jy(this.getElement(),"docs-instant-button-visible");return this.F};function Kjh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Pd=d}Kjh.prototype.getOpacity=g("C");function Ljh(a,b){L4.call(this,a,b);this.D=null;this.F=a}t(Ljh,L4);Ljh.prototype.Ba=function(){L4.prototype.Ba.call(this);this.D=new Gjh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Ua(this.D.getElement())};
Ljh.prototype.Ga=function(){L4.prototype.Ga.call(this);M4(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||M4(this.F).C.D(this.getElement(),!0);this.D.Ga();N4(this,this.D,"action",this.H)};function Mjh(a,b,c,d){Zz(a.D.getElement(),"docos");M4(a.F).C.D(a.getElement(),!1);var e=a.D.H;Hjh(a.D,b,c,d,function(){e!=b&&M4(a.F).C.Xe(a.getElement())})}Ljh.prototype.Xe=function(a){this.D.isVisible()&&M4(this.F).C.D(this.getElement(),!0);this.D.Xe(a)};Ljh.prototype.H=function(){this.Xe();this.dispatchEvent("create-draft")};function Njh(a,b){A.call(this);this.D=a;this.F=M4(a);this.C=b;this.H=new uA(this);a=q5(this.D);this.H.ub(a.Qa("docos-edit-reply"),st,this.Q7b).ub(a.Qa("docos-delete-reply"),st,this.z7b).ub(a.Qa("docos-edit-doco"),st,this.M7b).ub(a.Qa("docos-edit-draft"),st,this.P7b)}t(Njh,A);function Ojh(a,b,c,d,e,f){return g6(a,u(a.JOb,a,b,c,d,e,void 0===f?!1:f))}m=Njh.prototype;m.JOb=function(a,b,c,d,e,f,h){if(Pjh(h))return a=Rdh(this.C,a,b,c,d,e),f.Dh.callback(a),a;f.Dh.callback(0);return 0};
m.LOb=function(a,b,c,d,e,f){if(Pjh(f))return a=Tdh(this.C,a,b,c,d),e.Dh.callback(a),a;e.Dh.callback(0);return 0};m.IOb=function(a,b,c,d,e,f){if(Pjh(f))return a=Udh(this.C,a,b,c,d),e.Dh.callback(a),a;e.Dh.callback(0);return 0};function Qjh(a,b){return g6(a,u(a.Cbc,a,b))}m.P7b=function(a){var b=this,c=a.data;g6(this,u(this.O7b,this,c.Wj,c.text)).addCallback(function(d){d&&c.eGa&&p5(n5(b.D),c.eGa);return d})};m.O7b=function(a,b,c,d){h6(u(this.C.N7b,this.C,a,b),c,d)};
m.Cbc=function(a,b,c){h6(u(this.C.Jeb,this.C,a),b,c)};function Rjh(a,b,c,d,e,f,h,k){return g6(a,u(a.c$a,a,b,c,d,e,f,h,k))}
m.c$a=function(a,b,c,d,e,f,h,k,l){if(Pjh(l)){l=this.C;var n,q;a&&(q=Ygh(o5(l.C),a))&&"instant-doco"==q.bt&&(n=31);var r=G5(43009);null!=q&&udh(r,q.getId());null!=n&&(r.C=n);q&&q.Jw()&&a!=b&&Vdh(o5(l.C),q.getId());a=pf();n=Ka();q=Fch(Bch(A5(new z5(a)),n),l.F.Pg());c&&B5(q,c,n);d&&(c=(new zbh).setType("text/plain").setValue(d),Yj(q.C,9,c));e&&(Ach(q,e),r.J=e);f&&(Ech(q,f),r.D=f);e=Gdh(M5(L5(q),!0),n);b&&(Edh(e,b),vdh(r,b));h&&(r.C=h);Q5(o5(l.C),e);o5(l.C).flush();N5(l.D,H5(r));b=O5(o5(l.C),a);k.Dh.callback(b);
return b}k.Dh.callback(0);return 0};m.M7b=function(a){var b=a.data;g6(this,u(this.djb,this,b.id,b.text,b.uf)).addCallback(function(c){c||b.Gpa.dispatchEvent("c")})};m.djb=function(a,b,c,d,e){h6(u(this.C.cjb,this.C,a,b,c),d,e)};m.z7b=function(a){a=a.data;g6(this,u(this.y7b,this,a.Wj,a.uAa,a.uf)).addCallback(ba())};m.y7b=function(a,b,c,d,e){h6(u(this.C.Sdb,this.C,a,b,c),d,e)};m.Q7b=function(a){var b=a.data;g6(this,u(this.fjb,this,b.Wj,b.uAa,b.text,b.uf)).addCallback(function(c){c||b.Gpa.dispatchEvent("c")})};
m.fjb=function(a,b,c,d,e,f){h6(u(this.C.ejb,this.C,a,b,c,d),e,f)};m.d$a=function(a,b,c,d,e,f,h){h6(u(this.C.Feb,this.C,a,b,c,d,e),f,h)};m.lic=function(a,b,c,d){h6(u(this.C.Leb,this.C,a,b),c,d)};m.nic=function(a,b,c,d,e){h6(u(this.C.Meb,this.C,a,b,c),d,e)};m.hcc=function(a,b,c,d,e,f){h6(u(this.C.Keb,this.C,a,b,c,d),e,f)};function h6(a,b,c){Pjh(c)?(a(),b.Dh.callback(!0)):b.Dh.callback(!1)}m.Odb=function(a,b,c,d,e){h6(u(this.C.Geb,this.C,a,b,c),d,e)};
m.shc=function(a,b,c){if(Pjh(c))return a=Wdh(this.C,a),b.Dh.callback(a),a;b.Dh.callback(0);return 0};m.Vdc=function(a,b,c,d){h6(u(this.C.PIa,this.C,a,b),c,d)};m.Rdb=function(a,b,c){h6(u(this.C.Ieb,this.C,a),b,c)};m.Qdb=function(a,b,c){h6(u(this.C.Heb,this.C,a),b,c)};function Sjh(a,b,c,d){return g6(a,u(a.M9a,a,b,c,d))}m.M9a=function(a,b,c,d,e){if(Pjh(e))return a=aeh(this.C,a,b,c),d.Dh.callback(a),a;d.Dh.callback(0);return 0};
m.eFa=function(a,b,c,d){if(Pjh(d))return a=eeh(this.C,a,b),c.Dh.callback(a),a;a=[];c.Dh.callback(a);return a};function g6(a,b){var c=new tq,d={Dh:c};(a=a.F.We)?a(d,b):b(d,"edit-not-intercepted");return c}function Pjh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function Tjh(a,b){A.call(this);this.C=[];this.F=new hah(a);this.D=iah(this.F,"user");this.J=iah(this.F,"control");this.vd=new eq(b||50);this.vd.start();Mo(this.vd,"tick",this.d1a,!1,this);this.J.yf("setPeerReady_",u(this.Zdc,this))}v(Tjh,A);m=Tjh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.d1a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.vd.stop(),a;}};m.yf=function(a,b,c){this.D.yf(a,b,c)};m.RI=function(a){this.D.RI(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({j_:a,xm:b})};m.Zdc=function(a){a?this.vd.stop():this.vd.start();if(!this.H){this.H=!0;this.d1a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.j_,b.xm)}this.C=null}};m.Ia=function(){Qf(this.F);Qf(this.vd);Tjh.Ta.Ia.call(this)};function Ujh(a){J(this,a,0,-1,null,null)}v(Ujh,I);Ujh.prototype.ea=function(){var a=new E;Vjh(this,a);return Y(a)};function Vjh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}Ujh.prototype.getId=function(){return K(this,1)};Ujh.prototype.Ec=function(a){return L(this,1,a)};function Wjh(a){J(this,a,"u",-1,Xjh,null)}v(Wjh,I);var Xjh=[1,2];Wjh.prototype.ea=function(){var a=new E;var b=Xj(this,w5,1);0<b.length&&Gj(a,1,b,xdh);b=Xj(this,Ujh,2);0<b.length&&Gj(a,2,b,Vjh);return Y(a)};Wjh.Yd="u";function Yjh(a){Vo.call(this);this.C=a;this.La=new Wo(this);this.qa(this.La);this.La.listen(this.C,"u",this.D);this.C.Ud(this)}v(Yjh,feh);Yjh.prototype.D=function(a){var b=Sch(a.xm.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new geh("u",new Wjh(b))));a.stopPropagation()};function jeh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&xa(n[0])&&d(n[0])});a.C.RIa(b,c?c.Ff():void 0,l,e,f,h,k)};function Zjh(a,b,c){Ipe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.RI(u(this.D,this));this.F=b}v(Zjh,Ipe);Zjh.prototype.send=function(a,b){Ea(b)&&(b=Nm(b));this.C.send(a,{t:this.F,p:b})};Zjh.prototype.D=function(a,b){Jpe(this,a,b)};Zjh.prototype.maa=function(a,b,c){b=Zjh.Ta.maa.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?Zjh.Ta.maa.call(this,a,b.p,c):null};function $jh(){Vo.call(this)}v($jh,Vo);function akh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Vo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new xo;this.qa(this.J);yo(this.J,this.H.getStatus().C,function(l){l.D.Dk()&&Jl(l.C)?k.dispatchEvent(new geh("r")):l.C.equals(zza)?k.dispatchEvent(new geh("p")):Kl(l.C)&&k.dispatchEvent(new geh("e"))});this.F=function(l){l&&k.dispatchEvent(new geh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(akh,$jh);
akh.prototype.QIa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.yaa)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new TMa;var b=this.D.Pg().getId();a.R=b;fMa(a,this.D.zaa,this.O,this.D.kpa);this.C=a;this.C.subscribe("9",this.F)}};
akh.prototype.RIa=function(a,b,c,d,e,f,h){b=b?["p",Nm(b)]:[];bkh(this,b,"/docos/p/"+a,c,d,e,f,h)};function bkh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?kAa(b):void 0;c=er(a.H.Re(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.$p();h?Ol(c,h):Ol(c,3);d&&Ql(c,function(n){d(n.He())});e&&Pl(c,e,f);k&&gr(c,k);null!=a.L&&(c.Oa=a.L);c.Me()}akh.prototype.Ia=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());$jh.prototype.Ia.call(this)};function ckh(a,b,c){this.seq=dkh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var dkh=1;function ekh(a){Vo.call(this);this.C=a;this.C.yf("recv",u(this.w9b,this),!0);this.C.yf("recvEvt",u(this.v9b,this),!0);this.D={}}v(ekh,$jh);m=ekh.prototype;m.w9b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.v9b=function(a){this.dispatchEvent(new geh(a.type,a.payload))};m.QIa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.RIa=function(a,b,c,d,e,f,h){a=new ckh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ia=function(){ekh.Ta.Ia.call(this);delete this.C};function fkh(a){A.call(this);this.F=a;this.D=this.C=null}t(fkh,A);
function gkh(a){if(a.C)return a.C;var b=M4(a.F),c=b.jpa;if(void 0!==c)return c&&(a.C=new Yjh(c),a.qa(a.C)),a.C;if(b.MIa){var d=khd();c=new SLa(new l8b,void 0,void 0,void 0,new GJa,void 0,void 0,GLa(CLa(d)));var e=b.kpa;e&&c.z6(e);var f=b.OIa;f&&aMa(c,f);b.KKa&&LJa(c.D,"anon","true");(f=b.gTa)&&LJa(c.D,"invite",f);f=null;if(b.yaa){f=new TMa;var h=b.Pg().getId();f.R=h;NJa(c.H,f);fMa(f,b.zaa,d,e)}b=new akh(c,!0,["id",b.zaa],f,null!=b.g2?b.g2:6E4,b,d);b.qa(c);a.C=new Yjh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.a_a;if(!b)throw Error("Peer missing.");c={};d=new Am(window.location.href);(e=Jm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Am(b)).toString());d=khd();b=(new Am(b)).Jb("ctoken",d).toString();c.pu=b;a.D=np("div");a.D.style.display="none";document.body.appendChild(a.D);b=new bU(c);Hqe(b,a.D);b.connect();b=new Tjh(b);c=mbh(a.F);b=new Zjh(b,d,c);c=new ekh(b);a.C=new Yjh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
fkh.prototype.Ia=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ia.call(this)};function hkh(a,b){this.C=a;this.F=b}hkh.prototype[rva]=!0;function i6(a,b,c){var d=Ka();b();b=Ka()-d;a.F.Ro(c,b)}m=hkh.prototype;m.opa=function(a,b,c){a=u(this.C.opa,this.C,a,b,c);i6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);i6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);i6(this,a,"dvmhp")};m.kK=function(){var a=u(this.C.kK,this.C);i6(this,a,"dvmla")};
m.vz=function(){var a=u(this.C.vz,this.C);i6(this,a,"dvmfl")};m.bP=function(a){a=u(this.C.bP,this.C,a);i6(this,a,"dvmadv")};m.E_=function(a){a=u(this.C.E_,this.C,a);i6(this,a,"dvmudv")};m.kT=function(a){a=u(this.C.kT,this.C,a);i6(this,a,"dvmrdv")};m.lk=function(){return this.C.lk()};m.cBa=function(a){this.C.cBa(a)};m.mQ=function(){return this.C.mQ()};m.Kq=function(){return this.C.Kq()};m.hW=function(){return this.C.hW()};m.iW=function(){return this.C.iW()};m.oa=function(){return this.C.oa()};
m.sG=function(){return this.C.sG()};m.Kba=function(){return this.C.Kba()};m.Dja=function(a,b){return this.C.Dja(a,b)};m.Uha=function(){this.C.Uha()};m.Sha=function(){this.C.Sha()};m.sV=function(a,b){return this.C.sV(a,b)};m.UJ=function(a,b){this.C.UJ(a,b)};m.uka=function(a){this.C.uka(a)};m.npa=function(){return this.C.npa()};m.qK=function(a){this.C.qK(a)};m.Caa=function(a){return this.C.Caa(a)};m.i2=function(){return this.C.i2()};m.j2=function(a){this.C.j2(a)};m.dispose=function(){this.C.dispose()};
m.isDisposed=function(){return this.C.isDisposed()};m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Kc=function(a,b,c,d){return this.C.Kc(a,b,c,d)};m.kc=function(a,b,c,d){return this.C.kc(a,b,c,d)};m.cU=function(a){return this.C.cU(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.sC=function(a){return this.C.sC(a)};m.Mq=function(){return this.C.Mq()};m.gQ=function(a,b,c){return this.C.gQ(a,b,c)};m.$K=function(a,b){return this.C.$K(a,b)};
m.yD=function(a,b,c,d){return this.C.yD(a,b,c,d)};m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.JV=function(){return this.C.JV()||this.C};m.mpa=function(a){this.JV().mpa(a)};m.equals=function(a){return this===a};m.bBa=function(a){this.JV().bBa(a)};function ikh(a,b){hkh.call(this,a,b);this.D=a}t(ikh,hkh);m=ikh.prototype;m.Baa=function(a){a=u(this.D.Baa,this.D,a);i6(this,a,"davmddp")};m.h2=function(a){a=u(this.D.h2,this.D,a);i6(this,a,"davmudp")};m.jK=function(a){a=u(this.D.jK,this.D,a);i6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.lpa=function(a,b){this.D.lpa(a,b)};function jkh(a){J(this,a,0,-1,kkh,null)}v(jkh,I);var kkh=[1];jkh.prototype.ea=function(){var a=new E;var b=Xj(this,w5,1);0<b.length&&Gj(a,1,b,xdh);b=K(this,2);null!=b&&Bj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Bj(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};function lkh(a){J(this,a,"sr",-1,mkh,null)}v(lkh,I);var mkh=[1];lkh.prototype.ea=function(){var a=new E;var b=Xj(this,w5,1);0<b.length&&Gj(a,1,b,xdh);b=K(this,2);null!=b&&Bj(a,2,b);b=K(this,3);null!=b&&Bj(a,3,b);return Y(a)};lkh.Yd="sr";function nkh(a,b,c){Vo.call(this);this.C=a;this.xa=b;this.V=c||null;this.La=new Wo(this);this.qa(this.La);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new uA(this);this.qa(this.ma);this.La.listen(this.H,"r",this.u9b).listen(this.H,"u",this.s$b).listen(this.H,"e",this.NRb).listen(this.H,"p",this.ORb);this.La.listen(o5(a),["dd"],this.MRb).listen(o5(a),"bu",this.LRb)}t(nkh,Vo);
function okh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return pkh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new tq),a.F="in-progress",pkh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function pkh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.bVa(b))}function qkh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Jd(null):d.callback(c)}m=nkh.prototype;
m.bVa=function(a){for(var b=o5(this.C),c=bhh(b),d=[],e=0;e<c.length;e++){d.push(ek(c[e].F));var f=c[e].getId();ld(b.J,f)}b=new jkh;d=ak(b,1,d);this.L&&L(d,2,this.L);M4(this.C).gra()&&(b=M4(this.C).gra(),L(d,5,b));jeh(this.H,"sync",d,u(this.s8b,this),u(this.r8b,this),!1,a?a:void 0)};m.r8b=function(){this.O=!1;qkh(this,!0)};m.NRb=function(){this.dispatchEvent("net-error")};m.ORb=function(){this.dispatchEvent("post-limit-error")};
m.s8b=function(a){a=new lkh(a);var b=this.O;this.O=!1;var c=Ka();if(b){var d=j6(this.xa,"model-loaded");if(d){var e=(new I4("model-loaded")).build();d(e)}}d=o5(this.C);try{if(rkh(this,a,b),this.L=K(a,2),dhh(d))fq(u(this.bVa,this));else{var f=Ka()-c;qkh(this,!1,b?f:void 0);this.V&&this.V.Ro("dscat",f)}}catch(h){throw fq(function(){throw h;}),h;}};
function rkh(a,b,c){var d=o5(a.C),e=$gh(d),f=Xj(b,w5,1);b=0<f.length;var h=o5(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=ek(l.value);var n=v5(l),q=Vgh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=o5(r.C);n=v5(l);delete e[q.getId()];var x=q.getId();if(fd(w.J,x))n=!1;else{x=q.getId();if(x=fd(w.Ja,x)){if(q.wq()){skh(r,q);n=!1;break a}r=q.getId();ld(w.Ja,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=ce(q.D);w=ja(t5(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(tkh(ek(q[x.value].C)));q=t5(n);ak(n,8,nd(q,w));n=!0}}n&&k.push(new Ddh(l))}$dh(h,k,"n");h=ja(bhh(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.wq()&&void 0===k.C.C.getId()&&skh(a,k);if(c){h=ja(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],Bdh(k)||void 0===k.C.C.getId()&&!k.wq()||(b=!0,k=ek(k.F),v5(k),f=v5(k),ak(f,8,[]),l=Ka(),L(f,13,l),L(f,12,!1),
L(k,9,!1),Q5(d,new Ddh(k),"n"));if(M4(a.C).vG()&&(a=o5(a.C),e=a.L.Cj)){h=$gh(a);for(var F in h){k=h[F];f=[];if(l=k)l=k.isResolved(),n=k.Qj()&&!!Cdh(k),l=!(l||n);if(l){if(l=k.$t())l=k.$t().getTime()>e;if(l)f.push(F),f.push.apply(f,ka(Object.keys(ce(k.D)))),chh(a,F,f);else{l=K5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=C5(k,q))w=C5(k,q).$t().getTime()>e;w&&f.push(q)}0!=f.length&&chh(a,F,f)}}}Zgh(a)}}b&&d.flush(c)}
function skh(a,b){a=o5(a.C);var c=ek(b.F),d=v5(c);L(c,9,!1);L(d,12,!1);b=b.getId();ld(a.J,b);Q5(a,new Ddh(c),"n")}function tkh(a){var b=Ka();L(a,13,b);L(a,12,!1);return a}m.u9b=function(){var a=12E4*Math.random();null!==this.R&&gq(this.R);this.R=fq(function(){okh(this,M4(this.C).Nea?1:void 0)},a,this)};
m.s$b=function(a){if(a.xm){var b=a.xm;a=o5(this.C);var c=0;b=Xj(b,w5,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=ek(d.value);var e=v5(d);e=Vgh(a,e.getId(),K(e,11));e&&e.zR()||(Q5(a,new Ddh(d),"n"),c++)}0<c&&o5(this.C).flush()}};m.MRb=function(a){"n"!=a.L&&Ugh(o5(this.C))&&okh(this)};m.LRb=function(a){"n"!=a.source&&Ugh(o5(this.C))&&okh(this)};m.Ia=function(){Vo.prototype.Ia.call(this);delete this.C;delete this.La;delete this.ma};function ukh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.La=new Wo(this);this.qa(this.La);this.C=null;this.O=!1;this.J=null}t(ukh,A);function vkh(a){if(!cah(a.H,"netIo"))return!1;a.C=new nkh(a.H,a.F,a.D.O||void 0);a.qa(a.C);a.La.listen(a.C,"net-error",a.V);a.La.listen(a.C,"post-limit-error",a.R);return!0}ukh.prototype.V=function(){wkh(this.F,"fe")};ukh.prototype.R=function(){wkh(this.F,"p")};function xkh(a){a.O=!0;a.J=Ka();vq(okh(a.C,a.D.ZC?1:void 0).addCallback(a.L,a),a.ma,a)}
function ykh(a){if(Wch(a.D)){var b=a.C.D;b?b.addCallback(function(){return zkh(a)}):zkh(a)}}ukh.prototype.L=function(a){var b=this.D.O;b&&b.zBa(ahh(o5(this.H)).C.clone().ob());if(b=j6(this.F,"sync-success")){var c=(new I4("sync-success")).build();b(c)}(b=j6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new $ah("initial-anchored-render-done",a));(a=j6(this.F,"initial-sync-and-render-complete"))&&a(new $ah("initial-sync-and-render-complete",Ka()-this.J));wkh(this.F,"s");wkh(this.F,"r")};
ukh.prototype.ma=function(){var a=j6(this.F,"sync-error");if(a){var b=(new I4("sync-error")).build();a(b)}wkh(this.F,"e")};function zkh(a){a.C.L=null;okh(a.C,a.D.Nea?1:void 0)};function Akh(){}Akh.prototype.C=function(a,b){return b?b.V0?["Action item created"]:["Comment created"]:[]};Akh.prototype.D=ea(0);function Bkh(){}Bkh.prototype.C=function(){return["Reply added"]};Bkh.prototype.D=ea(0);function Ckh(a){var b=a.v$a,c=a.iOb,d=a.r6b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function Dkh(a){fW.call(this);this.V=a;this.Ha=M4(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(Dkh,fW);m=Dkh.prototype;
m.Ba=function(){fW.prototype.Ba.call(this);ky(Cy(this),"docos");var a=Ha(Cy(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Sy(this.rb(),Ckh,{v$a:this.O,iOb:this.R,r6b:this.ma});Ry(this,"ok");a=this.Ha.Ya;null!==a&&(Rw(this.Sq(),"z-index",a),Rw(Cy(this),"z-index",a+1))};
m.Ga=function(){fW.prototype.Ga.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Iy(this.D,"ok");Mo(this.F,"click",u(this.cDa,this));Mo(this.H,"click",u(this.cDa,this));Mo(this.L,"click",u(this.cDa,this))};
m.update=function(){this.xa.disabled=!0;Ekh(xeh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.HAa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}Fkh(xeh(this.V),a)};m.cDa=function(){var a=this;Ekh(xeh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.od=function(){Uo(this.F);Uo(this.H);Uo(this.L)};m.Ia=function(){fW.prototype.Ia.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function Gkh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}qa("docos.api.StorageUpdate",Gkh,void 0);function Hkh(a,b){if(a){b||a.unshift(void 0);Ikh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Jkh(c[2],b),Hkh(c[3],b),b&&c.shift());b&&a.shift()}}function Jkh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Ikh(a,b){if(a){b||a.unshift(void 0);Jkh(a[3],b);Jkh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Ikh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Kkh(a){A.call(this);this.D=a;this.C=M4(a).Bb;this.H=[];this.F=[];M4(a).Tc||(this.La=new Wo(this),this.qa(this.La),this.La.listen(o5(a),["f","dd"],this.Oeb).listen(o5(a),"bu",this.Neb))}v(Kkh,A);m=Kkh.prototype;m.Oeb=function(a){if("o"!=a.L&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=od(this.H);var b=od(this.F);this.C.X4a(a,b,u(this.MMb,this,a),u(this.KMb,this,b));this.H=[];this.F=[]}}else Lkh(this,a.type,a.C,a.O)};
m.Neb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,Lkh(this,a.type,c.Wj,c.C)};function Lkh(a,b,c,d){if(c){var e;"bu"==b?e=o5(a.D).bd(c):e=o5(a.D).F[c];(b=e)&&b.wq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!Bdh(b)&&(e=ek(b.F).Ff(),e=de(e),Hkh(e,!1),b=new Gkh(c,e,b.zR()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.MMb=function(a){for(var b=0;b<a.length;b++);};
m.KMb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Mkh(this,d,c)};m.szb=function(a,b){if(0<b.length){for(var c=o5(this.D),d=0;d<b.length;d++){xa(b[d]);var e=de(b[d]);Hkh(e,!0);e=new w5(e);Q5(c,new Ddh(e),"o")}c.flush(!0)}a()};m.rzb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Mkh(this,d,c);a()};
function Mkh(a,b,c){if(a=mbh(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ia=function(){Kkh.Ta.Ia.call(this);delete this.D;delete this.La;delete this.C};function Nkh(a,b){var c=new Opf(new Cpf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));Qpf(c,b);b=c.D;a=null!=K(a.vh,50)?K(a.vh,50):4;L(b,5,Okh(a));return gtf(c)}function Okh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function Pkh(a,b){this.F=a;this.D=b;this.H=M4(this.D);this.C=null};function Qkh(a){this.F=a}Qkh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.bd(b.C))?O4(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};Qkh.prototype.D=ea(0);function Rkh(a,b){this.F=a;this.H=o5(this.F);this.J=b}Rkh.prototype.C=function(a,b){var c=this.H.bd(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.Jw())return["Draft comment"];b=[];c=K5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Qj()){var h=this.J;var k=f.P3();null==k?h="":(h=h(k).C(),h=null==h?"":kAd(h,$zd.getInstance()))}else h=f.Cx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(K4(f.Lw())+(" on "+a.format(wch(f)))));b.push(h+f)}return b};
Rkh.prototype.D=ea(0);function Skh(a){this.uec=a;return this}t(Skh,B4);Skh.prototype.shouldOverrideHide=g("uec");Skh.prototype.shouldOverrideHide=Skh.prototype.shouldOverrideHide;function Tkh(a){this.C=a}v(Tkh,B4);qa("docos.api.ToggleShowStreamPaneArgs",Tkh,void 0);Tkh.prototype.getDisplay=g("C");Tkh.prototype.getDisplay=Tkh.prototype.getDisplay;function Ukh(a){YA.call(this,a);this.ij("back-to-document",[85]);this.ij("next-doco",[74]);this.ij("prev-doco",[75]);this.ij("prev-anch",[75,1]);this.ij("next-anch",[74,1]);this.ij("resolve",[69]);this.ij("reopen",[69,1]);this.ij("reply",[82]);this.ij("speak-comment",Ft(["A","C"]));this.addEventListener("shortcut",this.Ca)}t(Ukh,YA);Ukh.prototype.Ca=function(a){this.dispatchEvent(a.identifier)};function Vkh(a,b){var c=a.iK,d=a.f6b,e=a.xab,f=a.wab,h=a.Yn,k=a.E2,l='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';l+=Hx("Comment history box.");var n='"><div class="'+T("docos-streampane-content")+'">';d?(b='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',a=a={Yn:h},d="",a.Yn?(d+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',d+="Comment</div></div>"):(d+='<div class="'+T("docs-material")+'">'+R(dbh({Wh:"docos-icon-add-comment",JB:"docos-icon-add-comment-size",Ae:"docos-new-comment-icon",OR:!0})),d+="Comment</div>"),a=S(d),b=b+R(a)+"</div>",c?(c='<div class="'+T("docos-notification-settings")+'">',h=h={Yn:h},h=h.Yn,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(dbh({Wh:"docos-icon-bell",JB:"docos-icon-bell-size",Ae:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=c+R(h)+"</div>"):h="",k=b+h+(k?'<div class="'+T("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=a.YC,k=a.iK,c=a.FC,a=a.Zu,h='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(ebh({size:48,Ae:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+
'"><div class="'+T("docos-streampane-username")+" "+T("goog-inline-block")+'">'+R(h)+"</div>"+R(Heh({Ae:"docos-streampane-input-pane",Afc:!0,FC:c,Zu:a},b)),k&&(h+='<div class="'+T("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=S(h+"</div></div>"));l+=n+k;e&&(l+='<div class="'+T("docos-streampane-bannertext")+'">'+R(e),f&&(l+='<a target="_blank" rel="noreferrer" href="'+T(Ix(f))+'" class="'+T("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+" "+T("goog-inline-block")+'">';return S(l+"You do not have permission to add comments.</div></div></div>")}function Wkh(a){a=a.message;return S('<div class="'+T("docos-streampane-error")+'">'+R(a)+"</div>")};function Xkh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+Ykh({Hq:"spinner-blue"})+Ykh({Hq:"spinner-red"})+Ykh({Hq:"spinner-yellow"})+Ykh({Hq:"spinner-green"})+"</div></div>")}
function Ykh(a){a=a.Hq;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function Zkh(a,b){L4.call(this,a,b);this.D=null}v(Zkh,L4);Zkh.prototype.Ba=function(){var a=this.oa();this.D=Uy(Xkh,{},void 0,a);this.jb(this.D)};Zkh.prototype.Xe=function(){this.D.parentElement.removeChild(this.D)};Zkh.prototype.Ia=function(){delete this.D};function $kh(a,b){Wo.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=q5(this.O);this.Dg=null;this.R=new YA(this.C.oa().Db());this.R.ij("blur",27);this.V=new uA(this);this.qa(this.V);this.V.ub(this.J.Qa("docos-new-doco"),st,this.CRb).ub(this.J.Qa("docos-highlight-doco"),st,this.BRb);this.listen(this.C,"bd",this.ARb).listen(this.C,"br",this.DRb)}t($kh,Wo);
function alh(a){0==a.D&&0<a.C.Zb()&&(a.D=blh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.Zb();c++)blh(a,c)==a.D&&(b=c);clh(a);k6(a.C,!1);b=a.C.mc(b).getId();b=new Tah(b,a.C.getId());a.J.vf("docos-before-highlight-doco").kb(b);a.J.vf("docos-highlight-doco").kb(b)}}function clh(a){a.Dg||(a.Dg=new uy(a.C.oa().Db()),a.qa(a.Dg));a.listen(a.Dg,"focusin",a.sZa).listen(a.R,"shortcut",a.oPa)}m=$kh.prototype;
m.sZa=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,dlh(this,!0),k6(this.C,!0),this.kc(this.Dg,"focusin",this.sZa).kc(this.R,"shortcut",this.oPa),a=D4(),this.J.vf("docos-before-highlight-doco").kb(a),this.J.vf("docos-highlight-doco").kb(a))};m.oPa=function(){k6(this.C,!1);dlh(this,!1)};
m.BRb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Ac(a)){if(this.D=O5(o5(this.O),b.C),b.D==this.C.getId()){clh(this);dlh(this,!1);a instanceof oih&&(a.Hh(!0),tih(a,!0));k6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof oih)a:if(fih(a),a.D)a.D.ready(void 0,void 0,!0),a.D.R.focus();else{b=K5(a.bd(),!1);for(var c=b.length-1;0<=c;c--)if(aih(a.H[b[c].getId()]))break a;aih(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,k6(this.C,!0),dlh(this,!0)};
m.CRb=function(a){a=a.data;var b=R5(o5(this.O),a.Jp);if(b){for(var c=0;c<this.C.Zb();c++)if(b.getId()==this.C.mc(c).getId()){this.D=a.Jp;break}this.F=!0;k6(this.C,!1,!0);dlh(this,!1)}};m.ARb=function(){elh(this)};m.DRb=function(){o5(this.O).xa||elh(this)};function elh(a){if(1==a.C.Zb())a.D=0,k6(a.C,!1);else{for(var b=0,c=0;c<a.C.Zb();c++)if(blh(a,c)==a.D){b=c;break}b==a.C.Zb()-1?b--:b++;a.D=blh(a,b);a.F=!0;k6(a.C,!1,!0);dlh(a,!1)}}
function dlh(a,b){for(var c=H8a(a.C),d=0;d<c.length;d++){var e=a.C.Ac(c[d]);e instanceof oih&&(e.Hh(b),tih(e,b))}}function blh(a,b){return O5(o5(a.O),a.C.mc(b).getId())};function flh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function glh(a,b,c,d){L4.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.cBa(this);this.O={};this.J=[];this.H=[];this.Aa=!1;this.ma=this.F=this.R=null;this.xa=new uA(this);this.qa(this.xa);a=o5(this.context);this.getHandler().listen(a,"bu",this.Z6b).listen(a,"dd",this.A7b).listen(a,"f",this.Z7b).listen(a,"sd",this.D9b).listen(a,"ud",this.p$b).listen(b,"rv",this.Hbc).listen(this,"ra",this.o9b).listen(this,"sd",this.U9b).listen(this,"sr",this.V9b).listen(this,"sn",this.E9b).listen(this,"sp",
this.F9b).listen(this,"bd",this.$6b).listen(this,"ar",this.M6b).listen(this,"ph",this.q8b);obh(this)}v(glh,L4);m=glh.prototype;
m.Ga=function(){glh.Ta.Ga.call(this);Zz(this.getElement(),"docos");ly(this.getElement(),["docos","docos-stream-view"]);Sx(this.getElement(),"list");Xch(this.C)?ky(this.getElement(),"docos-stream-view-height"):(ky(this.getElement(),"docos-stream-view-legacy"),ky(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&ky(this.getElement(),"docs-gm");ly(this.rb(),this.D.mQ());this.getHandler().listen(this,"rd",this.Ueb);var a=q5(this.context);this.xa.ub(a.Qa("docos-highlight-doco"),
st,this.Xha);M4(this.context).mb&&jy(this.getElement(),"docos-layout-vertical")&&(this.R=new $kh(this.context,this),this.F=this.eb.createElement("DIV"),ky(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.xy).listen(this.F,"focus",this.H9b),hlh(this).appendChild(this.F),this.ma=new NB);this.kFa()};m.SIa=ea(!0);m.U$=function(){this.D.kK();ilh(this);this.D.qK(!0);this.dispatchEvent("ail")};m.xy=function(){alh(this.R)};m.H9b=function(){var a=this.R;a.H=!0;alh(a)};
m.kFa=function(){var a=o5(this.context);if(Rd(a.C)){this.D.qK(!1);a=ce(a.C);for(var b in a)jlh(this,b);this.D.UJ();this.U$()}};m.DA=function(a,b){for(var c=this.Zb()-1;0<=c;--c){var d=this.mc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.DA()}};
m.Xha=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.ma&&this.D.Dja(a,c)){if(this.ma&&a&&this.D.Kq()!=a){var d=this.Zb();d="Comment "+(vx(this,this.Ac(a))+1+(" of "+(d+" ")));OB(this.ma,d)}this.dispatchEvent("us");this.D.opa(a,c,b);ilh(this);this.dispatchEvent("ud")}};m.Z6b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Wj;c=c.C;b&&(o5(this.context).bd(b),(c=this.Ac(b)||c&&this.Ac(c))?(c.getId()!=b&&c.Ec(b),this.J.push(b)):this.O[b]=!0)}};m.A7b=function(a){this.H.push(a.C)};
function ilh(a){a.Aa||a.D.vz()}m.Z7b=function(a){this.D.qK(!a.F);this.Aa=!0;for(var b=0;b<this.H.length;++b)klh(this,this.H[b]);for(var c in this.O)jlh(this,c);Yd(this.O)||this.D.UJ();for(b=0;b<this.J.length;++b)llh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.kK();this.D.vz();this.Aa=!1;this.D.qK(!0)};m.Ueb=function(a){this.Ac(a.Wj)&&(this.D.E_(a.Wj),ilh(this))};m.D9b=function(a){a.C&&this.Ac(a.C)&&this.D.uka(a.C)};m.p$b=function(a){a.C&&this.Ac(a.C)&&this.D.uka(a.C)};
m.o9b=function(a){var b=o5(this.context).bd(a.Wj);if(a=M4(this.context).H.reanchor)b=J5(b),b=Zah("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};m.U9b=function(a){var b={text:a.C,Ym:a.Ym,Jp:a.Jp,ifb:a.Ym,V0:a.V0};a.Ym&&M4(this.context).Hc&&(b.quote=(0,M4(this.context).Hc)(a.Ym));a.Ym&&M4(this.context).Pa&&(b.Ym=(0,M4(this.context).Pa)(a.Ym));0==a.Vk&&(b.uf=105);q5(this.context).vf("docos-new-doco").kb(b)};
m.V9b=function(a){var b=o5(this.context).bd(a.Wj);if(!b)throw Error(a.Wj+" not contained within appropriate stream.");var c=q5(this.context),d=0==a.Vk?105:null;b.isResolved()?c.vf("docos-resolve-doco").kb(new pbh(a.Wj,!1,a.C,d)):c.vf("docos-new-reply").kb(new flh(a.Wj,a.C,a.V0,d))};m.E9b=function(){this.D.highlightNext()};m.F9b=function(){this.D.highlightPrevious()};m.$6b=function(){this.D.Uha()};m.M6b=function(){this.D.Sha()};
function jlh(a,b){var c=o5(a.context).bd(b);c&&a.Ha(c)&&!a.Ac(b)&&(a.dispatchEvent("us"),a.D.bP(c),a.dispatchEvent("ud"),a.R&&k6(a,!0))}function llh(a,b){a.dispatchEvent("us");var c=a.Ac(b);if(c){var d=o5(a.context).bd(b);d&&a.Ha(d)?(c.update(),a.D.E_(b)):klh(a,b)}a.dispatchEvent("ud")}function klh(a,b){b&&(a.dispatchEvent("us"),a.D.kT(b),a.dispatchEvent("ud"))}m.Hbc=function(a){for(var b=a.KIa.length,c=0;c<b;++c)klh(this,a.KIa[c])};m.p7=function(){for(var a=this.Zb(),b=0;b<a;++b)this.mc(b).p7()};
function hlh(a){return(a=a.getElement())?a.parentElement:null}function k6(a,b,c){if(!b&&!c||0!=a.Zb())a.oa().Qi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Qi(a.F,b))}m.Ia=function(){glh.Ta.Ia.call(this);delete this.xa};m.q8b=function(){var a=this.D.iW();null==a||a.isDisposed()||(a.update(),a.focus())};function mlh(a){A.call(this);this.C=[];this.D=!1;this.F=new Dq;this.H=a?!1:!0}t(mlh,A);mlh.prototype.start=function(){this.H=!0;nlh(this)};function nlh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Ik(u(a.J,a)))}mlh.prototype.J=function(){this.C.shift()();this.D=!1;nlh(this)};mlh.prototype.Ia=function(){this.F.dispose();A.prototype.Ia.call(this)};function olh(a,b,c,d){glh.call(this,a,b,c,d);this.Na=new mlh;this.L=[];this.Ja=new Zkh(a,d);this.Ca=!1;this.V=null}v(olh,glh);m=olh.prototype;m.SIa=g("Ca");m.U$=function(){olh.Ta.U$.call(this);this.Ja.Xe();this.Ca=!0;this.V&&this.Xha(this.V)};m.oFa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Ac(b)||(jlh(this,b),a++)}0==this.L.length?this.U$():(a=this.Na,b=u(this.oFa,this),a.C.push(b),nlh(a))};
m.kFa=function(){var a=o5(this.context);if(Rd(a.C)){this.Ja.render(hlh(this));this.D.qK(!1);a=ce(a.C);for(var b in a)this.L.push(b);b=this.Na;a=u(this.oFa,this);b.C.push(a);nlh(b)}};m.Xha=function(a){this.Ca?olh.Ta.Xha.call(this,a):this.V=a};function plh(a,b,c,d,e){$5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];M4(a).wc&&(c=c.concat(["link"]));this.L=new ddh(a,b,d,"docos-actionmenu",c);this.Fa(this.L);this.Fa(this.F);fih(this);this.Ha+=" docos-streamdocoview-input-pane";this.Bb="Discard reply";this.Aa=this.V=this.Ja=this.Sa=this.Oa=this.Ca=null}t(plh,$5);m=plh.prototype;
m.Ba=function(){$5.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Ca=a.Za("docos-streamdocoview-inputcontainer",b);this.Oa=a.Za("docos-streamdocoview-reopen-control",b);this.Sa=a.Za("docos-streamdocoview-resolve-control",b);this.C.vG()&&(this.Lc=a.Za("docos-root-new-tag",b));this.L.Ua(a.Za("docos-actionmenu-outer",b));Xx(this.L.F.Ka(),"More options");this.Ja=a.Za("docos-author",b);this.V=AV(a,"IMG","docos-streamdocoview-avatar",b);this.Aa=AV(a,"IMG","docos-streamreplyview-avatar",
this.Ca);a=this.oa();b=this.getElement();var c=a.Za("docos-docoview-comment",b);c&&(M4(this.getContext()).C.C(c,"Reply to this comment"),Xx(c,"Reply to this comment"));if(c=a.Za("docos-docoview-resolve",b))M4(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),Xx(c,"Mark as resolved and hide discussion");if(a=a.Za("docos-docoview-reopen",b))M4(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),Xx(a,"Mark as open and return discussion to the document view")};
m.Ga=function(){$5.prototype.Ga.call(this);qlh(this);var a=this.getElement();this.D.xa=a;N4(N4(N4(N4(this,this.L,"d",this.E2a),this.L,"e",this.K7b),this.L,"r",this.z9b),this.L,"ra",this.q9b);a=this.bd().Lw();rlh(this,a);slh(this,a);a=M4(this.getContext()).Pg();sbh(n5(this.getContext()),this.Aa,a.D,K4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Aa&&this.C.C.C(this.Aa,a)};m.Ec=function(a){$5.prototype.Ec.call(this,a);this.L&&fdh(this.L,a)};
m.update=function(){$5.prototype.update.call(this);var a=this.bd().Lw();rlh(this,a);slh(this,a);this.L.update();qlh(this);this.Ca&&(a=!Yd(this.H)||U5(this.D)||this.Wk(),P(this.Ca,a))};function rlh(a,b){var c=n5(a.getContext()),d=b.D;a.V&&uhh(b,a.bd().getOrigin())&&(d=qeh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));sbh(c,a.V,d,K4(b))}function slh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ja&&a.C.C.C(a.Ja,c),a.V&&a.C.C.C(a.V,c))}
function qlh(a){var b=a.bd();a.Oa&&P(a.Oa,b.isResolved());a.Sa&&P(a.Sa,!b.isResolved())}m.dZa=function(a){var b=this.getElement();a=a.target;jy(a,"docos-docoview-comment")&&b?this.D.ready():jy(a,"docos-docoview-resolve")&&b?tlh(this):jy(a,"docos-docoview-reopen")&&b&&mih(this)};m.K7b=function(){Yhh(this.F)};m.z9b=function(){this.bd().isResolved()?mih(this):tlh(this)};m.q9b=function(a){this.dispatchEvent(new Meh("ra",this.bd().getId()));a.stopPropagation()};
function tlh(a){var b=q5(a.getContext());a.dispatchEvent("br");var c=new pbh(a.getId(),!0,U5(a.D)?a.D.getValue():null,105);b.vf("docos-resolve-doco").kb(c);a.dispatchEvent("ar")}m.p7=function(){var a=this.F;a.yb&&!a.H.Wk()||Thh(a)};m.od=function(){$5.prototype.od.call(this);var a=n5(this.getContext());p5(a,this.V);p5(a,this.Aa)};m.Ia=function(){$5.prototype.Ia.call(this);delete this.L;delete this.Ja;delete this.V;delete this.Aa;delete this.Ca;delete this.Oa;delete this.Sa};function ulh(a,b,c,d){this.C=a;this.H=b;this.$a=c;this.D=d}ulh.prototype.F=function(a){a=o5(this.C).bd(a);var b=this.H.lk().getId();switch(a.getNewDocoType()){case "draft":return new Aih(this.C,a.getId(),b,J5(a),this.$a,this.D);default:return new plh(this.C,a.getId(),b,this.$a,this.D)}};function vlh(a,b){b6.call(this,a,b)}v(vlh,b6);m=vlh.prototype;m.R3=function(){return"none"!=M4(this.getContext()).bb};m.yoa=function(a){return(new ulh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.sV=function(a,b){a=a.bd();b=b.bd();if(!a||!b)throw Error("Doco view missing doco.");var c=c6(this).bb;c6(this).Pg().getEmail();switch(c){case "creation":c=b.$t().getTime()-a.$t().getTime();break;case "priority":c=a.isResolved()||a.Qj()&&!!Cdh(a);var d=b.isResolved()||b.Qj()&&!!Cdh(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=O4(a),c=O4(b),d=gbh(d,c6(this))?1:0,c=(gbh(c,c6(this))?1:0)-d));c=c||wlh(this,a,b)||xlh(a,b);break;default:c=xlh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function xlh(a,b){return b.wQ().getTime()-a.wQ().getTime()}function wlh(a,b,c){a=c6(a).Pg().getEmail();var d=new Set,e=new Set;K5(b,!0).forEach(function(f){d.add.apply(d,ka(agh($fh,f.Cx())))});K5(c,!0).forEach(function(f){e.add.apply(e,ka(agh($fh,f.Cx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.bP=function(a){var b=this.lk(),c=this.yoa(a),d=0;this.R3()&&(d=this.gca(c));b.Cf(c,d,!0);c.update();if(c=b=this.Kba())b.C!=a.getId()?c=!1:(c=a.Xz()?J5(a):void 0,d=M4(this.getContext()).mj,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Cdh(a)||d);c&&(b=G4(Xah(F4(E4(a.getId()),this.sG()),b.D)),this.lSa(b,a))};m.kT=function(a){this.lk().Ac(a)&&(a=this.lk().removeChild(a),Qf(a))};m.E_=function(a){if(this.R3()){var b=this.lk();if(a=b.Ac(a)){var c=vx(b,a),d=this.gca(a);c!=d&&b.Cf(a,d)}}};
m.Uha=function(){Jih(this,!0,!0)};m.Sha=function(){if(this.H&&this.Kq()){var a=this.Kq();W5(o5(this.getContext()),a);this.sG()&&q5(this.getContext()).vf("docos-highlight-doco").kb(G4(Vah(F4(E4(a),this.sG()))))}};m.kK=function(){Lih(this)};function ylh(a){a=a||{};var b=a.wcc,c=a.xcc,d=a.qbb,e=a.pbb;a=a.Gdb;if(Ex(d)||Ex(c)){var f;Ex(a)&&Ex(c)?f='<a href="'+T(Ix(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function zlh(a,b){Q.call(this,b);this.C=a}t(zlh,Q);zlh.prototype.Ba=function(){this.jb(Uy(ylh,{pbb:K(this.C,4),qbb:this.C.Dl(),Gdb:K(this.C,5),wcc:K(this.C,2),xcc:K(this.C,1)},void 0,this.oa()))};function Alh(a,b){L4.call(this,a,b);this.Mc=new Mz(b);this.F=a;for(var c in kah){a=kah[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new xU(d,a,b);this.Mc.Fa(a,!0)}this.D=new Sz("",this.Mc,bH.getInstance(),b);Tz(this.D,new Bbb(null,9));this.D.EN=!0;this.Fa(this.D)}t(Alh,L4);m=Alh.prototype;
m.Ga=function(){L4.prototype.Ga.call(this);var a=this.oa(),b=a.Za("docos-ns-caption",this.getElement());a=a.Za("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().ze(a,"Notifications");b=M4(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Mc.Zb();a++){var c=this.Mc.mc(a),d=c.getElement();a:{switch(c.Ra()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}N4(this,this.D,"action",this.vSb);N4(this,this.C,"r",this.exa);N4(this,this.getElement(),"keyup",this.ykb);N4(this,this.Mc,"show",this.uSb);N4(this,this.Mc,"hide",this.tSb);this.exa()};m.uSb=function(){0<this.Mc.Zb()&&this.Mc.Mh(0)};m.tSb=function(a){a.stopPropagation()};m.ykb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.vSb=function(a){var b=a.target.Ra(),c=xeh(this.F);b!=Ekh(c)&&Fkh(c,b);this.exa();a.stopPropagation()};m.exa=function(){var a=this;!this.C.R&&this.C.iK()?Ekh(xeh(this.F)).then(function(b){for(var c=0;c<a.Mc.Zb();++c){var d=a.Mc.mc(c);d.Eb(d.Ra()==b)}b=!a.C.R&&a.C.iK();a.D.Ma(b)},void 0,this):this.D.Ma(!1)};function Blh(a,b,c,d){L4.call(this,a,b);this.F=new vlh(a,b);this.qa(this.F);this.D=c?new olh(a,this.F,kfa(Adh),b):new glh(a,this.F,kfa(Adh),b);this.Fa(this.D);this.J=a;this.Aa=null;this.Ha=!!d;Mj(this.C.vh,30)||(this.H=new igh(a,b),this.qa(this.H),this.Fa(this.H),this.H.ma="Add a comment");this.V=null;Mj(this.C.vh,30)&&this.C.iK()&&!this.C.ma&&(this.V=new Alh(a,b),this.Fa(this.V));this.L=null;this.C.E2()&&(this.L=new mU(b),this.Fa(this.L));this.R=null;Mj(this.C.vh,30)&&(this.R=new DA("",b,"legacy"!=
this.C.F?4:void 0),this.Fa(this.R));this.Ca=new uA(this);this.qa(this.Ca);this.xa=new zlh(N(this.C.vh,tjf,2)||new tjf,b);this.Fa(this.xa);this.O="";this.ma=null;obh(this)}v(Blh,L4);m=Blh.prototype;m.B_a=0;m.wz=null;m.Aaa=null;m.IV=null;m.mD=null;m.rG=null;
m.Ba=function(){var a="legacy"!=this.C.F,b=this.oa(),c=Uy(Vkh,{YC:this.C.Pg().getName(),iK:this.C.iK(),f6b:!!Mj(this.C.vh,30),FC:this.C.Ca,xab:this.C.Ty,wab:this.C.Nv,Yn:a,E2:this.C.E2(),Zu:Zch(this.C)},void 0,b);Mj(this.C.vh,30)&&ky(c,"docos-enable-docs-header");a&&ky(c,"docs-gm");this.jb(c);a=b.Za("docos-streampane-content",c);this.D.render(a);this.rG=Mj(this.C.vh,30)?this.D.rb():this.C.L;this.xa.render(c);this.Aaa=b.Za("docos-streampane-username",c);this.IV=AV(b,"IMG","docos-streampane-avatar",
c)};
m.Ga=function(){Blh.Ta.Ga.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Ua(a.Za("docos-streampane-input-pane",b));if(this.V){var c=a.Za("docos-notification-settings",b);this.V.Ua(c)}c=M4(this.J).C;if(this.L){var d=a.Ea("docos-priority-checkbox",b);this.L.render(d);this.L.Eb(!0);this.L.setContent("For you");N4(this,this.L,"action",this.Sbb);c.C(this.L.Ka(),"Sort by discussions relevant to me")}this.R&&(a=a.Za("docos-new-comment-button",b),this.R.Ua(a),c.C(a,this.C.Ja?"Add comment not available":"Add a comment"),
N4(this,this.R,"action",this.Peb),this.y4a(),this.getHandler().listen(this.C,"r",this.y4a));this.C.xa&&(b=this.C.xa,this.H&&(this.H.xa=b));Hp(b,!0);this.mD=new Ukh(b);Mo(this.mD,"next-doco",this.N8b,!0,this);this.mD.addEventListener("prev-doco",this.f9b,!0,this);Mo(this.mD,"resolve",u(this.L9a,this),!0);Mo(this.mD,"reopen",u(this.Teb,this),!0);Mo(this.mD,"back-to-document",this.qab,!0,this);Mo(this.mD,"speak-comment",this.Lfc,!0,this);b=q5(this.J);a=this.C.Ja?this.j8b:this.Seb;this.Ca.ub(b.Qa("docos-highlight-doco"),
st,a);this.H&&N4(this,this.H,"p",this.J6b);N4(N4(N4(N4(N4(N4(N4(N4(this,this.getElement(),"click",this.Qeb),this.D,"f",this.$7b),this.D,"b",this.c7b),this.D,"e",this.S7b),this.D,"us",this.T9b),this.D,"ud",this.S9b),this.D,"ail",this.R9b),this,["aftershow","afterhide"],this.Reb);b=this.C.Pg();reh(n5(this.J),this.IV,b.D,K4(b));this.Aaa&&(a=b.getName())&&this.C.C.C(this.Aaa,a);this.IV&&(a=b.getName())&&this.C.C.C(this.IV,a);this.Ha||(this.Aa=new XB(this.getElement(),this.oa()),this.qa(this.Aa),YB(this.Aa));
Clh(this)};m.Reb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof fpf;var d=(new I4(b)).setNonAnchored(!0).setApiEventArgs(new Skh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.p7=function(){this.D.p7()};m.Qeb=function(a){jy(a.target,"docos-streampane-notificationslink")&&!this.C.R&&this.dispatchEvent("dnd")};
m.J6b=function(){var a=this.H.getValue();Gd(a)||(q5(this.J).vf("docos-new-doco").kb({text:a,Ym:null,Jp:0,quote:null,uf:105}),this.wz=null)};m.$7b=function(a){if(a=a.target)this.wz=a.getElement()};m.c7b=function(a){Dlh(this,a)};m.S7b=function(a){Dlh(this,a)};function Dlh(a,b){(b=b.target)&&b.getElement()==a.wz&&(a.wz=null)}m.T9b=function(){null!=this.wz&&(this.B_a=this.wz.offsetTop)};m.S9b=function(){null!=this.wz&&this.rG&&(this.rG.scrollTop+=this.wz.offsetTop-this.B_a)};m.R9b=function(){this.dispatchEvent("initial-load-complete")};
m.Seb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&Elh(this,a.C||null);if(a=a.C?this.D.Ac(a.C):null)this.wz=a.getElement()};m.j8b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?o5(this.J).bd(b):null)&&(b=(new I4("toggle-show-stream-pane")).addAnchorId(J5(b)).addDocoHandle(O5(o5(this.J),b.getId())).setNonAnchored(!(b.Xz()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Tkh(!0)).build(),c(b));Elh(this,a.C||null)};
function Elh(a,b){(b=b?a.D.Ac(b):null)?(a.wz=b.getElement(),a.rG&&(a.rG.scrollTop=b.getElement().offsetTop)):a.wz=null}m.N8b=function(){this.F.highlightNext()};m.f9b=function(){this.F.highlightPrevious()};m.L9a=function(){var a=this.F.iW(),b=this.F.Kq();b=b?o5(this.J).bd(b):null;a&&b&&(a=a.F,b.Qj()?Rhh(a):Qhh(a,!0))};m.Teb=function(){var a=this.F.iW();a&&Qhh(a.F,!1)};m.qab=function(){var a=q5(this.J),b=this.F.Kq();a.vf("docos-back-to-document").kb({Wj:b})};m.Lfc=function(){var a=this.F.iW();a&&nih(a)};
function Clh(a){if(""!=a.O&&!a.ma&&a.pb()){var b=Uy(Wkh,{message:a.O});a.ma=new Q;a.ma.Ua(b);a.Cf(a.ma,0)}}m.y4a=function(){this.R.Ma(this.C.hg)};m.Peb=function(){this.dispatchEvent({type:"create-draft",uf:105})};m.Sbb=function(){var a=q5(this.J),b=this.L.isChecked();this.rG&&(this.rG.scrollTop=0);a.vf("docos-update-sort").kb({Hfc:b?"updated":"priority"})};m.od=function(){Blh.Ta.od.call(this);p5(n5(this.J),this.IV)};
m.Ia=function(){Blh.Ta.Ia.call(this);delete this.Aaa;delete this.IV;delete this.wz;delete this.rG;delete this.xa;delete this.H;delete this.F;delete this.D;delete this.Ca;this.mD&&(delete this.mD,this.mD=null)};function Flh(a){J(this,a,"gs",-1,null,null)}v(Flh,I);Flh.prototype.ea=function(){var a=new E;var b=this.lp();null!=b&&a.C(1,b,yjf);return Y(a)};Flh.Yd="gs";Flh.prototype.lp=function(){return N(this,xjf,1)};function Glh(a){J(this,a,0,-1,null,null)}v(Glh,I);Glh.prototype.ea=function(){var a=new E;var b=this.lp();null!=b&&a.C(1,b,yjf);return Y(a)};Glh.prototype.lp=function(){return N(this,xjf,1)};function Hlh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=bq();cah(this.H,"netIo")&&this.F.resolve()}t(Hlh,A);function Ekh(a){if(a.C)return Xp(Ilh(a.C));a.D||(a.D=a.F.C.then(function(){return new Wp(function(b,c){jeh(a.H.get("netIo"),"uc",void 0,function(d){return b(new Flh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.lp();a.D=null;return Ilh(a.C)},void 0,a)}
function Fkh(a,b){var c="all"==b;b="none"==b;var d=(new xjf).Ma(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new Glh;b=Yj(b,1,a.C);jeh(a.H.get("netIo"),"uc",b)}function Ilh(a){return Pj(a,2,!0)?Mj(a,3)?"all":Pj(a,4,!0)||Pj(a,5,!0)?"important":"none":"none"};function Jlh(a,b){var c=a.bd(),d=b.bd();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.$t();a=d.$t();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function Klh(a,b){this.C=a;this.fd=b}Klh.prototype.bd=g("C");Klh.prototype.getPosition=g("fd");function Llh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function Mlh(a,b){return a.C().mc(b).getId()}function Nlh(a,b){for(var c=a.C().Zb(),d=0;d<c;++d)a.H(Mlh(a,d),Infinity);a.layout(b||[])}m=Llh.prototype;m.layout=function(a){do{var b=a;Olh(this,0,this.C().Zb(),1,-Infinity,this.alb,this.blb,b);b=a;Olh(this,this.C().Zb()-1,-1,-1,Infinity,this.sab,this.uab,b);a.pop()}while(0<a.length)};function Plh(a,b){0==a.D&&(a.D=1);a.F=nd(b,a.F);rd(a.F)}
function Qlh(a){0!=a.D&&(2==a.D?Nlh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function Olh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=Mlh(a,b);var n=b;n=a.C().mc(n).getHeight();var q=a;var r=b;r=q.C().mc(r).bd().getId();q=q.J(r);r=a.L(l);e=fd(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.alb=function(a,b){return b+a+10};m.sab=function(a,b){return b-10};m.blb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.uab=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function Rlh(a,b){var c=this;Rih.call(this,a,b);this.F={};this.ma={};this.Ca=new Llh(u(this.lk,this),u(this.fVa,this),u(this.Jqa,this),u(this.Adc,this));this.Sa=M4(a).Eo;this.Ha=new tL;this.fb=!0;this.yb=new Mq(this.Uhc,500,this);this.Na=this.Pa=null;this.Ja=yeh(a);this.qb=new xo;this.qa(this.qb);yo(this.qb,this.Ja.D,function(){c.Oa=!0;c.Ya&&Slh(c,c.Ya);Qlh(c.Ca);c.mb&&c.vz();c.Oa=!1});this.mb=!1;this.Ya=null;this.Va=this.Oa=!1}v(Rlh,Rih);var Tlh=null;m=Rlh.prototype;
m.mQ=function(){var a=Rlh.Ta.mQ.call(this);a.push("docos-layout-vertical");return a};m.R3=ea(!0);m.qK=da("fb");m.sV=function(a,b){a=a.bd();b=b.bd();if(!a||!b)throw Error("Doco view missing doco.");var c=O5(o5(this.getContext()),a.getId()),d=O5(o5(this.getContext()),b.getId());return Jlh(new Klh(a,this.C[c]||new Qm(Number.MAX_VALUE,Number.MAX_VALUE)),new Klh(b,this.C[d]||new Qm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.E_=function(a){this.UJ(a,!1)};m.Pya=function(a){Rlh.Ta.Pya.call(this,a);this.vz()};
m.t0a=function(){for(var a=this.lk(),b=a.Zb(),c=0;c<b;c++){var d=a.mc(c);d.getId()!=this.Kq()&&d.getId()!=this.hW()&&d.H$()&&d.collapse()}};m.kK=function(){Xih(this);Lih(this);for(var a=this.lk(),b=a.Zb(),c=0;c<b;++c){var d=a.mc(c);d.H$()&&!d.Wk()&&d.dAa()}a=[];(b=this.Kq())&&a.push(b);this.Ja.C||this.Oa?(b=this.Ca,b.D=2,Plh(b,a||[])):Nlh(this.Ca,a);Ulh(this)};m.j2=function(a){this.Pa=a.clone();this.Na&&this.Na.contains(a)?this.yb.start():(a=this.yb,a.stop(),a.bsa())};
m.Uhc=function(){if(this.O){this.Na=this.Pa.clone();var a=this.lk();this.Na.expand(500,0,500,0);var b=a.Zb(),c="";0<b&&(c=a.mc(b-1).getId());for(var d=0;d<b;d++){var e=a.mc(d),f=this.ma[e.getId()];f=Vlh(e,this.Na,f.y,c);e.setVisible(f)}}};
m.vz=function(){Rlh.Ta.vz.call(this);if(this.Ja.C)this.mb=!0;else{Qlh(this.Ca);var a=this.lk(),b;for(b in this.F){var c=a.Ac(b);if(c){var d=b==this.Kq()||b==this.hW()?-10:this.Sa,e=!c.dxa();b!=this.Kq()&&b!=this.hW()&&this.ib&&(e=e&&this.ib.Sa);this.Eha(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}Ulh(this);this.mb=!1}};function Vlh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Wk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function Ulh(a){var b=c6(a).H.bounds;b&&(a=a.i2(),!Tlh&&!a||wd(Tlh,a)||(Tlh=a,a=(new I4("bounds")).setUserInitiated(!0).build(),b(a)))}m.Jqa=function(a){if(a&&!(a in this.F))if(c6(this).Sa){var b=this.fVa(a);null!==b&&(this.F[a]=b)}else if(b=this.lk().Ac(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.Adc=function(a,b){this.F[a]=b};m.UJ=function(a){Xih(this);if(c6(this).Sa)Wlh(this);else{var b=[];this.Kq()&&b.push(this.Kq());a&&b.push(a);Xlh(this,b)}};
function Wlh(a){c6(a).Sa&&(a.F={});var b=a.Kq();Xlh(a,b?[b]:[])}function Xlh(a,b){a.Ja.C||a.Oa?Plh(a.Ca,b):a.Ca.layout(b)}m.jK=function(a){var b=Td(a),c=Rd(this.C),d=b.length!=c;this.Va=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Va=!0;break}}d&&(this.Ja.C?this.Ya=a:Slh(this,a))};
function Slh(a,b){a.C=b;Ylh(a);Xih(a);a.Va&&(Lih(a),a.Va=!1);Wlh(a);b=a.Ha.$e();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.bP(d)}a.UJ();a.vz();a.Ya=null}function Ylh(a){var b=Object.keys(a.C);b.sort(u(a.zac,a));a.Ha.clear();for(var c=o5(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=R5(c,parseInt(e,10));f&&c.ma(f)&&a.Ha.set(e,a.Ha.Xd())}}
m.zac=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=R5(o5(this.getContext()),c);d=R5(o5(this.getContext()),d);return Jlh(new Klh(c,b),new Klh(d,a))};m.kT=function(a){Rlh.Ta.kT.call(this,a);Ylh(this)};m.gca=function(a){a=O5(o5(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(Ylh(this),b=this.Ha.get(a));return b};
m.Eha=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.lk();f=h.Zb();h=h.mc(f-1).getId();f=Vlh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.fb&&l&&this.lk().Zb()<Zlh(this);k=this.fb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));cbh(this.J,h);var n=new fah(e,[a,b],f,bN);bbh(this.J,h,n,f,function(){return Qf(n)})}else Uw(e,
a,b),f||c.setVisible(!1);c.dc=-10==a;this.ma[h]=new Qm(a,b);this.F[h]=b}};function $lh(a,b){return(a=a.C[b])?a.y:null}m.fVa=function(a){a=O5(o5(this.getContext()),a);return $lh(this,a)};m.Wqa=function(a,b){a=$lh(this,a);return null===a?null:new Qm(b?-10:this.Sa,a)};
m.i2=function(){var a=this.lk();if(!a||!a.pb())return null;var b=a.Zb();if(!b)return null;var c=a.mc(0);b=a.mc(b-1);a=b.getElement();c=this.Jqa(c.getId());b=this.Jqa(b.getId());return null!=c&&null!=b?[c,210+this.Sa,b+a.offsetHeight,this.Sa]:null};function Zlh(a){a=c6(a);return(a=null!=K(a.vh,47)?K(a.vh,47):null)?a:100};function amh(a){this.C=a}v(amh,B4);qa("docos.api.WriteFeedbackArgs",amh,void 0);amh.prototype.getSource=g("C");amh.prototype.getSource=amh.prototype.getSource;if(!bmh)var bmh=ea("");if(!cmh)var cmh=ea("");function l6(a,b){var c=this;A.call(this);this.Lc=Ka();this.J={};this.F=new weh;var d=l6.__default_config;d&&ee(this.J,d);a&&ee(this.J,a);this.D=new Vch(this.J,b);this.F.yf("config",this.D);this.ma={};Mj(this.D.vh,17)&&(this.Wa=new ieh,this.F.yf("errorReporter",this.Wa),this.bxa=this.Wa.F.C(this.bxa));this.xa=null;this.V={};this.Ha=null;this.Sa=!1;this.Va=!0;this.R=new ukh(this.F,this.D,this);dmh(this,"s",function(){c.C.Pa=!0;if(0<Rd(c.C.C)){emh(c);var e=c.D.Am;e&&e(43082,3E4)}});dmh(this,"fe",u(this.KRb,
this));dmh(this,"p",u(this.HRb,this));this.yb=new Pkh(this,this.F);S$g();this.bxa()}v(l6,A);qa("Docos",l6,void 0);qa("docos.api.connect",function(a){return new l6(a)},void 0);m=l6.prototype;m.$3a=!1;m.eT=null;m.Wa=null;m.d7=null;m.Ou=null;m.Zm=null;m.qt=null;m.ZYa=!1;m.rCa=null;m.Xt=null;m.bS=null;
m.bxa=function(){if(this.Wa)for(var a in l6.prototype)Fa(this[a])&&(this[a]=this.Wa.F.C(this[a]));this.Ya=new peh(this.D);this.F.yf("imageManager",this.Ya);a=new Hlh(this.F);this.F.yf("subscriptionManager",a);this.Aa=new zjh(this.F);this.F.yf("impressionRecorder",this.Aa);this.bb=rmd(Zo());this.qa(this.bb);this.Tc=new keh(this.bb);this.F.yf("relativeDateFormatter",this.Tc);this.C=new Qgh(this.D);this.F.yf("stream",this.C);this.Na=new fkh(this.F);this.qa(this.Na);this.La=new Wo(this);this.qa(this.La);
this.Ca=null;this.L=new Pdh(this.F);this.F.yf("controller",this.L);this.H=new Njh(this.F,this.L);if(Mj(this.D.vh,19)){this.Ca=new Kkh(this.F);this.qa(this.Ca);a=this.Ca;var b=u(this.wDb,this),c=u(this.$ta,this);a.C?a.C.LIa(u(a.szb,a,b),u(a.rzb,a,c)):c()}else this.$ta();this.bS=fmh(this);this.F.yf("contactStore",this.bS);this.Oa=this.D.Pg().getEmail()?new ijh(this.bS,this.D.Pg(),this.Aa,this.D.Bm):null;a=q5(this.F);this.O=this.Bb=null;bp("docs-aria-speakable")&&(this.Bb=ptf(void 0,!0),this.O=new npf(this.Bb,
a),this.O.bind("docos-new-doco",new Akh),this.O.bind("docos-new-reply",new Bkh),this.O.bind("docos-delete-doco",new xjh(this.C)),this.O.bind("docos-resolve-doco",new Qkh(this.C)),this.O.bind("docos-speak-doco",new Rkh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new Bjh));this.Pa=new uA(this);this.qa(this.Pa);this.Pa.ub(a.Qa("docos-cancel-insert-discussion"),st,this.g7b).ub(a.Qa("docos-delete-doco"),st,this.FRb).ub(a.Qa("docos-reject-doco-with-feedback"),st,this.w7b).ub(a.Qa("docos-convert-doco"),
st,this.s7b).ub(a.Qa("docos-before-highlight-doco"),st,this.Iya).ub(a.Qa("docos-highlight-doco"),st,this.axa).ub(a.Qa("docos-new-doco"),st,this.GRb).ub(a.Qa("docos-resolve-doco"),st,this.JRb).ub(a.Qa("docos-back-to-document"),st,this.X6b).ub(a.Qa("docos-new-reply"),st,this.M8b).ub(a.Qa("docos-write-feedback"),st,this.F$b).ub(a.Qa("docos-disable-smart-todo-feature"),st,this.B7b).ub(a.Qa("docos-vote-doco"),st,this.B$b).ub(a.Qa("docos-vote-reply"),st,this.C$b).ub(a.Qa("docos-update-sort"),st,this.r$b).ub(a.Qa("mouse-hover-doco-view"),
st,this.I8b);this.La.listen(this.C,"dd",this.F8b).listen(this.C,"af",this.L6b).listen(this.C,"bu",this.E8b).listen(this.C,"p",this.V8b).listen(this.D,"r",this.u0)};function fmh(a){var b=cIc("client").then(function(){var c=ra("gapi.config.update");a.D.ipa&&c("googleapis.config/sessionIndex",a.D.ipa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return ra("gapi.client")});return new vjh(a.D,Nkh(a.D,b),a.Lc)}
function emh(a){a.bS&&!a.bS.C&&Nch(a.D.D)&&adh(a.D)&&Jfh(a.bS)}function gmh(a){if(!a.qt){hmh(a);var b=a.F,c=Zo(a.D.L);var d=a.D;d=Vy()?d.qb&&!z(y(),"docs-ehspc"):d.qb;a.qt=new Blh(b,c,d,a.D.$d);a.La.listen(a.qt,"dnd",a.Yub);a.La.listen(a.qt,"initial-load-complete",a.YJb);a.La.listen(a.qt,"create-draft",a.Kd)}return a.qt}m.Yub=function(){this.fb()};m.YJb=function(){var a=j6(this,"initial-pane-render-done");if(a&&this.rCa){var b=Ka()-this.rCa;a(new $ah("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=ce(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Xz()&&!Bdh(k)){var l=hhh(k,f,d);k=ce(k.D);for(var n in k)l+=hhh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,ee(a,e),this.Ou.DA(a));this.V=e;e={};for(var q in this.V)e[O5(this.C,q)]=this.V[q];return e};l6.prototype.find=l6.prototype.find;l6.prototype.Cd=function(){this.C.O&&(this.C.O=null,this.Ou.DA(this.V,!0),this.V={})};l6.prototype.clearFind=l6.prototype.Cd;
l6.prototype.wt=function(){var a=this.D;var b=ghh(this.C,a);b?(b=b.getKey(),a=(a=jhh(b,a))?qp(a).textContent:null):a=null;return a};l6.prototype.getSelectedMatchA11yContext=l6.prototype.wt;l6.prototype.highlightNext=function(a,b,c){this.Zm&&this.Zm.highlightNext(!!a,b,c)};l6.prototype.highlightNext=l6.prototype.highlightNext;l6.prototype.highlightPrevious=function(a,b,c){this.Zm&&this.Zm.highlightPrevious(!!a,b,c)};l6.prototype.highlightPrevious=l6.prototype.highlightPrevious;
l6.prototype.select=function(a,b){var c=R5(this.C,a);a=c?c.getId():"";b=c?new CY(a,b):null;c=this.C.Aa;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Aa=b;b=c?this.Ou.Ac(c.getKey()):null;c=this.Ou.Ac(a);b&&b!=c&&b.DA();if(c){c.H$()&&(b=fhh(o5(this.F),this.D),c.expand(b?b.getKey():void 0));c.DA();b=ehh(this.C,this.Ou);d=q5(this.F);var e=Wah(E4(a));e.C=b?b.start:0;e=G4(e);d.vf("docos-before-highlight-doco").kb(e);W5(o5(this.F),a);
d.vf("docos-highlight-doco").kb(e);if(b&&Qeh(c)&&(a=c.rb())){c=ex(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};l6.prototype.select=l6.prototype.select;l6.prototype.eic=function(){var a=this.C.Aa;if(a){this.C.Aa=null;(a=this.Ou.Ac(a.getKey()))&&a.DA();a=q5(this.F);var b=Wah(E4(""));b.C=0;b=G4(b);a.vf("docos-before-highlight-doco").kb(b);W5(o5(this.F),null);a.vf("docos-highlight-doco").kb(b)}};
l6.prototype.unselect=l6.prototype.eic;l6.prototype.Ric=function(){var a=this.C,b=new Fgh(a,"c"),c;for(c in a.C)b.C.push(new Dgh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Ggh(b));a.flush(!0)};l6.prototype.updateAll=l6.prototype.Ric;l6.prototype.PU=function(){return!!Mj(this.D.vh,19)&&!!this.D.Bb&&!this.D.Tc};l6.prototype.isSavingToOfflineStorage=l6.prototype.PU;l6.prototype.GJ=function(){return 0<sgh.Xd()};l6.prototype.hasUnpostedDocos=l6.prototype.GJ;
l6.prototype.gK=function(){for(var a=Td(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=Ygh(d,c))&&(c.Qj()?deh(d,c):d.ma(c)))return!0}return!1};l6.prototype.hasVisibleAnchoredDocos=l6.prototype.gK;l6.prototype.mkb=function(a){var b=this.C,c=b.xa;b.xa=a;if(c!=b.xa&&this.Ou&&(a=this.Ou,b=o5(a.context),Rd(b.C))){for(c=a.Zb()-1;0<=c;--c){var d=a.mc(c).getId();llh(a,d)}b=ce(b.C);for(d in b)jlh(a,d);a.D.kK();ilh(a);a.D.UJ()}};
l6.prototype.u0=function(){imh(this);0<Rd(this.C.C)&&emh(this);if(this.qt)if("none"!=this.D.bb){var a=this.qt.D;a.D.kK();ilh(a)}else this.qt.p7()};l6.prototype.setResolvedAnchoredDocosVisible=l6.prototype.mkb;l6.prototype.q0=function(a,b,c){return jmh(this,a,b?b:void 0,c)};l6.prototype.newDoco=l6.prototype.q0;
l6.prototype.M_=function(a,b,c){if(null==a||Gd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;kmh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.rlb();g6(f,u(f.LOb,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();g6(f,u(f.IOb,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};l6.prototype.interceptingNewDoco=l6.prototype.M_;function jmh(a,b,c,d,e,f,h){lmh(a,b,c);b=Rdh(a.L,b,d||"draft",e,f,h);mmh(a,b,c);return b}function kmh(a,b,c,d,e,f,h){lmh(a,b,c);return Ojh(a.H,b,d||"draft",e,f,h).addCallback(function(k){mmh(a,k,c);return k})}
function lmh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ib();c&&(a.xa=c)}function mmh(a,b,c){if(!(0>=b))if(Vy()&&z(y(),"docs-ehspc"))c=gmh(a),a=R5(a.C,b),c.F&&null!=a&&c.F.bP(a);else if(c){var d={};d[b]=c;m6(a).h2(d)}}
l6.prototype.r0=function(a,b){if(null==a||Gd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return jmh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),Tdh(this.L,a,c,d,b.rlb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,Udh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};l6.prototype.newDoco2=l6.prototype.r0;l6.prototype.oU=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");Rjh(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.mb(e);return e}).addCallback(c)};l6.prototype.interceptingNewSuggestion=l6.prototype.oU;
l6.prototype.eM=function(a,b,c){var d=this;Sjh(this.H,a,!0,b).addCallback(function(e){nmh(d,a);return e}).addCallback(c)};l6.prototype.interceptingAcceptSuggestion=l6.prototype.eM;l6.prototype.ld=function(a){return eeh(this.L,a,!0)};l6.prototype.acceptSuggestions=l6.prototype.ld;l6.prototype.qU=function(a,b,c){var d=this;Sjh(this.H,a,!1,b).addCallback(function(e){nmh(d,a);return e}).addCallback(c)};l6.prototype.interceptingRejectSuggestion=l6.prototype.qU;
l6.prototype.kM=function(a,b){var c=this.H;g6(c,u(c.eFa,c,a,!0)).addCallback(b)};l6.prototype.interceptingAcceptSuggestions=l6.prototype.kM;l6.prototype.Ola=function(a,b){b=aeh(this.L,a,!1,b);nmh(this,a);return b};l6.prototype.rejectSuggestion=l6.prototype.Ola;function nmh(a,b){(b=R5(a.C,b))&&a.Zm&&a.Zm.kT(b.getId())}l6.prototype.Pla=function(a){return eeh(this.L,a,!1)};l6.prototype.rejectSuggestions=l6.prototype.Pla;l6.prototype.sU=function(a,b){var c=this.H;g6(c,u(c.eFa,c,a,!1)).addCallback(b)};
l6.prototype.interceptingRejectSuggestions=l6.prototype.sU;l6.prototype.fU=function(a,b){var c=this.H;g6(c,u(c.Rdb,c,a)).addCallback(b)};l6.prototype.interceptingDeleteReply=l6.prototype.fU;l6.prototype.uN=function(a,b){var c=this.H;g6(c,u(c.Qdb,c,a)).addCallback(b)};l6.prototype.interceptingDeleteReplies=l6.prototype.uN;l6.prototype.$h=function(a){return(a=R5(this.C,a))?J5(a):null};l6.prototype.getAnchorData=l6.prototype.$h;l6.prototype.xt=function(a){return(a=R5(this.C,a))?a.jI():null};
l6.prototype.getSuggestionId=l6.prototype.xt;l6.prototype.Pl=function(){return this.D.Pg().getId()};l6.prototype.getCurrentAuthor=l6.prototype.Pl;l6.prototype.Tj=function(a){return(a=R5(this.C,a))?a.Lw().getId():null};l6.prototype.getAuthor=l6.prototype.Tj;l6.prototype.Zk=function(a){return(a=R5(this.C,a))?a.Lw().getName():null};l6.prototype.getAuthorName=l6.prototype.Zk;l6.prototype.zn=function(a){"string"===typeof a&&(a=this.Ja(a));return omh(this).D.Caa(a)};l6.prototype.getDocoPosition=l6.prototype.zn;
l6.prototype.getDocoMaxHeight=function(a){return m6(this).getDocoMaxHeight(a)};l6.prototype.getDocoMaxHeight=l6.prototype.getDocoMaxHeight;l6.prototype.ana=function(a,b){m6(this).lpa(a,b)};l6.prototype.setDocoMaxHeight=l6.prototype.ana;l6.prototype.uh=function(a){a=pmh(this,a);m6(this).jK(a)};l6.prototype.flushAnchors=l6.prototype.uh;l6.prototype.Fh=function(a){m6(this).jK(a)};l6.prototype.flushDocoPositions=l6.prototype.Fh;l6.prototype.Tic=function(a){a=pmh(this,a);m6(this).h2(a)};
l6.prototype.updateAnchors=l6.prototype.Tic;l6.prototype.Vic=function(a){m6(this).h2(a)};l6.prototype.updateDocoPositions=l6.prototype.Vic;l6.prototype.$d=function(a){m6(this).Baa(Yc(a,this.Ja,this))};l6.prototype.deleteAnchors=l6.prototype.$d;l6.prototype.We=function(a){m6(this).Baa(a)};l6.prototype.deleteDocoPositions=l6.prototype.We;l6.prototype.l5a=function(a){this.Zm?this.Zm.j2(a):this.Ha=a};l6.prototype.updateViewport=l6.prototype.l5a;l6.prototype.ef=da("Sa");
l6.prototype.enableAnchoredDocoAnimations=l6.prototype.ef;l6.prototype.Un=function(){var a=this.D.J;return(a=a?this.C.bd(a):void 0)?J5(a):""};l6.prototype.getLinkedAnchor=l6.prototype.Un;l6.prototype.Eo=function(){var a=this.D.J;return null===a?0:O5(this.C,a)};l6.prototype.getLinkedDoco=l6.prototype.Eo;l6.prototype.EU=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};l6.prototype.isLinkedDocoDeleted=l6.prototype.EU;
function pmh(a,b){var c={};Md(b,function(d,e){(e=this.Ja(e))&&(c[e]=d)},a);return c}l6.prototype.cma=function(a){this.C.Na=a};l6.prototype.setActiveSuggestions=l6.prototype.cma;l6.prototype.An=function(){var a=this.C.R;return a&&a.Qj()?a.getId():null};l6.prototype.getHighlightedSuggestionDocoId=l6.prototype.An;l6.prototype.Ja=function(a){return(a=Ygh(this.C,a))?O5(this.C,a.getId()):0};
l6.prototype.Ula=function(){if(!this.D.L)throw Error("Pane div not specificed in config.");this.rCa=Ka();gmh(this).pb()&&(Qf(this.qt),this.qt=null);NXe(this.D.L,!1);gmh(this).render(this.D.L)};l6.prototype.renderPaneSurface=l6.prototype.Ula;l6.prototype.OU=function(){return gmh(this).D.SIa()};l6.prototype.isPaneSurfaceRendered=l6.prototype.OU;function m6(a){a.Zm||(a.Zm=qmh(a),a.Ha&&(a.Zm.j2(a.Ha),a.Ha=null));return a.Zm}
function omh(a){if(!a.Ou){hmh(a);var b=m6(a);a.Ou=new glh(a.F,b,u(a.C.ma,a.C),b.oa())}return a.Ou}function hmh(a){if(!a.$3a){a.$3a=!0;var b=a.D.L,c=a.D.Aa;b&&(a.D.dc||ix(coe(""),b),a.D.C.install(b));!c||b&&ap(b)==ap(c)||(a.D.dc||ix(coe(""),c),a.D.C.install(c))}}l6.prototype.Qla=function(){if(!this.D.Aa)throw Error("Anchor surface div not specified in config.");omh(this).pb()&&(Qf(this.Ou),this.Ou=null,qmh(this));NXe(this.D.Aa,!1);omh(this).render(this.D.Aa)};l6.prototype.renderAnchorSurface=l6.prototype.Qla;
function qmh(a){var b=a.D.Zk,c=Rlh;"absolute"==b&&(c=Zih);if(a.Zm&&(a.Zm instanceof c||a.Zm.JV()instanceof c))return a.Zm;var d=Zo(a.D.Aa);c=new c(a.F,d);d=a.D.O;!d||b&&"vertical"!=b||(c=new ikh(c,d));a.Zm&&(a.Zm.mpa(c),Qf(a.Zm));a.Zm=c;a.Zm.bBa(a);a.qa(a.Zm);return a.Zm}
l6.prototype.Rla=function(){if(!this.D.Va)throw Error("Instant docos div not specified in config.");this.Xt&&this.Xt.pb()&&(Qf(this.Xt),this.Xt=null);this.Xt||this.J["enable-gsuite-embedding"]||(this.Xt=new Ljh(this.F,Zo(this.D.Va)),this.La.listen(this.Xt,"create-draft",this.dc),this.Xt.render(this.D.Va))};l6.prototype.renderInstantDocosButton=l6.prototype.Rla;l6.prototype.NPb=function(a,b,c){this.Xt&&Mjh(this.Xt,a,b,c)};l6.prototype.showInstantDocosButtonAt=l6.prototype.NPb;
l6.prototype.ib=function(a){this.Xt&&this.Xt.Xe(a)};l6.prototype.hideInstantDocosButton=l6.prototype.ib;l6.prototype.mj=function(){return this.Zm?this.Zm.i2():null};l6.prototype.getAnchorSurfaceBounds=l6.prototype.mj;l6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.f2(this.J))};l6.prototype.setOption=l6.prototype.setOption;l6.prototype.Ty=function(){if(this.qt){var a=this.qt;a.C.xa&&a.C.xa.focus()}};l6.prototype.grabFocus=l6.prototype.Ty;
l6.prototype.Koa=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.f2(this.J)};l6.prototype.setListener=l6.prototype.Koa;function rmh(a,b){return b&&a.C.ma(b)?b.getId():null}l6.prototype.Wm=function(a){return(a=R5(this.C,a))?a.$t()?a.$t().getTime():null:null};l6.prototype.getDocoCreationTime=l6.prototype.Wm;
l6.prototype.bM=function(a,b){var c=q5(this.F);a=Ygh(this.C,a);a=rmh(this,a);var d=Wah(E4(a||""));b&&(b=this.D.Ja?this.qt.D.getId():omh(this).getId(),F4(d,b));c.vf("docos-before-highlight-doco").kb(G4(d));W5(o5(this.F),a);c.vf("docos-highlight-doco").kb(G4(d))};l6.prototype.highlightAnchor=l6.prototype.bM;
l6.prototype.mb=function(a,b){var c=q5(this.F);a=R5(this.C,a);a=rmh(this,a);var d=Wah(E4(a||""));b&&(b=this.D.Ja?this.qt.D.getId():omh(this).getId(),d=F4(d,b));c.vf("docos-before-highlight-doco").kb(G4(d));W5(o5(this.F),a);c.vf("docos-highlight-doco").kb(G4(d))};l6.prototype.highlightDoco=l6.prototype.mb;l6.prototype.t5a=function(a){var b=q5(this.F);a=R5(this.C,a);a=rmh(this,a);if(null!=a){var c=this.C.bd(a);c&&P5(this.Aa,F5(E5(D5(43045),c)));b.vf("docos-speak-doco").kb(a)}};
l6.prototype.verbalizeDoco=l6.prototype.t5a;l6.prototype.$C=function(a){return!!Ygh(this.C,a)};l6.prototype.hasDocoForAnchorId=l6.prototype.$C;l6.prototype.ZC=function(a){return!!R5(this.C,a)};l6.prototype.hasDoco=l6.prototype.ZC;l6.prototype.aq=function(a){return(a=Ygh(this.C,a))?a.Qj()?!deh(this.C,a):a.isResolved():!1};l6.prototype.getResolvedForAnchorId=l6.prototype.aq;l6.prototype.xU=function(a){return(a=R5(this.C,a))?a.isResolved():!1};l6.prototype.isDocoResolved=l6.prototype.xU;
l6.prototype.Am=function(){var a=ahh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};l6.prototype.getDocoCounts=l6.prototype.Am;l6.prototype.Bm=function(){return ahh(this.C).C.clone().ob()};l6.prototype.getDocoCounts2=l6.prototype.Bm;
l6.prototype.nj=function(){return m6(this).npa().C.clone().ob()};l6.prototype.getAnchoredDocoCounts=l6.prototype.nj;l6.prototype.Cj=function(){return Td(this.C.V)};l6.prototype.getAnchors=l6.prototype.Cj;l6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};l6.prototype.getDocoHandles=l6.prototype.getDocoHandles;l6.prototype.fb=function(){this.D.iK()&&(this.d7||(this.d7=new Dkh(this.F),this.qa(this.d7)),this.d7.setVisible(!0))};l6.prototype.displayNotificationControlDialog=l6.prototype.fb;
l6.prototype.wc=function(a){return a.x};l6.prototype.Hc=function(a){return a.y};function imh(a){if(a.ZYa&&!cah(a.F,"netIo")){var b=gkh(a.Na);b&&(a.F.yf("netIo",b),a.Wa&&(a.Wa.H=b),b=a.R,Wch(b.D)?b.D.Qd?wkh(b.F,"r"):vkh(b)&&xkh(b):b.L(null),cah(a.F,"subscriptionManager")&&xeh(a.F).F.resolve())}}l6.prototype.Qd=function(a){this.R.H.get("netIo").C.QIa(a)};l6.prototype.connectBrowserChannel=l6.prototype.Qd;m=l6.prototype;
m.KRb=function(){var a=j6(this,"net-error");a&&a((new I4("net-error")).build());this.D.Lc&&(this.setOption("accessLevel","readonly"),a=gmh(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",Clh(a)))};
m.HRb=function(){var a=j6(this,"post-limit-error");a&&a((new I4("post-limit-error")).build());this.D.Lc&&(this.setOption("accessLevel","readonly"),a=gmh(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",Clh(a)))};m.wDb=function(){wkh(this,"r");this.$ta()};m.$ta=function(){this.ZYa=!0;imh(this)};m.IRb=function(a){dmh(this,"r",a)};l6.prototype.onReady=l6.prototype.IRb;l6.prototype.Nla=function(a){dmh(this,"s",a)};
l6.prototype.onInitialSyncSuccess=l6.prototype.Nla;l6.prototype.Lla=function(a){dmh(this,"e",a)};l6.prototype.onInitialSyncError=l6.prototype.Lla;l6.prototype.Kd=function(a){var b=this.D.H["create-draft"];a=a.uf?a.uf:void 0;if(b)a=(new I4("create-draft")).setApiEventArgs(new f6(!1,void 0,void 0,a)).build(),b(a);else throw Error("Can not create a discussion because the editor did not provide a handler.");};
l6.prototype.dc=function(){var a=this.D.H["create-draft"];if(a){var b=(new I4("create-draft")).setApiEventArgs(new f6(!0,new Qm(0,this.Xt.D.H),this.Xt.D.O)).build();a(b)}};function dmh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=oe(d,c)}else a.ma[b]=c}function wkh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}l6.prototype.E6b=function(){this.qb()};l6.prototype.tickle=l6.prototype.E6b;
l6.prototype.qb=function(){a:{var a=this.R;if(Wch(a.D)){if(!a.O){if(!a.C&&!vkh(a))break a;xkh(a)}okh(a.C,a.D.Nea?1:void 0)}}};l6.prototype.sync=l6.prototype.qb;l6.prototype.Yh=function(){ykh(this.R)};l6.prototype.fullSync=l6.prototype.Yh;l6.prototype.$c=function(){var a=this.R;Wch(a.D)&&(a.C.J=!0)};l6.prototype.blockFutureSync=l6.prototype.$c;l6.prototype.ibc=function(){var a=this.R;Wch(a.D)&&(a.C.J=!1)};l6.prototype.unblockFutureSync=l6.prototype.ibc;
l6.prototype.BU=function(){var a=this.R;return Wch(a.D)?a.C.J:!1};l6.prototype.isFutureSyncBlocked=l6.prototype.BU;l6.prototype.Gq=function(){var a=this.D;return null!=a.g2?a.g2:6E4};l6.prototype.getRetryBackoffThreshold=l6.prototype.Gq;l6.prototype.vU=function(){return this.D.yaa};l6.prototype.isBrowserChannelEnabled=l6.prototype.vU;l6.prototype.zU=function(){return!!Mj(this.D.vh,30)};l6.prototype.isDocsStreamHeaderEnabled=l6.prototype.zU;l6.prototype.JU=function(){return Xch(this.D)};
l6.prototype.isNewDocosStreamPaneUiEnabled=l6.prototype.JU;l6.prototype.isBadgingEnabled=function(){return this.D.vG()};l6.prototype.isBadgingEnabled=l6.prototype.isBadgingEnabled;l6.prototype.EJ=function(){return Ugh(this.C)};l6.prototype.hasPendingContent=l6.prototype.EJ;m=l6.prototype;
m.g7b=function(a){var b=this,c=a.data;a=udh(G5(43011),c.Wj);var d=null!=c.Ym;d&&vdh(a,c.Ym);N5(Qdh(this.F),H5(a));Qjh(this.H,c.Wj).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.Wj;e||(b.Iya(new tt(d?new Tah("",void 0,void 0,void 0,c.Ym):D4())),b.axa(new tt(d?new Tah("",void 0,void 0,void 0,c.Ym):D4())));var f=j6(b,"deleted");if(f&&c.Ym&&c.Jp){var h=(new I4("deleted")).addAnchorId(c.Ym).addDocoHandle(c.Jp).setUserInitiated(!0).build();f(h);b.eT=null}e&&(b.eT=b.C.R)}})};
m.FRb=function(a){a=a.data;smh(this,a.Jp,a.Wj,a.ZS,void 0,a.uf)};m.w7b=function(a){a=a.data;smh(this,a.Jp,a.Wj,a.ZS,a.qkb)};function smh(a,b,c,d,e,f){f=void 0===f?null:f;var h=j6(a,"before-doco-deleted");if(h&&b){var k=J5(R5(a.C,b));d=e?new Djh(d,e):new wjh(d);b=(new tjh("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}tmh(a,c,!0,e,f)}
m.s7b=function(a){var b=a.data;if((a=j6(this,"converted"))&&b){var c=J5(R5(this.C,b.Jp)),d=new e6(c,b.GYa,b.ZS);b=(new tjh("converted")).addAnchorId(c).addDocoHandle(b.Jp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.ERb=function(a){(a=R5(this.C,a))&&tmh(this,a.getId(),!1)};l6.prototype.deleteDoco=l6.prototype.ERb;function tmh(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.bd(b),h=O5(a.C,b);f=J5(f);var k=a.H;g6(k,u(k.Odb,k,b,d,void 0===e?null:e)).addCallback(u(a.U5a,a,f,h,c))}
l6.prototype.U5a=function(a,b,c,d){if(d){d=j6(this,"before-selected");var e=j6(this,"selected"),f=j6(this,"deleted");if(a&&b){if(d){var h=(new I4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new I4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new I4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.eT=null}}};l6.prototype.lhc=function(a){return Wdh(this.L,a)};l6.prototype.undoDeleteDoco=l6.prototype.lhc;
l6.prototype.Gna=function(a){this.Va=a;P(omh(this).getElement(),a)};l6.prototype.setDocosGutterVisibility=l6.prototype.Gna;l6.prototype.yU=g("Va");l6.prototype.isDocosGutterVisible=l6.prototype.yU;l6.prototype.hg=function(){var a=this.yb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};l6.prototype.enterReanchorMode=l6.prototype.hg;l6.prototype.Pka=function(){var a=this.yb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};l6.prototype.resetReanchorMode=l6.prototype.Pka;
l6.prototype.uU=function(a,b){var c=this.H;g6(c,u(c.shc,c,a)).addCallback(b)};l6.prototype.interceptingUndoDeleteDoco=l6.prototype.uU;l6.prototype.nNb=function(a,b){this.L.PIa(a,new s5(b))};l6.prototype.setSuggestionQuote=l6.prototype.nNb;l6.prototype.tU=function(a,b){var c=this.H;b=new s5(b);g6(c,u(c.Vdc,c,a,b))};l6.prototype.interceptingSetSuggestionQuote=l6.prototype.tU;
l6.prototype.Nv=function(a){a=R5(this.C,a);if(!a)return null;if(!a.Qj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.P3()};l6.prototype.getSuggestionQuote=l6.prototype.Nv;l6.prototype.Vg=function(a,b){return this.Oa?jjh(this.Oa,a,void 0===b?!1:b):new hjh(Xp())};l6.prototype.findAssignee=l6.prototype.Vg;l6.prototype.IJ=function(){return 0<this.C.H.size};l6.prototype.hasUnseenDocos=l6.prototype.IJ;l6.prototype.YPb=function(){yeh(this.F).C=!0};
l6.prototype.startBatchEvent=l6.prototype.YPb;l6.prototype.Pf=function(){var a=yeh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};l6.prototype.endBatchEvent=l6.prototype.Pf;m=l6.prototype;m.JRb=function(a){a=a.data;var b=this.H,c=a.F;g6(b,u(b.hcc,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(u(this.Cac,this,a))};
m.Cac=function(a,b){if(b){b=j6(this,"before-selected");var c=j6(this,"selected");if(c){var d=this.C.bd(a.C),e=O5(this.C,a.C);d&&d.Xz()&&e&&(a.D?(b&&(a=(new I4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new I4("selected")).setUserInitiated(!0).build(),c(a),this.eT=null):(b&&(a=(new I4("before-selected")).addAnchorId(J5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new I4("selected")).addAnchorId(J5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.eT=d))}}};
m.B$b=function(a){a=a.data;var b=this.H;g6(b,u(b.lic,b,a.C,a.D))};m.C$b=function(a){a=a.data;var b=this.H;g6(b,u(b.nic,b,a.C,a.D,a.F))};m.r$b=function(a){this.setOption("sortpaneby",a.data.Hfc);(a=this.D.Na)&&a(43086)};m.X6b=function(a){var b=this.D.Pf;b&&(a=this.C.bd(a.data.Wj))&&b(J5(a),!0)};
function umh(a,b,c){var d=j6(a,c);if(d){var e=a.C.bd(b.C)||null,f=b.F;if(e!=a.eT||"number"===typeof f){var h=new I4(c),k=O5(a.C,b.C);e&&e.Xz()&&k&&h.addAnchorId(J5(e)).addDocoHandle(k);k=new B4;var l=b.R;null!=l?k=new rjh(l):"number"===typeof f?k=new Fah(f):void 0!==b.H&&(k=new Ejh(b.H));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.eT=e)}}m.Iya=function(a){umh(this,a.data,"before-selected")};
m.axa=function(a){var b=a.data;umh(this,b,"selected");if(a=this.C.bd(b.C))b="number"===typeof b.F?4:b.D==omh(this).getId()?1:b.D==gmh(this).D.getId()?2:3,a=E5(D5(43044),a),a.J=b,2==b&&(a.C=105),P5(this.Aa,F5(a))};m.M8b=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;g6(d,u(d.d$a,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};m.F$b=function(a){var b=a.data;if(a=j6(this,"write-feedback"))b=(new I4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new amh(b.source)).build(),a(b)};
m.B7b=function(){var a=j6(this,"disable-smart-todo-feature");if(a){var b=(new I4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.GRb=function(a){var b=this,c=a.data;Rjh(this.H,c.ifb,c.Ym,c.text,c.quote,c.Uja,c.V0,c.uf).addCallback(function(d){if(0<d){var e=c.Ym,f=c.Jp,h=j6(b,"posted");h&&e&&f&&(e=(new I4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Iya(new tt(D4()));b.axa(new tt(D4()))}return d})};
m.I8b=function(a){var b=j6(this,"hover");if(b){a=a.data;var c=Zah("hover").setNonAnchored(!a.YOb).setUserInitiated(!0);if(a.ePb){var d=this.C.bd(a.Wj);c.addAnchorId(d?J5(d):"");c.addDocoHandle(O5(this.C,a.Wj))}b(c.build())}};m.F8b=function(a){if("dd"==a.type){var b=j6(this,"deleted");if(b&&a.C&&a.D&&(a.Gr||this.D.Ha)&&a.R&16){var c=(new I4("deleted")).addDocoHandle(a.D);a.Gr&&c.addAnchorId(a.Gr);a=c.build();b(a)}}};
m.E8b=function(a){if("bu"==a.type){var b=Zah("created");this.xa&&(b.setApiEventArgs(new yjh(this.xa,a.C[0].Ym)),this.xa=null);var c=Zah("resolved"),d=Zah("unresolved");b=Cjh(b,a.C,8);c=Cjh(c,a.C,2);d=Cjh(d,a.C,4);vmh(this,"created",b);vmh(this,"resolved",c);vmh(this,"unresolved",d)}};m.V8b=function(a){if("p"==a.type&&(a=j6(this,"pending"))){var b=(new I4("pending")).setUserInitiated(!0).build();a(b)}};
m.L6b=function(){var a=j6(this,"view-updated");if(a){var b=(new I4("view-updated")).setUserInitiated(!0).build();a(b)}};function vmh(a,b,c){a=j6(a,b);!c.isEmpty()&&a&&a(c.build())}function j6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ia=function(){delete this.Zm;delete this.D;delete this.bS;delete this.L;delete this.Wa;delete this.La;delete this.Ya;delete this.Na;delete this.d7;delete this.Ca;delete this.C;delete this.Pa;Qf(this.Xt);delete this.Xt;Qf(this.Ou);delete this.Ou;Qf(this.qt);delete this.qt;l6.Ta.Ia.call(this);Qf(this.F);delete this.F};qa("Docos",l6,void 0);qa("Docos.Point",Qm,void 0);qa("Docos.Point.getX",l6.prototype.wc,void 0);qa("Docos.Point.getY",l6.prototype.Hc,void 0);
qa("Docos.AbstractAlteredDocoArgs",vih,void 0);qa("Docos.NewDraftArgs",Bih,void 0);qa("Docos.LayoutType.ABSOLUTE","absolute",void 0);qa("Docos.LayoutType.VERTICAL","vertical",void 0);qa("Docos.UiVersion.LEGACY","legacy",void 0);qa("Docos.UiVersion.MATERIAL","material",void 0);qa("Docos.UiVersion.MATERIAL_LIGHT_BACKGROUND","material_light_background",void 0);qa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);qa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);
qa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);qa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);qa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);qa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);qa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);qa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);qa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);
qa("Docos.OptionName.DRIVE_ID","drive-id",void 0);qa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);qa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);qa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);qa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);qa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);qa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);
qa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);qa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);qa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);qa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);qa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);qa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
qa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);qa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);qa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);qa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);qa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
qa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);qa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);qa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);qa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);qa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);qa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);qa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
qa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);qa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);qa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);qa("Docos.OptionName.IO","i",void 0);qa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);qa("Docos.OptionName.KEY_DATA","kd",void 0);qa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
qa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);qa("Docos.OptionName.LAYOUT","layout",void 0);qa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);qa("Docos.OptionName.LINK_OPENER","link-opener",void 0);qa("Docos.OptionName.LISTENERS","listeners",void 0);qa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);qa("Docos.OptionName.LOCAL","l",void 0);qa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
qa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);qa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);qa("Docos.OptionName.OFFLINE","offline",void 0);qa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);qa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);qa("Docos.OptionName.PANE_DIV","panediv",void 0);qa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);qa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
qa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);qa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);qa("Docos.OptionName.QUOTE_FN","quotefn",void 0);qa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);qa("Docos.OptionName.READONLY","readonly",void 0);qa("Docos.OptionName.RESOLVE","resolve",void 0);qa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);qa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
qa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);qa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);qa("Docos.OptionName.SORT_PANE","sortpane",void 0);qa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);qa("Docos.OptionName.STORAGE","storage",void 0);qa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);qa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
qa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);qa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);qa("Docos.OptionName.SYNC_ONCE","so",void 0);qa("Docos.OptionName.UI_VERSION","ui-version",void 0);qa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);qa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
qa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);qa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);qa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);qa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);qa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);qa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);qa("Docos.EventType.CONVERTED","converted",void 0);
qa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);qa("Docos.EventType.CREATED","created",void 0);qa("Docos.EventType.DELETED","deleted",void 0);qa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);qa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);qa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);qa("Docos.EventType.HOVER","hover",void 0);qa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
qa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);qa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);qa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);qa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);qa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);qa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);qa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
qa("Docos.EventType.PENDING","pending",void 0);qa("Docos.EventType.POSTED","posted",void 0);qa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);qa("Docos.EventType.REANCHOR","reanchor",void 0);qa("Docos.EventType.RESOLVED","resolved",void 0);qa("Docos.EventType.SELECTED","selected",void 0);qa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);qa("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
qa("Docos.EventType.UNRESOLVED","unresolved",void 0);qa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);qa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);qa("Docos.AccessLevel.READONLY","readonly",void 0);qa("Docos.AccessLevel.SUGGEST","suggest",void 0);qa("Docos.AccessLevel.FULL","full",void 0);qa("Docos.NewDocoType",Qud,void 0);qa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);qa("Docos.NewDocoType.DISCUSSION","discussion",void 0);
qa("Docos.NewDocoType.DRAFT","draft",void 0);qa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);qa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);qa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);qa("Docos.prototype.dispose",l6.prototype.dispose,void 0);qa("Docos.CountField.ACCEPTED","accepted",void 0);qa("Docos.CountField.DRAFT","draft",void 0);qa("Docos.CountField.OPEN","open",void 0);qa("Docos.CountField.REJECTED","rejected",void 0);qa("Docos.CountField.RESOLVED","resolved",void 0);
qa("Docos.CountField.TOTAL","total",void 0);qa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function wmh(a){a=void 0===a?[]:a;this.D=fDd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=wmh.prototype;m.add=function(a){this.C[this.D.ob(a)]=a};m.has=function(a){return Ud(this.C,this.D.ob(a))};m.isEmpty=function(){return Yd(this.C)};m.clear=function(){Zd(this.C)};m.Fc=function(a){for(var b in a.C)$d(this.C,b)};m.Vu=function(a){var b=new wmh,c=Nd(this.C,function(e,f){return!Ud(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.Hw=function(a){var b=new wmh,c=Nd(this.C,function(e,f){return Ud(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Md(this.C,a)};function xmh(a,b,c,d,e,f){ksc.call(this,a,b,c,d,e,2,0,f)}t(xmh,ksc);xmh.prototype.J=function(a){return msc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function ymh(a,b,c,d,e,f,h){h=void 0===h?Zo():h;Vo.call(this);this.L=null;this.Oa="none";this.xa=500;this.ma=!1;this.F=a;this.Va=b;this.H=c;this.Ja=d;this.O=e;this.C=f;this.V=b.Ja;this.D=b.C;this.R=fDd();this.$a=h;this.J=new wmh;this.Sa=!0;this.Aa=new hm;this.Pa=new hm;this.Na=new hm;this.Ha=new Wo(this);this.qa(this.Ha);this.Ca=z(y(),"docs-egms");zmh(this);this.Ha.listen(this.D,"na",this.R_b).listen(this.C,"xe",this.Arb).listen(this.C,"ye",this.Crb).listen(this.C,"we",this.yrb).listen(this.C,"Ae",
this.dvb).listen(this.C,"Be",this.O_b).listen(this.C,"ze",this.bvb).listen(this.C,"Je",this.Q_b).listen(this.C,"Ee",this.Cxb).listen(this.C,"He",this.P_b).listen(this.C,"De",this.Evb).listen(this.C,"Ie",this.dHb).listen(this.C,"ve",this.avb).listen(this.C,"Ge",this.evb).listen(this.C,"Ce",this.gvb).listen(this.C,"Fe",this.WEb);Amh(this)}t(ymh,Vo);m=ymh.prototype;m.gvb=function(){Bmh(this,!0)};m.avb=function(a){var b=a.C;b&&Cmh(this,[b],!0);Dmh(this,a.C)};
m.evb=function(a){var b=a.C;b&&Emh(this,[b]);Dmh(this,a.C)};function Dmh(a,b){var c=Aah(a.D,b);c?(b=iL(a.V,c),a=a.Ja,c=c.Fb(),b=U$g(b).length,Y$g(kXe(a,c),b),EQ(a)):Fmh(a)}m.WEb=function(){Bmh(this,!0);this.C.C&&Gmh(this)};m.Crb=function(){Bmh(this,!0)};m.yrb=function(a){a.C?(a=a.C,this.ma=!0,Z$g(this.F,this.R.ob(a)),this.ma=!1):Bmh(this,!0)};m.Q_b=function(){Lah(this)};
function Lah(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Gmh(a):b?(Hmh(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,Z$g(a.F,a.R.ob(b)),a.ma=!1)):c||Bmh(a,!0)}m.Cxb=function(){Bmh(this,!1)};m.P_b=function(){Bmh(this,!0)};function Bmh(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions($$g(c,{}));b&&Z$g(a.F,"");P(a.O,!1);Qf(a.L);Imh(a);Jmh(a);a.C.C||Kmh(a);a.Ja.k_(a.C.C);Amh(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Pa.isEmpty()&&this.Aa.isEmpty()&&this.Na.isEmpty()};
function Amh(a){var b=UJ(a.H);b&&(a.xa=Fsc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function Jmh(a){Rf(a.Pa.Ad());a.Pa.clear()}function Imh(a){Rf(a.Aa.Ad());a.Aa.clear()}function Kmh(a){Vc(a.Na.Ad(),function(b){my(b,"waffle-docos-target-cell-header")});a.Na.clear()}m.Arb=function(a){this.C.D||this.C.C||(a=a.D,a.length?Hmh(this,a,!0):Lmh(this,!1))};function Hmh(a,b,c){c=void 0===c?!1:c;y4(a.F)&&a.Sa||Emh(a,Sd(a.J.Vu(new wmh(b)).C));Cmh(a,b,c)}
function Gmh(a){var b=KI(a.D);b&&(b=iL(a.V,b),Hmh(a,U$g(b),!0),Mmh(a),Nmh(a))}m.bvb=function(a){this.Sa=!1;Omh(this,a.C,a.cell);this.Sa=!0};function Omh(a,b,c){Hmh(a,[b],!0);Imh(a);Jmh(a);Kmh(a);Pmh(a,c)}m.O_b=function(a){Qmh(this,a.C,a.cell)};
function Qmh(a,b,c,d){d=void 0===d?!1:d;var e=Aah(a.D,b);if(e){var f=e.Fb();if(Rmh(a,b)){var h=Smh(a,c);d4b(zI(a.D,f).C,function(){return e.Xq(h)}).addCallback(function(){var k=this;if(!Tmh(this,c)||h.equals(e.F)||this.ma){aJ(QI(e,c))&&gRc(UJ(this.H)).setVisible(!1);Umh(this,c);Omh(this,b,c);this.Ja.k_(this.C.C);if(d){var l=new Mq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Xi")}else AI(e,h),Qmh(this,b,c,d)},a)}else a.D.eC(f,function(){a.F.C.grabFocus();Qmh(a,b,c,!0)})}else a.dispatchEvent("Xi")}
function Umh(a,b){var c=KI(a.D),d=UJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=bO(e,"waffle",!1,!1),h=a.Ca?282:240;if(!e.Ib()){var k=gp("docs-docos-activitybox");k&&hx(k)&&(h+=f.right-fx(k).left)}k=Vmh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=Gn(d.C);for(d=kn(d.y,d.x,d.y,d.x);jzc(e,d).height<a;)d=IBa(d,1);for(;jzc(e,d).width<b;)d=JBa(d,1);e=d.height;a=d.width;vJ(c,d0b(c,X_b(c,oJ(c),a,e)))}}}function Tmh(a,b){a=KI(a.D);return p2b(a.Zj("r"),b.y)&&p2b(a.Zj("c"),b.x)}
function Smh(a,b){return qI(KI(a.D),b.y,b.x)||ln(b)}
m.dvb=function(a){if(!w0b(this.D)&&!this.C.C&&(Imh(this),Rmh(this,a.C)&&(Lmh(this,!0),this.C.D!=a.C))){var b=this.R.ob(a.C),c=this.F;c.C.isDocoResolved(vR(c.D,b))?(b=a.cell,a=UJ(this.H),(c=KI(this.D))&&a&&b&&(b=qI(c,b.y,b.x)||ln(b),b=eXe(a,b,"waffle-docos-target-cell-resolved-rect"),iP(a.V,"discussions",b,!0),b.setVisible(!0),this.Aa.add(b))):(c=a.cell,a=UJ(this.H),(b=KI(this.D))&&a&&c&&(c=qI(b,c.y,c.x)||ln(c),b=new xmh(b,a.R,a.D,a.F,new nsc(c),this.$a),iP(a.V,"discussions",b,!0),this.Aa.add(b),b.setVisible(!0)))}};
function Wmh(a,b){b&&(ky(b,"waffle-docos-target-cell-header"),a.Na.add(b))}function Pmh(a,b){var c=UJ(a.H),d=KI(a.D);d&&c&&b&&(d=qI(d,b.y,b.x)||ln(b),d=eXe(c,d,"waffle-docos-target-cell-rect"),iP(c.V,"discussions",d,!0),a.Pa.add(d),d.setVisible(!0),d.getElement()&&a.Ha.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.zk=b;c.dispatchEvent(e)}))}
function Mmh(a){Jmh(a);var b={};a.J.forEach(function(c){c=xS(Xmh(c));var d=c.x+"-"+c.y;b[d]||(Pmh(a,c),b[d]=!0)})}function Nmh(a){Kmh(a);var b=KI(a.D),c=UJ(a.H);if(b&&c){var d=c.R;c=c.F;b=iL(a.V,b);var e=Nyc(c,"r"),f=LN(c,"r"),h=Nyc(c,"c"),k=LN(c,"c");Vc(U$g(b),function(l){l=xS(l);l.x>=h&&l.x<=k&&Wmh(a,d.eb.getElement(GN(d,"ch-",null,d.gb.JG(l.x))));l.y>=e&&l.y<=f&&Wmh(a,d.eb.getElement(GN(d,"rh-",d.gb.I3(l.y),null)))})}}m.dHb=function(){Fmh(this)};
function Fmh(a){Vc(Td(a.V.C),function(b){var c=zah(a.D,b);if(c){var d=iL(a.V,c);c=a.Ja;d=U$g(d).length;Y$g(kXe(c,b),d);EQ(c)}})}m.Evb=function(a){if(a.C){var b=this.R.ob(a.C);aah(this.F,b,Vmh(this,a.cell))}};
function Cmh(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.ob(k);var n=a;if(UJ(n.H)&&Rmh(n,k)){var q=xS(k);Ymh(n,Smh(n,q))?(q=n.C.D,q=!!q&&n.R.ob(q)==n.R.ob(k),n=n.C.C||q||fd(n.C.F.Ad(),k)):n=!1}else n=!1;n?(n=xS(k),n=Smh(a,n),q=ATe(n),e[q]=e[q]||0,d[l]=Vmh(a,Gn(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||Lmh(a,!0);Yd(d)||(b=a.F,b.C.updateDocoPositions($$g(b,d)));y4(a.F)||Emh(a,f);c&&Zmh(a)}
function Emh(a,b){var c=a.J.Hw(new wmh(b));if(!c.isEmpty()){a.J.Fc(c);b=a.F;c=Td(c.C);for(var d=[],e=0;e<c.length;e++)d.push(vR(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&Lmh(a,!1)}
function Vmh(a,b,c){c=void 0===c?0:c;var d=UJ(a.H),e=KI(a.D),f=d.D,h=f.Ib(),k=Smh(a,b),l=XM(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Rm(a.C.H,b),w=aJ(QI(e,b));q||r||!w?(b=n+(a.Ca?150:125),0<b-Fsc(f)&&(e=pI(e,"r")-1,aO(f,b,"r","waffle")>=e&&(n-=50))):(q=gRc(d),r=q.L,jRc(d,Gn(lJ(e,ln(b))),q,q.Oa),e=q.H.height?q.Na:0,b=q.J.height,d=Math.min(Qsc.height,e+b),b&&(d=d+42+Rsc.top,d+=Rsc.bottom),e&&(d=d+12+Rsc.top,d+=Rsc.bottom),e=d,bsc(q,r),n+=e);a=a.Ca?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>Esc(f);l=h?c>Esc(f):0>c;a&&!l&&(k=c);return new Qm(h?UM(f,k,"c"):k,n)}function Rmh(a,b){b=Aah(a.D,b);a=KI(a.D);return!!b&&b==a}function Ymh(a,b){if(!b)return!1;var c=UJ(a.H).F,d=!1,e=Gn(b);EBa(b,function(f,h){var k;if(k=f==e.y)k=null!=Myc(c,new Qm(h,f));return k?d=!0:!1});return d}m.R_b=function(){zmh(this)};
function zmh(a){var b=UJ(a.H);b&&(a.$a.appendChild(b.Tj,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Ib()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function Lmh(a,b){var c=oYe(a.O);c="string"===typeof c?1:c;hx(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Qf(a.L),P(a.O,b)):a.L&&Oy(a.L)&&a.Oa==d||(Qf(a.L),P(a.O,!0),a.L=new GB(a.O,c,"in"==d?1:0,250),a.Oa=d,"out"==d&&No(a.L,"finish",function(){Bmh(a,!0);var e=UJ(a.H);e&&dP(e)}),a.L.play())}
function Zmh(a){a.J.forEach(function(b){var c=a.R.ob(b),d=a.F.getDocoMaxHeight(c);b=Xmh(b);b=xS(b);b=Vmh(a,b);var e=UJ(a.H),f=e.D,h=e.$d;h=h.NQ(h.DW()-1);var k=KI(a.D).V.y;e=LN(e.F,"r");f=aN(f,new cn(k,e),"r");f+=h;h=VN(UJ(a.H).D,"c");b=Tl(f-(b.y-h),a.Ca?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(vR(d.D,c),b))})}function Xmh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ia=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.$a;delete this.Oa;delete this.Ha;delete this.D;delete this.Va;Qf(this.L);delete this.L;Jmh(this);Imh(this);Kmh(this);Vo.prototype.Ia.call(this)};function $mh(){GJ.apply(this,arguments)}t($mh,GJ);m=$mh.prototype;m.e6b=function(a,b,c,d,e,f){return new oah(a,b,c,d,e,void 0,f,OD)};m.Rlb=function(){return Jah};m.Slb=function(){return uah};m.Tlb=function(){return ymh};m.Q0b=function(){return ptf()};KJ("docos",$mh);
